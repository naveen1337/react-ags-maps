{"version":3,"sources":["webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/layers/support/WMSSublayer.js","webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/layers/support/wmsUtils.js","webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/layers/WMSLayer.js"],"names":["_u","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","_s","u","_super","_this","_sublayersHandles","dimensions","fullExtents","featureInfoFormat","featureInfoUrl","legendUrl","legendEnabled","maxScale","minScale","popupEnabled","queryable","spatialReferences","key","get","_get","set","_set","value","t","extent","fromJSON","legendURL","sublayers","forEach","layer","_this2","removeAll","parent","add","on","_ref","item","_ref2","ofType","_setAndNotifyLayer","hasOwnProperty","description","fullExtent","clone","map","name","visible","title","r","emit","propertyName","id","readOnly","type","Number","json","write","enabled","overridePolicy","ignoreOrigin","String","origins","read","source","target","84","83","27","n","idCounter","DOMParser","parseFromString","i","documentElement","nodeName","_t","Array","slice","childNodes","textContent","join","a","s","o","l","w","M","O","C","getAttribute","m","f","p","x","parseInt","b","E","S","I","F","push","T","length","_e","toJSON","_e2","R","v","_e3","indexOf","_e4","V","concat","_","U","q","B","reduce","D","filter","L","k","_e5","POSITIVE_INFINITY","_t2","NEGATIVE_INFINITY","isArray","Date","Math","min","getTime","max","startTimeField","endTimeField","trackIdField","timeExtent","copyright","mapUrl","maxWidth","maxHeight","layers","supportedImageFormatTypes","timeInfo","version","some","_n","_r","_r2","_i","c","parseFloat","isNaN","MAX_VALUE","d","wkid","xmin","ymin","xmax","ymax","spatialReference","_e6","_t3","_e7","_t4","substring","_n3","query","toLowerCase","path","parentLayerId","N","_n2","_r4","_r3","_i2","_a","split","_r5","_t5","_e8","test","units","default","multipleValues","nearestValue","current","unitSymbol","nodeType","Node","ELEMENT_NODE","resolution","match","years","months","days","hours","minutes","seconds","replace","toISOString","Set","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","getOwnPropertyDescriptors","defineProperties","defineProperty","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","minLen","_arrayLikeToArray","toString","from","_unsupportedIterableToArray","done","TypeError","err","normalCompletion","didErr","step","next","return","arr","len","arr2","bmp","gif","jpg","png","svg","ignoreUnknown","A","_fetchService2","_fetchImage","_len","_key","allSublayers","getCollections","getChildrenFunction","customParameters","customLayerParameters","imageFormat","imageMaxHeight","imageMaxWidth","imageTransparency","isReference","operationalLayerType","url","watch","_step","_iterator","handles","remove","_step2","_iterator2","signal","addResolvingPromise","loadFromPortal","supportedTypes","catch","then","_fetchService","Promise","resolve","unshift","G","visibleLayers","Map","flatten","_ref3","toArray","has","sublayer","sublayerIds","pixelRatio","width","scale","y","includes","latestWkid","find","bbox","mark","_callee","wrap","_context","prev","createExportImageParameters","document","createElement","abrupt","height","start","end","responseType","_mixCustomParameters","time","timestamp","_ts","data","stop","_x","_x2","_x3","_x4","visibleSublayers","J","query_layers","request","info_format","feature_count","h","src","frameBorder","marginHeight","marginWidth","style","setAttribute","g","content","sourceLayer","popupTemplate","WebMercator","_callee2","_context2","resourceInfo","parsedUrl","service","SERVICE","REQUEST","sent","scheme","port","httpsDomains","host","origin","_x5","every","_step3","_iterator3","_step4","_iterator4","jsonValues","reader","writer"],"mappings":"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","file":"138-1b0c2882af297d4914ec.js","sourcesContent":["import _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport t from \"../../core/Collection.js\";\nimport r from \"../../core/Handles.js\";\nimport { MultiOriginJSONSupport as s } from \"../../core/MultiOriginJSONSupport.js\";\nimport { property as l } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport { cast as o } from \"../../core/accessorSupport/decorators/cast.js\";\nimport \"../../core/Logger.js\";\nimport { reader as i } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as n } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { ensureType as a } from \"../../core/accessorSupport/ensureType.js\";\nimport p from \"../../geometry/Extent.js\";\n\nvar _u;\n\nvar y = 0,\n    d = _u = /*#__PURE__*/function (_s) {\n  _inherits(u, _s);\n\n  var _super = _createSuper(u);\n\n  function u(e) {\n    var _this;\n\n    _classCallCheck(this, u);\n\n    _this = _super.call(this, e), _this._sublayersHandles = new r(), _this.dimensions = null, _this.fullExtents = null, _this.featureInfoFormat = null, _this.featureInfoUrl = null, _this.legendUrl = null, _this.legendEnabled = !0, _this.maxScale = 0, _this.minScale = 0, _this.popupEnabled = !1, _this.queryable = !1, _this.spatialReferences = null;\n    return _this;\n  }\n\n  _createClass(u, [{\n    key: \"description\",\n    get: function get() {\n      return this._get(\"description\");\n    },\n    set: function set(e) {\n      this._set(\"description\", e);\n    }\n  }, {\n    key: \"fullExtent\",\n    get: function get() {\n      return this._get(\"fullExtent\");\n    },\n    set: function set(e) {\n      this._set(\"fullExtent\", e);\n    }\n  }, {\n    key: \"readExtent\",\n    value: function readExtent(e, t) {\n      return (e = t.extent) ? p.fromJSON(e) : null;\n    }\n  }, {\n    key: \"id\",\n    get: function get() {\n      var e = this._get(\"id\");\n\n      return null == e ? y++ : e;\n    },\n    set: function set(e) {\n      this._set(\"id\", e);\n    }\n  }, {\n    key: \"readLegendUrl\",\n    value: function readLegendUrl(e, t) {\n      return t ? t.legendUrl || t.legendURL : null;\n    }\n  }, {\n    key: \"layer\",\n    set: function set(e) {\n      this._set(\"layer\", e), this.sublayers && this.sublayers.forEach(function (t) {\n        return t.layer = e;\n      });\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return this._get(\"name\");\n    },\n    set: function set(e) {\n      this._set(\"name\", e);\n    }\n  }, {\n    key: \"sublayers\",\n    set: function set(e) {\n      var _this2 = this;\n\n      var t = this._get(\"sublayers\");\n\n      t && (t.forEach(function (e) {\n        e.layer = null;\n      }), this._sublayersHandles.removeAll(), this._sublayersHandles = null), e && (e.forEach(function (e) {\n        e.parent = _this2, e.layer = _this2.layer;\n      }), this._sublayersHandles.add([e.on(\"after-add\", function (_ref) {\n        var e = _ref.item;\n        e.parent = _this2, e.layer = _this2.layer;\n      }), e.on(\"after-remove\", function (_ref2) {\n        var e = _ref2.item;\n        e.parent = null, e.layer = null;\n      })])), this._set(\"sublayers\", e);\n    }\n  }, {\n    key: \"castSublayers\",\n    value: function castSublayers(e) {\n      return a(t.ofType(_u), e);\n    }\n  }, {\n    key: \"title\",\n    get: function get() {\n      return this._get(\"title\");\n    },\n    set: function set(e) {\n      this._set(\"title\", e);\n    }\n  }, {\n    key: \"visible\",\n    get: function get() {\n      return this._get(\"visible\");\n    },\n    set: function set(e) {\n      this._setAndNotifyLayer(\"visible\", e);\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var e = new _u();\n      return this.hasOwnProperty(\"description\") && (e.description = this.description), this.hasOwnProperty(\"fullExtent\") && (e.fullExtent = this.fullExtent.clone()), this.hasOwnProperty(\"fullExtents\") && (e.fullExtents = this.fullExtents.map(function (e) {\n        return e.clone();\n      })), this.hasOwnProperty(\"featureInfoFormat\") && (e.featureInfoFormat = this.featureInfoFormat), this.hasOwnProperty(\"featureInfoUrl\") && (e.featureInfoUrl = this.featureInfoUrl), this.hasOwnProperty(\"legendUrl\") && (e.legendUrl = this.legendUrl), this.hasOwnProperty(\"legendEnabled\") && (e.legendEnabled = this.legendEnabled), this.hasOwnProperty(\"layer\") && (e.layer = this.layer), this.hasOwnProperty(\"name\") && (e.name = this.name), this.hasOwnProperty(\"parent\") && (e.parent = this.parent), this.hasOwnProperty(\"queryable\") && (e.queryable = this.queryable), this.hasOwnProperty(\"sublayers\") && (e.sublayers = this.sublayers && this.sublayers.map(function (e) {\n        return e.clone();\n      })), this.hasOwnProperty(\"spatialReferences\") && (e.spatialReferences = this.spatialReferences.map(function (e) {\n        return e;\n      })), this.hasOwnProperty(\"visible\") && (e.visible = this.visible), this.hasOwnProperty(\"title\") && (e.title = this.title), e;\n    }\n  }, {\n    key: \"_setAndNotifyLayer\",\n    value: function _setAndNotifyLayer(e, t) {\n      var r = this.layer;\n      this._get(e) !== t && (this._set(e, t), r && r.emit(\"wms-sublayer-update\", {\n        propertyName: e,\n        id: this.id\n      }));\n    }\n  }]);\n\n  return u;\n}(s);\n\ne([l()], d.prototype, \"description\", null), e([l({\n  readOnly: !0\n})], d.prototype, \"dimensions\", void 0), e([l({\n  value: null\n})], d.prototype, \"fullExtent\", null), e([i(\"fullExtent\", [\"extent\"])], d.prototype, \"readExtent\", null), e([l()], d.prototype, \"fullExtents\", void 0), e([l()], d.prototype, \"featureInfoFormat\", void 0), e([l()], d.prototype, \"featureInfoUrl\", void 0), e([l({\n  type: Number,\n  json: {\n    write: {\n      enabled: !1,\n      overridePolicy: function overridePolicy() {\n        return {\n          ignoreOrigin: !0,\n          enabled: !0\n        };\n      }\n    }\n  }\n})], d.prototype, \"id\", null), e([l({\n  type: String,\n  json: {\n    origins: {\n      \"web-document\": {\n        read: {\n          source: [\"legendUrl\", \"legendURL\"]\n        },\n        write: {\n          target: \"legendUrl\",\n          ignoreOrigin: !0\n        }\n      }\n    },\n    read: {\n      source: \"legendURL\"\n    },\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], d.prototype, \"legendUrl\", void 0), e([i([\"web-document\"], \"legendUrl\")], d.prototype, \"readLegendUrl\", null), e([l({\n  value: !0,\n  type: Boolean,\n  json: {\n    read: {\n      source: \"showLegend\"\n    },\n    write: {\n      target: \"showLegend\"\n    },\n    origins: {\n      \"web-map\": {\n        read: !1,\n        write: !1\n      },\n      \"web-scene\": {\n        read: !1,\n        write: !1\n      }\n    }\n  }\n})], d.prototype, \"legendEnabled\", void 0), e([l({\n  value: null\n})], d.prototype, \"layer\", null), e([l()], d.prototype, \"maxScale\", void 0), e([l()], d.prototype, \"minScale\", void 0), e([l({\n  type: String,\n  value: null,\n  json: {\n    read: {\n      source: \"name\"\n    },\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], d.prototype, \"name\", null), e([l()], d.prototype, \"parent\", void 0), e([l({\n  type: Boolean,\n  json: {\n    read: {\n      source: \"showPopup\"\n    },\n    write: {\n      ignoreOrigin: !0,\n      target: \"showPopup\"\n    }\n  }\n})], d.prototype, \"popupEnabled\", void 0), e([l({\n  type: Boolean,\n  json: {\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], d.prototype, \"queryable\", void 0), e([l()], d.prototype, \"sublayers\", null), e([o(\"sublayers\")], d.prototype, \"castSublayers\", null), e([l({\n  type: [Number],\n  json: {\n    read: {\n      source: \"spatialReferences\"\n    }\n  }\n})], d.prototype, \"spatialReferences\", void 0), e([l({\n  type: String,\n  value: null,\n  json: {\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], d.prototype, \"title\", null), e([l({\n  type: Boolean,\n  value: !0,\n  json: {\n    read: {\n      source: \"defaultVisibility\"\n    }\n  }\n})], d.prototype, \"visible\", null), d = _u = e([n(\"esri.layers.support.WMSSublayer\")], d);\nvar h = d;\nexport default h;","import _slicedToArray from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport { isNone as t } from \"../../core/maybe.js\";\nimport { urlToObject as n } from \"../../core/urlUtils.js\";\nimport r from \"../../geometry/Extent.js\";\nimport i from \"../../geometry/SpatialReference.js\";\nvar a = [[4001, 4999], [2044, 2045], [2081, 2083], [2085, 2086], [2093, 2093], [2096, 2098], [2105, 2132], [2169, 2170], [2176, 2180], [2193, 2193], [2200, 2200], [2206, 2212], [2319, 2319], [2320, 2462], [2523, 2549], [2551, 2735], [2738, 2758], [2935, 2941], [2953, 2953], [3006, 3030], [3034, 3035], [3058, 3059], [3068, 3068], [3114, 3118], [3126, 3138], [3300, 3301], [3328, 3335], [3346, 3346], [3350, 3352], [3366, 3366], [3416, 3416], [20004, 20032], [20064, 20092], [21413, 21423], [21473, 21483], [21896, 21899], [22171, 22177], [22181, 22187], [22191, 22197], [25884, 25884], [27205, 27232], [27391, 27398], [27492, 27492], [28402, 28432], [28462, 28492], [30161, 30179], [30800, 30800], [31251, 31259], [31275, 31279], [31281, 31290], [31466, 31700]],\n    s = {\n  84: 4326,\n  83: 4269,\n  27: 4267\n};\n\nfunction o(t) {\n  if (!t) return null;\n  var n = {\n    idCounter: -1\n  };\n\n  if (\"string\" == typeof t) {\n    t = new DOMParser().parseFromString(t, \"text/xml\");\n  }\n\n  var i = t.documentElement;\n\n  if (\"ServiceExceptionReport\" === i.nodeName) {\n    var _t = Array.prototype.slice.call(i.childNodes).map(function (e) {\n      return e.textContent;\n    }).join(\"\\r\\n\");\n\n    throw new e(\"wmslayer:wms-capabilities-xml-is-not-valid\", \"The server returned errors when the WMS capabilities were requested.\", _t);\n  }\n\n  var a = d(\"Capability\", i),\n      s = d(\"Service\", i),\n      o = d(\"Request\", a);\n  if (!a || !s || !o) return null;\n  var l = d(\"Layer\", a);\n  if (!l) return null;\n  var u = \"WMS_Capabilities\" === i.nodeName || \"WMT_MS_Capabilities\" === i.nodeName ? i.getAttribute(\"version\") : \"1.3.0\",\n      m = h(\"Title\", s, \"\") || h(\"Name\", s, \"\"),\n      f = h(\"AccessConstraints\", s, \"\"),\n      p = h(\"Abstract\", s, \"\"),\n      x = parseInt(h(\"MaxWidth\", s, \"5000\"), 10),\n      b = parseInt(h(\"MaxHeight\", s, \"5000\"), 10),\n      E = g(o, \"GetMap\"),\n      S = N(o, \"GetMap\"),\n      I = y(l, u, n);\n  var w,\n      F = 0;\n  if (Array.prototype.slice.call(a.childNodes).forEach(function (e) {\n    \"Layer\" === e.nodeName && (0 === F ? w = e : 1 === F ? (I.name && (I.name = \"\", I.sublayers.push(y(w, u, n))), I.sublayers.push(y(e, u, n))) : I.sublayers.push(y(e, u, n)), F++);\n  }), !I) return null;\n  var M, O, C;\n  var T = I.fullExtents;\n\n  if (M = I.sublayers, M || (M = []), 0 === M.length && M.push(I), O = I.extent, !O) {\n    var _e = new r(M[0].extent);\n\n    I.extent = _e.toJSON(), O = I.extent;\n  }\n\n  if (C = I.spatialReferences, !C.length && M.length > 0) {\n    var _e2 = function _e2(t) {\n      var n = [];\n      return t.sublayers.forEach(function (t) {\n        !n.length && t.spatialReferences.length && (n = t.spatialReferences || _e2(t));\n      }), n;\n    };\n\n    M.forEach(function (t) {\n      C.length || (C = t.spatialReferences || _e2(t));\n    });\n  }\n\n  var v = N(o, \"GetFeatureInfo\");\n  var R;\n\n  if (v) {\n    var _e3 = g(o, \"GetFeatureInfo\");\n\n    _e3.indexOf(\"text/html\") > -1 ? R = \"text/html\" : _e3.indexOf(\"text/plain\") > -1 && (R = \"text/plain\");\n  }\n\n  if (!R) {\n    var _e4 = function _e4(t) {\n      t && (t.queryable = !1, t.sublayers && t.sublayers.forEach(function (t) {\n        _e4(t);\n      }));\n    };\n\n    _e4(I);\n  }\n\n  var V = c(M),\n      _ = I.minScale || 0,\n      U = I.maxScale || 0,\n      q = I.dimensions,\n      B = V.reduce(function (e, t) {\n    return e.concat(t.dimensions);\n  }, []),\n      D = q.concat(B).filter(L);\n\n  var k = null;\n\n  if (D.length > 0) {\n    var _e5 = Number.POSITIVE_INFINITY,\n        _t2 = Number.NEGATIVE_INFINITY;\n    D.forEach(function (n) {\n      var r = n.extent;\n      A(r) ? r.forEach(function (n) {\n        _e5 = Math.min(_e5, n.getTime()), _t2 = Math.max(_t2, n.getTime());\n      }) : r.forEach(function (n) {\n        _e5 = Math.min(_e5, n.min.getTime()), _t2 = Math.max(_t2, n.max.getTime());\n      });\n    }), k = {\n      startTimeField: null,\n      endTimeField: null,\n      trackIdField: null,\n      timeExtent: [_e5, _t2]\n    };\n  }\n\n  return {\n    copyright: f,\n    description: p,\n    dimensions: q,\n    extent: O,\n    fullExtents: T,\n    featureInfoFormat: R,\n    featureInfoUrl: v,\n    mapUrl: S,\n    maxWidth: x,\n    maxHeight: b,\n    maxScale: U,\n    minScale: _,\n    layers: V,\n    spatialReferences: C,\n    supportedImageFormatTypes: E,\n    timeInfo: k,\n    title: m,\n    version: u\n  };\n}\n\nfunction l(e) {\n  return a.some(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        t = _ref2[0],\n        n = _ref2[1];\n\n    return e >= t && e <= n;\n  });\n}\n\nfunction u(e) {\n  return e.length ? e.filter(function (e) {\n    return e.popupEnabled && e.name && e.queryable;\n  }).map(function (e) {\n    return e.name;\n  }).join(\",\") : \"\";\n}\n\nfunction c(e) {\n  var t = [];\n  return e.forEach(function (e) {\n    t.push(e), e.sublayers && e.sublayers.length && (t = t.concat(c(e.sublayers)), delete e.sublayers);\n  }), t;\n}\n\nfunction m(e, t, n) {\n  var r;\n  return null != (r = t.getAttribute(e)) ? r : n;\n}\n\nfunction f(e, t, n, r) {\n  var i = d(e, n);\n  return i ? m(t, i, r) : r;\n}\n\nfunction d(e, t) {\n  for (var _n = 0; _n < t.childNodes.length; _n++) {\n    var _r = t.childNodes[_n];\n    if (E(_r) && _r.nodeName === e) return _r;\n  }\n\n  return null;\n}\n\nfunction p(e, t) {\n  var n = [];\n\n  for (var _r2 = 0; _r2 < t.childNodes.length; _r2++) {\n    var _i = t.childNodes[_r2];\n    E(_i) && _i.nodeName === e && n.push(_i);\n  }\n\n  return n;\n}\n\nfunction h(e, t, n) {\n  var r = d(e, t);\n  return r ? r.textContent : n;\n}\n\nfunction x(e, t, n) {\n  if (!e) return null;\n  var a = parseFloat(e.getAttribute(\"minx\")),\n      s = parseFloat(e.getAttribute(\"miny\")),\n      o = parseFloat(e.getAttribute(\"maxx\")),\n      l = parseFloat(e.getAttribute(\"maxy\"));\n  var u, c, m, f;\n  n ? (u = isNaN(s) ? -Number.MAX_VALUE : s, c = isNaN(a) ? -Number.MAX_VALUE : a, m = isNaN(l) ? Number.MAX_VALUE : l, f = isNaN(o) ? Number.MAX_VALUE : o) : (u = isNaN(a) ? -Number.MAX_VALUE : a, c = isNaN(s) ? -Number.MAX_VALUE : s, m = isNaN(o) ? Number.MAX_VALUE : o, f = isNaN(l) ? Number.MAX_VALUE : l);\n  var d = new i({\n    wkid: t\n  });\n  return new r({\n    xmin: u,\n    ymin: c,\n    xmax: m,\n    ymax: f,\n    spatialReference: d\n  });\n}\n\nfunction N(e, t) {\n  var n = d(t, e);\n\n  if (n) {\n    var _e6 = d(\"DCPType\", n);\n\n    if (_e6) {\n      var _t3 = d(\"HTTP\", _e6);\n\n      if (_t3) {\n        var _e7 = d(\"Get\", _t3);\n\n        if (_e7) {\n          var _t4 = f(\"OnlineResource\", \"xlink:href\", _e7, null);\n\n          if (_t4) return _t4.indexOf(\"&\") === _t4.length - 1 && (_t4 = _t4.substring(0, _t4.length - 1)), F(_t4, [\"service\", \"request\"]);\n        }\n      }\n    }\n  }\n\n  return null;\n}\n\nfunction g(e, t) {\n  var n = p(\"Operation\", e);\n\n  if (0 === n.length) {\n    return p(\"Format\", d(t, e)).map(function (e) {\n      return e.textContent;\n    });\n  }\n\n  var r = [];\n  return n.forEach(function (e) {\n    if (e.getAttribute(\"name\") === t) {\n      p(\"Format\", e).forEach(function (e) {\n        r.push(e.textContent);\n      });\n    }\n  }), r;\n}\n\nfunction b(e, t, n) {\n  var r = d(t, e);\n  if (!r) return n;\n  var i = r.textContent;\n  if (null == i || \"\" === i) return n;\n  var a = Number(i);\n  return isNaN(a) ? n : a;\n}\n\nfunction y(e, t, n) {\n  var a;\n  if (!e) return null;\n  var o = {\n    id: n.idCounter++,\n    fullExtents: [],\n    parentLayerId: null,\n    queryable: \"1\" === e.getAttribute(\"queryable\"),\n    spatialReferences: [],\n    sublayers: null\n  },\n      u = d(\"LatLonBoundingBox\", e),\n      c = d(\"EX_GeographicBoundingBox\", e);\n  var f = null;\n  u && (f = x(u, 4326)), c && (f = new r(0, 0, 0, 0, new i({\n    wkid: 4326\n  })), f.xmin = parseFloat(h(\"westBoundLongitude\", c, \"0\")), f.ymin = parseFloat(h(\"southBoundLatitude\", c, \"0\")), f.xmax = parseFloat(h(\"eastBoundLongitude\", c, \"0\")), f.ymax = parseFloat(h(\"northBoundLatitude\", c, \"0\"))), u || c || (f = new r(-180, -90, 180, 90, new i({\n    wkid: 4326\n  }))), o.minScale = b(e, \"MaxScaleDenominator\", 0), o.maxScale = b(e, \"MinScaleDenominator\", 0);\n  var N = [\"1.0.0\", \"1.1.0\", \"1.1.1\"].indexOf(t) > -1 ? \"SRS\" : \"CRS\";\n  return Array.prototype.slice.call(e.childNodes).forEach(function (e) {\n    if (\"Name\" === e.nodeName) o.name = e.textContent || \"\";else if (\"Title\" === e.nodeName) o.title = e.textContent || \"\";else if (\"Abstract\" === e.nodeName) o.description = e.textContent || \"\";else if (\"BoundingBox\" === e.nodeName) {\n      var _n2 = e.getAttribute(N);\n\n      if (_n2 && 0 === _n2.indexOf(\"EPSG:\")) {\n        var _r4 = parseInt(_n2.substring(5), 10);\n\n        0 === _r4 || isNaN(_r4) || f || (f = \"1.3.0\" === t ? x(e, _r4, l(_r4)) : x(e, _r4));\n      }\n\n      var _r3 = _n2 && _n2.indexOf(\":\");\n\n      if (_r3 && _r3 > -1) {\n        var _i2 = parseInt(_n2.substring(_r3 + 1, _n2.length), 10);\n\n        0 === _i2 || isNaN(_i2) || (_i2 = s[_i2] ? s[_i2] : _i2);\n\n        var _a = \"1.3.0\" === t ? x(e, _i2, l(_i2)) : x(e, _i2);\n\n        o.fullExtents.push(_a);\n      }\n    } else if (e.nodeName === N) {\n      e.textContent.split(\" \").forEach(function (e) {\n        0 === (e = e.indexOf(\":\") > -1 ? parseInt(e.split(\":\")[1], 10) : parseInt(e, 10)) || isNaN(e) || (s[e] && (e = s[e]), -1 === o.spatialReferences.indexOf(e) && o.spatialReferences.push(e));\n      });\n    } else if (\"Style\" !== e.nodeName || o.legendURL) {\n      if (\"Layer\" === e.nodeName) {\n        var _r5 = y(e, t, n);\n\n        _r5 && (_r5.parentLayerId = o.id, o.sublayers || (o.sublayers = []), o.sublayers.push(_r5));\n      }\n    } else {\n      var _t5 = d(\"LegendURL\", e);\n\n      if (_t5) {\n        var _e8 = d(\"OnlineResource\", _t5);\n\n        _e8 && (o.legendURL = _e8.getAttribute(\"xlink:href\"));\n      }\n    }\n  }), o.extent = null == (a = f) ? void 0 : a.toJSON(), o.dimensions = p(\"Dimension\", e).filter(function (e) {\n    return e.getAttribute(\"name\") && e.getAttribute(\"units\") && e.textContent;\n  }).map(function (e) {\n    var t = e.getAttribute(\"name\"),\n        n = e.getAttribute(\"units\"),\n        r = e.textContent,\n        i = e.getAttribute(\"unitSymbol\"),\n        a = e.getAttribute(\"default\"),\n        s = \"0\" !== m(\"default\", e, \"0\"),\n        o = \"0\" !== m(\"nearestValue\", e, \"0\"),\n        l = \"0\" !== m(\"current\", e, \"0\");\n\n    if (/^time$/i.test(t) && /^ISO8601$/i.test(n)) {\n      return {\n        name: \"time\",\n        units: \"ISO8601\",\n        extent: C(r),\n        default: C(a),\n        multipleValues: s,\n        nearestValue: o,\n        current: l\n      };\n    }\n\n    if (/^elevation$/i.test(t)) {\n      return {\n        name: \"elevation\",\n        units: n,\n        extent: M(r),\n        unitSymbol: i,\n        default: M(a),\n        multipleValues: s,\n        nearestValue: o\n      };\n    }\n\n    return {\n      name: t,\n      units: n,\n      extent: O(r),\n      unitSymbol: i,\n      default: O(a),\n      multipleValues: s,\n      nearestValue: o\n    };\n  }), o;\n}\n\nfunction A(e) {\n  return Array.isArray(e) && e.length > 0 && e[0] instanceof Date;\n}\n\nfunction E(e) {\n  return e.nodeType === Node.ELEMENT_NODE;\n}\n\nfunction S(e) {\n  return void 0 !== e.min && void 0 !== e.max;\n}\n\nfunction I(e) {\n  return \"elevation\" === e.name;\n}\n\nfunction w(e) {\n  return \"time\" !== e.name && \"elevation\" !== e.name;\n}\n\nfunction L(e) {\n  return \"time\" === e.name;\n}\n\nfunction F(e, t) {\n  var r = [],\n      i = n(e);\n\n  for (var _n3 in i.query) {\n    i.query.hasOwnProperty(_n3) && -1 === t.indexOf(_n3.toLowerCase()) && r.push(_n3 + \"=\" + i.query[_n3]);\n  }\n\n  return i.path + (r.length ? \"?\" + r.join(\"&\") : \"\");\n}\n\nfunction M(e) {\n  if (!e) return null;\n  var t = -1 !== e.indexOf(\"/\"),\n      n = e.split(\",\");\n  return t ? n.map(function (e) {\n    var t = e.split(\"/\");\n    if (t.length < 2) return null;\n    return {\n      min: parseFloat(t[0]),\n      max: parseFloat(t[1]),\n      resolution: t.length >= 3 && \"0\" !== t[2] ? parseFloat(t[2]) : void 0\n    };\n  }).filter(function (e) {\n    return e;\n  }) : n.map(function (e) {\n    return parseFloat(e);\n  });\n}\n\nfunction O(e) {\n  if (!e) return null;\n  var t = -1 !== e.indexOf(\"/\"),\n      n = e.split(\",\");\n  return t ? n.map(function (e) {\n    var t = e.split(\"/\");\n    if (t.length < 2) return null;\n    return {\n      min: t[0],\n      max: t[1],\n      resolution: t.length >= 3 && \"0\" !== t[2] ? t[2] : void 0\n    };\n  }).filter(function (e) {\n    return e;\n  }) : n;\n}\n\nfunction C(e) {\n  if (!e) return null;\n  var t = -1 !== e.indexOf(\"/\"),\n      n = e.split(\",\");\n  return t ? n.map(function (e) {\n    var t = e.split(\"/\");\n    if (t.length < 2) return null;\n    return {\n      min: new Date(t[0]),\n      max: new Date(t[1]),\n      resolution: t.length >= 3 && \"0\" !== t[2] ? T(t[2]) : void 0\n    };\n  }).filter(function (e) {\n    return e;\n  }) : n.map(function (e) {\n    return new Date(e);\n  });\n}\n\nfunction T(e) {\n  var t = /(?:p(\\d+y|\\d+(?:.|,)\\d+y)?(\\d+m|\\d+(?:.|,)\\d+m)?(\\d+d|\\d+(?:.|,)\\d+d)?)?(?:t(\\d+h|\\d+(?:.|,)\\d+h)?(\\d+m|\\d+(?:.|,)\\d+m)?(\\d+s|\\d+(?:.|,)\\d+s)?)?/i,\n      n = e.match(t);\n  if (!n) return null;\n  return {\n    years: v(n[1]),\n    months: v(n[2]),\n    days: v(n[3]),\n    hours: v(n[4]),\n    minutes: v(n[5]),\n    seconds: v(n[6])\n  };\n}\n\nfunction v(e) {\n  if (!e) return 0;\n  var t = /(?:\\d+(?:.|,)\\d+|\\d+)/,\n      n = e.match(t);\n  if (!n) return 0;\n  var r = n[0].replace(\",\", \".\");\n  return Number(r);\n}\n\nfunction R(e) {\n  return e.toISOString().replace(/\\.[0-9]{3}/, \"\");\n}\n\nvar V = new Set([102100, 3857, 102113, 900913]),\n    _ = new Set([3395, 54004]);\n\nfunction U(e, n) {\n  var r = e.wkid;\n  return t(n) ? r : (!n.includes(r) && e.latestWkid && (r = e.latestWkid), V.has(r) ? n.find(function (e) {\n    return V.has(e);\n  }) || n.find(function (e) {\n    return _.has(e);\n  }) || 102100 : r);\n}\n\nexport { l as coordsReversedForWKID, T as fromISODuration, u as getPopupLayers, S as isDimensionInterval, I as isElevationDimension, w as isGenericDimension, L as isTimeDimension, U as normalizeWKID, o as parseCapabilities, R as toISOString };","import _asyncToGenerator from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _regeneratorRuntime from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e6) { throw _e6; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e7) { didErr = true; err = _e7; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport r from \"../config.js\";\nimport t from \"../Graphic.js\";\nimport s from \"../PopupTemplate.js\";\nimport o from \"../request.js\";\nimport i from \"../core/Collection.js\";\nimport a from \"../core/CollectionFlattener.js\";\nimport { HandleOwnerMixin as n } from \"../core/HandleOwner.js\";\nimport { JSONMap as l } from \"../core/jsonMap.js\";\nimport { clone as p } from \"../core/lang.js\";\nimport { isSome as m } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as u } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as y } from \"../core/promiseUtils.js\";\nimport { addQueryParameters as c, Url as d } from \"../core/urlUtils.js\";\nimport { property as f } from \"../core/accessorSupport/decorators/property.js\";\nimport { Integer as h } from \"../core/accessorSupport/ensureType.js\";\nimport \"../core/has.js\";\nimport \"../core/Logger.js\";\nimport { reader as g } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as b } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as x } from \"../core/accessorSupport/decorators/writer.js\";\nimport { willPropertyWrite as w } from \"../core/accessorSupport/write.js\";\nimport v from \"../geometry/Extent.js\";\nimport j from \"../geometry/SpatialReference.js\";\nimport { getScale as S } from \"../geometry/support/scaleUtils.js\";\nimport { equals as I } from \"../geometry/support/spatialReferenceUtils.js\";\nimport R from \"./Layer.js\";\nimport { BlendLayer as E } from \"./mixins/BlendLayer.js\";\nimport { OperationalLayer as U } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as L } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as F } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as O } from \"./mixins/ScaleRangeLayer.js\";\nimport { TemporalLayer as P } from \"./mixins/TemporalLayer.js\";\nimport { isWmsServer as q } from \"./support/arcgisLayerUrl.js\";\nimport { legendEnabled as M, url as T } from \"./support/commonProperties.js\";\nimport { ExportWMSImageParameters as W } from \"./support/ExportWMSImageParameters.js\";\nimport C from \"./support/WMSSublayer.js\";\nimport { normalizeWKID as $, coordsReversedForWKID as _, toISOString as N, getPopupLayers as H, parseCapabilities as B } from \"./support/wmsUtils.js\";\nvar k = new l({\n  bmp: \"image/bmp\",\n  gif: \"image/gif\",\n  jpg: \"image/jpeg\",\n  png: \"image/png\",\n  svg: \"image/svg+xml\"\n}, {\n  ignoreUnknown: !1\n});\n\nvar A = /*#__PURE__*/function (_n) {\n  _inherits(A, _n);\n\n  var _super = _createSuper(A);\n\n  function A() {\n    var _this;\n\n    _classCallCheck(this, A);\n\n    for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n      e[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(e)), _this.allSublayers = new a({\n      getCollections: function getCollections() {\n        return [_this.sublayers];\n      },\n      getChildrenFunction: function getChildrenFunction(e) {\n        return e.sublayers;\n      }\n    }), _this.customParameters = null, _this.customLayerParameters = null, _this.copyright = null, _this.description = null, _this.dimensions = null, _this.fullExtent = null, _this.fullExtents = null, _this.featureInfoFormat = null, _this.featureInfoUrl = null, _this.imageFormat = null, _this.imageMaxHeight = 2048, _this.imageMaxWidth = 2048, _this.imageTransparency = !0, _this.legendEnabled = !0, _this.mapUrl = null, _this.isReference = null, _this.operationalLayerType = \"WMS\", _this.spatialReference = null, _this.spatialReferences = null, _this.sublayers = null, _this.type = \"wms\", _this.url = null, _this.version = null, _this.watch(\"sublayers\", function (e, r) {\n      if (r) {\n        var _iterator = _createForOfIteratorHelper(r),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _e = _step.value;\n            _e.layer = null;\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        _this.handles.remove(\"wms-sublayer\");\n      }\n\n      if (e) {\n        var _iterator2 = _createForOfIteratorHelper(e),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _r = _step2.value;\n            _r.parent = _assertThisInitialized(_this), _r.layer = _assertThisInitialized(_this);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        _this.handles.add([e.on(\"after-add\", function (_ref) {\n          var e = _ref.item;\n          e.parent = _assertThisInitialized(_this), e.layer = _assertThisInitialized(_this);\n        }), e.on(\"after-remove\", function (_ref2) {\n          var e = _ref2.item;\n          e.parent = null, e.layer = null;\n        })], \"wms-sublayer\");\n      }\n    }, !0);\n    return _this;\n  }\n\n  _createClass(A, [{\n    key: \"normalizeCtorArgs\",\n    value: function normalizeCtorArgs(e, r) {\n      return \"string\" == typeof e ? _objectSpread({\n        url: e\n      }, r) : e;\n    }\n  }, {\n    key: \"load\",\n    value: function load(e) {\n      var _this2 = this;\n\n      var r = m(e) ? e.signal : null;\n      return this.addResolvingPromise(this.loadFromPortal({\n        supportedTypes: [\"WMS\"]\n      }, e).catch(y).then(function () {\n        return _this2._fetchService(r);\n      })), Promise.resolve(this);\n    }\n  }, {\n    key: \"readFullExtentFromItemOrMap\",\n    value: function readFullExtentFromItemOrMap(e, r) {\n      var t = r.extent;\n      return new v({\n        xmin: t[0][0],\n        ymin: t[0][1],\n        xmax: t[1][0],\n        ymax: t[1][1]\n      });\n    }\n  }, {\n    key: \"writeFullExtent\",\n    value: function writeFullExtent(e, r) {\n      r.extent = [[e.xmin, e.ymin], [e.xmax, e.ymax]];\n    }\n  }, {\n    key: \"readImageFormat\",\n    value: function readImageFormat(e, r) {\n      var t = r.supportedImageFormatTypes;\n      return t && t.indexOf(\"image/png\") > -1 ? \"image/png\" : t && t[0];\n    }\n  }, {\n    key: \"readSpatialReferenceFromItemOrDocument\",\n    value: function readSpatialReferenceFromItemOrDocument(e, r) {\n      return new j(r.spatialReferences[0]);\n    }\n  }, {\n    key: \"writeSpatialReferences\",\n    value: function writeSpatialReferences(e, r) {\n      var t = this.spatialReference && this.spatialReference.wkid;\n      e && t ? (r.spatialReferences = e.filter(function (e) {\n        return e !== t;\n      }), r.spatialReferences.unshift(t)) : r.spatialReferences = e;\n    }\n  }, {\n    key: \"readSublayersFromItemOrMap\",\n    value: function readSublayersFromItemOrMap(e, r, t) {\n      return G(r.layers, t, r.visibleLayers);\n    }\n  }, {\n    key: \"readSublayers\",\n    value: function readSublayers(e, r, t) {\n      return G(r.layers, t);\n    }\n  }, {\n    key: \"writeSublayers\",\n    value: function writeSublayers(e, r, t, s) {\n      r.layers = [];\n      var o = new Map(),\n          i = e.flatten(function (_ref3) {\n        var e = _ref3.sublayers;\n        return e && e.toArray();\n      }).toArray();\n      i.forEach(function (e) {\n        \"number\" == typeof e.parent.id && (o.has(e.parent.id) ? o.get(e.parent.id).push(e.id) : o.set(e.parent.id, [e.id]));\n      }), i.forEach(function (e) {\n        var t = _objectSpread({\n          sublayer: e\n        }, s),\n            i = e.write({\n          parentLayerId: \"number\" == typeof e.parent.id ? e.parent.id : -1\n        }, t);\n\n        if (o.has(e.id) && (i.sublayerIds = o.get(e.id)), !e.sublayers && e.name) {\n          var _s = e.write({}, t);\n\n          delete _s.id, r.layers.push(_s);\n        }\n      }), r.visibleLayers = i.filter(function (e) {\n        return e.visible && !e.sublayers;\n      }).map(function (e) {\n        return e.name;\n      });\n    }\n  }, {\n    key: \"createExportImageParameters\",\n    value: function createExportImageParameters(e, r, t, s) {\n      var o = s && s.pixelRatio || 1,\n          i = S({\n        extent: e,\n        width: r\n      }) * o,\n          a = new W({\n        layer: this,\n        scale: i\n      }),\n          n = e.xmin,\n          l = e.ymin,\n          p = e.xmax,\n          m = e.ymax,\n          u = e.spatialReference,\n          y = $(u, this.spatialReferences),\n          c = \"1.3.0\" === this.version && _(y) ? \"\".concat(l, \",\").concat(n, \",\").concat(m, \",\").concat(p) : \"\".concat(n, \",\").concat(l, \",\").concat(p, \",\").concat(m),\n          d = a.toJSON();\n      return _objectSpread(_defineProperty({\n        bbox: c\n      }, \"1.3.0\" === this.version ? \"crs\" : \"srs\", isNaN(y) ? void 0 : \"EPSG:\" + y), d);\n    }\n  }, {\n    key: \"fetchImage\",\n    value: function () {\n      var _fetchImage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e, r, t, s) {\n        var i, a, n, l, _e2, p, u, y, c;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                n = this.mapUrl, l = this.createExportImageParameters(e, r, t, s);\n\n                if (l.layers) {\n                  _context.next = 4;\n                  break;\n                }\n\n                _e2 = document.createElement(\"canvas\");\n                return _context.abrupt(\"return\", (_e2.width = r, _e2.height = t, _e2));\n\n              case 4:\n                p = null == s || null == (i = s.timeExtent) ? void 0 : i.start, u = null == s || null == (a = s.timeExtent) ? void 0 : a.end, y = m(p) && m(u) ? p.getTime() === u.getTime() ? N(p) : \"\".concat(N(p), \"/\").concat(N(u)) : void 0, c = {\n                  responseType: \"image\",\n                  query: this._mixCustomParameters(_objectSpread(_objectSpread({\n                    width: r,\n                    height: t\n                  }, l), {}, {\n                    time: y\n                  })),\n                  signal: null == s ? void 0 : s.signal\n                };\n                return _context.abrupt(\"return\", (null != s && s.timestamp && (c.query = _objectSpread({\n                  _ts: s.timestamp\n                }, c.query)), o(n, c).then(function (e) {\n                  return e.data;\n                })));\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function fetchImage(_x, _x2, _x3, _x4) {\n        return _fetchImage.apply(this, arguments);\n      }\n\n      return fetchImage;\n    }()\n  }, {\n    key: \"fetchFeatureInfo\",\n    value: function fetchFeatureInfo(e, r, o, i, a) {\n      var n = S({\n        extent: e,\n        width: r\n      }),\n          l = new W({\n        layer: this,\n        scale: n\n      }),\n          p = H(l.visibleSublayers);\n      if (!this.featureInfoUrl || !p) return null;\n\n      var m = \"1.3.0\" === this.version ? {\n        I: i,\n        J: a\n      } : {\n        x: i,\n        y: a\n      },\n          u = _objectSpread({\n        query_layers: p,\n        request: \"GetFeatureInfo\",\n        info_format: this.featureInfoFormat,\n        feature_count: 25,\n        width: r,\n        height: o\n      }, m),\n          y = _objectSpread(_objectSpread({}, this.createExportImageParameters(e, r, o)), u),\n          d = this._mixCustomParameters(y),\n          f = c(this.featureInfoUrl, d),\n          h = document.createElement(\"iframe\");\n\n      h.src = f, h.frameBorder = \"0\", h.marginHeight = \"0\", h.marginWidth = \"0\", h.style.width = \"100%\", h.setAttribute(\"sandbox\", \"\");\n      var g = new s({\n        title: this.title,\n        content: h\n      });\n      return new t({\n        sourceLayer: this,\n        popupTemplate: g\n      });\n    }\n  }, {\n    key: \"findSublayerById\",\n    value: function findSublayerById(e) {\n      return this.allSublayers.find(function (r) {\n        return r.id === e;\n      });\n    }\n  }, {\n    key: \"findSublayerByName\",\n    value: function findSublayerByName(e) {\n      return this.allSublayers.find(function (r) {\n        return r.name === e;\n      });\n    }\n  }, {\n    key: \"supportsSpatialReference\",\n    value: function supportsSpatialReference(e) {\n      return q(this.url) || this.spatialReferences.some(function (r) {\n        var t = 900913 === r ? j.WebMercator : new j({\n          wkid: r\n        });\n        return I(t, e);\n      });\n    }\n  }, {\n    key: \"_fetchService\",\n    value: function () {\n      var _fetchService2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n        var _r2, _e3;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (this.resourceInfo) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                this.parsedUrl.query && this.parsedUrl.query.service && (this.parsedUrl.query.SERVICE = this.parsedUrl.query.service, delete this.parsedUrl.query.service), this.parsedUrl.query && this.parsedUrl.query.request && (this.parsedUrl.query.REQUEST = this.parsedUrl.query.request, delete this.parsedUrl.query.request);\n                _context2.next = 4;\n                return o(this.parsedUrl.path, {\n                  query: _objectSpread(_objectSpread({\n                    SERVICE: \"WMS\",\n                    REQUEST: \"GetCapabilities\"\n                  }, this.parsedUrl.query), this.customParameters),\n                  responseType: \"xml\",\n                  signal: e\n                });\n\n              case 4:\n                _r2 = _context2.sent;\n                this.resourceInfo = B(_r2.data);\n\n              case 6:\n                if (this.parsedUrl) {\n                  _e3 = new d(this.parsedUrl.path);\n                  \"https\" !== _e3.scheme || _e3.port && \"443\" !== _e3.port || -1 !== r.request.httpsDomains.indexOf(_e3.host) || r.request.httpsDomains.push(_e3.host);\n                }\n\n                this.read(this.resourceInfo, {\n                  origin: \"service\"\n                });\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _fetchService(_x5) {\n        return _fetchService2.apply(this, arguments);\n      }\n\n      return _fetchService;\n    }()\n  }, {\n    key: \"_mixCustomParameters\",\n    value: function _mixCustomParameters(e) {\n      if (!this.customLayerParameters && !this.customParameters) return e;\n\n      var r = _objectSpread(_objectSpread({}, this.customParameters), this.customLayerParameters);\n\n      for (var _t in r) {\n        e[_t.toLowerCase()] = r[_t];\n      }\n\n      return e;\n    }\n  }]);\n\n  return A;\n}(n(E(P(F(O(U(L(u(R)))))))));\n\nfunction D(e, r) {\n  return e.some(function (e) {\n    for (var _t2 in e) {\n      if (w(e, _t2, null, r)) return !0;\n    }\n\n    return !1;\n  });\n}\n\nfunction G(e, r, t) {\n  var s = new Map();\n  e.every(function (e) {\n    return null == e.id;\n  }) && (e = p(e)).forEach(function (e, r) {\n    return e.id = r;\n  });\n\n  var _iterator3 = _createForOfIteratorHelper(e),\n      _step3;\n\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var i = _step3.value;\n\n      var _e4 = new C();\n\n      _e4.read(i, r), -1 === (null == t ? void 0 : t.indexOf(_e4.name)) && (_e4.visible = !1), s.set(_e4.id, _e4);\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n\n  var o = [];\n\n  var _iterator4 = _createForOfIteratorHelper(e),\n      _step4;\n\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var a = _step4.value;\n\n      var _e5 = s.get(a.id);\n\n      if (null != a.parentLayerId && a.parentLayerId >= 0) {\n        var _r3 = s.get(a.parentLayerId);\n\n        _r3.sublayers || (_r3.sublayers = new i()), _r3.sublayers.unshift(_e5);\n      } else o.unshift(_e5);\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n\n  return o;\n}\n\ne([f({\n  readOnly: !0\n})], A.prototype, \"allSublayers\", void 0), e([f({\n  json: {\n    type: Object,\n    write: !0\n  }\n})], A.prototype, \"customParameters\", void 0), e([f({\n  json: {\n    type: Object,\n    write: !0\n  }\n})], A.prototype, \"customLayerParameters\", void 0), e([f({\n  type: String,\n  json: {\n    write: !0\n  }\n})], A.prototype, \"copyright\", void 0), e([f()], A.prototype, \"description\", void 0), e([f({\n  readOnly: !0\n})], A.prototype, \"dimensions\", void 0), e([f({\n  json: {\n    type: [[Number]],\n    read: {\n      source: \"extent\"\n    },\n    write: {\n      target: \"extent\"\n    },\n    origins: {\n      service: {\n        read: {\n          source: \"extent\"\n        }\n      }\n    }\n  }\n})], A.prototype, \"fullExtent\", void 0), e([g([\"web-document\", \"portal-item\"], \"fullExtent\", [\"extent\"])], A.prototype, \"readFullExtentFromItemOrMap\", null), e([x([\"web-document\", \"portal-item\"], \"fullExtent\", {\n  extent: {\n    type: [[Number]]\n  }\n})], A.prototype, \"writeFullExtent\", null), e([f()], A.prototype, \"fullExtents\", void 0), e([f({\n  type: String,\n  json: {\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], A.prototype, \"featureInfoFormat\", void 0), e([f({\n  type: String,\n  json: {\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], A.prototype, \"featureInfoUrl\", void 0), e([f({\n  type: String,\n  json: {\n    origins: {\n      \"web-document\": {\n        default: \"image/png\",\n        type: k.jsonValues,\n        read: {\n          reader: k.read,\n          source: \"format\"\n        },\n        write: {\n          writer: k.write,\n          target: \"format\"\n        }\n      }\n    }\n  }\n})], A.prototype, \"imageFormat\", void 0), e([g(\"imageFormat\", [\"supportedImageFormatTypes\"])], A.prototype, \"readImageFormat\", null), e([f({\n  type: Number,\n  json: {\n    read: {\n      source: \"maxHeight\"\n    },\n    write: {\n      target: \"maxHeight\"\n    }\n  }\n})], A.prototype, \"imageMaxHeight\", void 0), e([f({\n  type: Number,\n  json: {\n    read: {\n      source: \"maxWidth\"\n    },\n    write: {\n      target: \"maxWidth\"\n    }\n  }\n})], A.prototype, \"imageMaxWidth\", void 0), e([f()], A.prototype, \"imageTransparency\", void 0), e([f(M)], A.prototype, \"legendEnabled\", void 0), e([f({\n  type: [\"show\", \"hide\", \"hide-children\"]\n})], A.prototype, \"listMode\", void 0), e([f({\n  type: String,\n  json: {\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], A.prototype, \"mapUrl\", void 0), e([f({\n  type: Boolean,\n  json: {\n    read: !1,\n    write: {\n      enabled: !0,\n      overridePolicy: function overridePolicy() {\n        return {\n          enabled: !1\n        };\n      }\n    }\n  }\n})], A.prototype, \"isReference\", void 0), e([f({\n  type: [\"WMS\"]\n})], A.prototype, \"operationalLayerType\", void 0), e([f({\n  type: j,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"extent.spatialReference\"\n        }\n      }\n    },\n    write: !1\n  }\n})], A.prototype, \"spatialReference\", void 0), e([g([\"web-document\", \"portal-item\"], \"spatialReference\", [\"spatialReferences\"])], A.prototype, \"readSpatialReferenceFromItemOrDocument\", null), e([f({\n  type: [h],\n  json: {\n    read: {\n      source: \"spatialReferences\"\n    },\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], A.prototype, \"spatialReferences\", void 0), e([x([\"web-document\", \"portal-item\"], \"spatialReferences\")], A.prototype, \"writeSpatialReferences\", null), e([f({\n  type: i.ofType(C),\n  json: {\n    write: {\n      target: \"layers\",\n      overridePolicy: function overridePolicy(e, r, t) {\n        if (D(this.allSublayers, t)) return {\n          ignoreOrigin: !0\n        };\n      }\n    }\n  }\n})], A.prototype, \"sublayers\", void 0), e([g([\"web-document\", \"portal-item\"], \"sublayers\", [\"layers\", \"visibleLayers\"])], A.prototype, \"readSublayersFromItemOrMap\", null), e([g(\"service\", \"sublayers\", [\"layers\"])], A.prototype, \"readSublayers\", null), e([x(\"sublayers\", {\n  layers: {\n    type: [C]\n  },\n  visibleLayers: {\n    type: [String]\n  }\n})], A.prototype, \"writeSublayers\", null), e([f({\n  json: {\n    read: !1\n  },\n  readOnly: !0,\n  value: \"wms\"\n})], A.prototype, \"type\", void 0), e([f(T)], A.prototype, \"url\", void 0), e([f({\n  type: String,\n  json: {\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], A.prototype, \"version\", void 0), A = e([b(\"esri.layers.WMSLayer\")], A);\nvar J = A;\nexport default J;"],"sourceRoot":""}
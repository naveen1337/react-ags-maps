(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"q+9A":function(e,i,t){"use strict";t.r(i);var r=t("hisu"),s=t("yBJb"),a=t("0942"),n=t("CHlC"),o=t("kMo5"),l=t("P+uj"),c=t("dQW7"),b=t("v2Em"),u=t("7im+"),y=t("d4jZ"),v=t("xAIp"),h=(t("J4Pc"),t("F1Bx")),f=(t("wckI"),t("TM+E"),t("iaHD")),d=t("jr4m"),p=t("QZQ7"),O=t("9P7x"),j=t("oTsO"),_=t("44so"),w=t("wJzb"),k=t("X9uN"),m=t("lRaU"),L=t("adv5");function M(e){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=Object(l.a)(e);if(i){var s=Object(l.a)(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return Object(o.a)(this,t)}}var g=function(e){Object(n.a)(t,e);var i=M(t);function t(e){var s;return Object(r.a)(this,t),(s=i.call(this,e))._visibilityHandles={},s.fullExtent=void 0,s.operationalLayerType="GroupLayer",s.spatialReference=void 0,s.type="group",s._visibilityWatcher=s._visibilityWatcher.bind(Object(a.a)(s)),s}return Object(s.a)(t,[{key:"initialize",value:function(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch("visible",this._visibleWatcher.bind(this),!0)}},{key:"_writeLayers",value:function(e,i,t,r){var s=[];if(!e)return s;e.forEach((function(e){var i=Object(L.a)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);Object(u.i)(i)&&i.layerType&&s.push(i)})),i.layers=s}},{key:"portalItem",set:function(e){this._set("portalItem",e)}},{key:"visibilityMode",set:function(e){var i=this._get("visibilityMode")!==e;this._set("visibilityMode",e),i&&this._enforceVisibility(e,this.visible)}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e)),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=this;return Object(b.a)(this,(function(i){i(e.layers)}))}},{key:"layerAdded",value:function(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=e.watch("visible",this._visibilityWatcher,!0)}},{key:"layerRemoved",value:function(e){var i=this._visibilityHandles[e.uid];i&&(i.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}},{key:"_turnOffOtherLayers",value:function(e){this.layers.forEach((function(i){i!==e&&(i.visible=!1)}))}},{key:"_enforceVisibility",value:function(e,i){if(Object(h.a)(this).initialized){var t=this.layers,r=t.find((function(e){return e.visible}));switch(e){case"exclusive":t.length&&!r&&((r=t.getItemAt(0)).visible=!0),this._turnOffOtherLayers(r);break;case"inherited":t.forEach((function(e){e.visible=i}))}}}},{key:"_visibleWatcher",value:function(e){"inherited"===this.visibilityMode&&this.layers.forEach((function(i){i.visible=e}))}},{key:"_visibilityWatcher",value:function(e,i,t,r){var s=r;switch(this.visibilityMode){case"exclusive":e?this._turnOffOtherLayers(s):this._isAnyLayerVisible()||(s.visible=!0);break;case"inherited":s.visible=this.visible}}},{key:"_isAnyLayerVisible",value:function(){return this.layers.some((function(e){return e.visible}))}}]),t}(Object(O.a)(Object(w.a)(Object(j.a)(Object(_.a)(Object(m.a)(Object(k.a)(Object(y.a)(p.a))))))));Object(c.a)([Object(v.b)()],g.prototype,"fullExtent",void 0),Object(c.a)([Object(v.b)({json:{read:!1,write:{ignoreOrigin:!0}}})],g.prototype,"layers",void 0),Object(c.a)([Object(d.a)("layers")],g.prototype,"_writeLayers",null),Object(c.a)([Object(v.b)({type:["GroupLayer"]})],g.prototype,"operationalLayerType",void 0),Object(c.a)([Object(v.b)({json:{origins:{"web-document":{read:!1,write:!1}}}})],g.prototype,"portalItem",null),Object(c.a)([Object(v.b)()],g.prototype,"spatialReference",void 0),Object(c.a)([Object(v.b)({json:{read:!1},readOnly:!0,value:"group"})],g.prototype,"type",void 0),Object(c.a)([Object(v.b)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{read:!1,write:!1}}}})],g.prototype,"visibilityMode",null);var R=g=Object(c.a)([Object(f.a)("esri.layers.GroupLayer")],g);i.default=R}}]);
//# sourceMappingURL=21-fb8ba401732ab74b1e95.js.map
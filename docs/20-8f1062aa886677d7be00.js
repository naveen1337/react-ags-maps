(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"pyE/":function(t,e,r){"use strict";r.r(e),r.d(e,"loadGLTFMesh",(function(){return E}));var n=r("eijD"),o=r("NthX"),a=r.n(o),c=r("WYis"),i=r("DGz/"),u=r("7im+"),s=r("+MBG"),l=r("djeU"),b=r("4vgF"),f=r("MPZ8"),p=r("HmIz"),j=r("uP3v"),O=r("a8QM"),d=r("gqSU"),m=r("hALY"),v=r("iuCb"),x=r("iC3o"),h=r("KUAb"),y=r("RrpW"),g=r("PZVk"),w=r("qujE"),A=r("eVr+"),C=r("KoAU"),M=r("oWhe"),B=r("kzti"),S=r("x2Fc"),I=r("ixqo");function T(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){i=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw a}}}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E(t,e,r){return k.apply(this,arguments)}function k(){return(k=Object(n.a)(a.a.mark((function t(e,r,n){var o,c,i,s,l,b,f,p,j,O,m,v,x,h,A,C,M;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new g.a(U(n)),t.next=3,Object(w.a)(o,r,n,!0);case 3:c=t.sent.model,i=c.lods.shift(),s=new Map,l=new Map,c.textures.forEach((function(t,e){return s.set(e,z(t))})),c.materials.forEach((function(t,e){return l.set(e,R(t,s))})),b=q(i),f=T(i.parts);try{for(f.s();!(p=f.n()).done;)j=p.value,J(b,j,l)}catch(a){f.e(a)}finally{f.f()}return O=b.vertexAttributes,m=O.position,v=O.normal,x=O.tangent,h=O.color,A=O.texCoord0,C={position:m.typedBuffer,normal:Object(u.i)(v)?v.typedBuffer:null,tangent:Object(u.i)(x)?x.typedBuffer:null,uv:Object(u.i)(A)?A.typedBuffer:null,color:Object(u.i)(h)?h.typedBuffer:null},M=Object(y.c)(C,e,n),t.abrupt("return",{transform:M.transform,components:b.components,spatialReference:e.spatialReference,vertexAttributes:new d.c({position:M.vertexAttributes.position,normal:M.vertexAttributes.normal,tangent:M.vertexAttributes.tangent,color:C.color,uv:C.uv})});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(t){return null!=t&&t.resolveFile?{busy:!1,request:(e=Object(n.a)(a.a.mark((function e(r,n,o){var c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.resolveFile(r),s="image"===n?"image":"binary"===n?"array-buffer":"json",e.next=3,Object(i.default)(c,{responseType:s,signal:Object(u.i)(o)?o.signal:null});case 3:return e.abrupt("return",e.sent.data);case 4:case"end":return e.stop()}}),e)}))),function(t,r,n){return e.apply(this,arguments)})}:null;var e}function q(t){var e,r=0,n={color:!1,tangent:!1,normal:!1,texCoord0:!1},o=T(t.parts);try{for(o.s();!(e=o.n()).done;){var a=e.value.attributes,c=a.position,i=a.normal,u=a.color,s=a.tangent,l=a.texCoord0;r+=c.count,i&&(n.normal=!0),u&&(n.color=!0),s&&(n.tangent=!0),l&&(n.texCoord0=!0)}}catch(b){o.e(b)}finally{o.f()}return{writeIndex:0,vertexAttributes:{position:Object(h.a)(m.v,r),normal:n.normal?Object(h.a)(m.u,r):null,tangent:n.tangent?Object(h.a)(m.C,r):null,color:n.color?Object(h.a)(m.J,r):null,texCoord0:n.texCoord0?Object(h.a)(m.m,r):null},components:[]}}function z(t){return new O.a({data:t.data,wrap:P(t.parameters.wrap)})}function R(t,e){var r,n=new c.a(function(t,e){return Object(f.c)(G(t[0]),G(t[1]),G(t[2]),e)}(t.color,t.opacity)),o=t.emissiveFactor?new c.a((r=t.emissiveFactor,Object(b.g)(G(r[0]),G(r[1]),G(r[2])))):null;return new j.a({color:n,colorTexture:Object(u.p)(Object(u.b)(t.textureColor,(function(t){return e.get(t)}))),normalTexture:Object(u.p)(Object(u.b)(t.textureNormal,(function(t){return e.get(t)}))),emissiveColor:o,emissiveTexture:Object(u.p)(Object(u.b)(t.textureEmissive,(function(t){return e.get(t)}))),occlusionTexture:Object(u.p)(Object(u.b)(t.textureOcclusion,(function(t){return e.get(t)}))),alphaMode:N(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:Object(u.p)(Object(u.b)(t.textureMetallicRoughness,(function(t){return e.get(t)})))})}function J(t,e,r){var n=t.vertexAttributes,o=n.position,a=n.normal,c=n.tangent,i=n.color,b=n.texCoord0,f=t.writeIndex,j=e.attributes.position.count;if(Object(v.e)(o.slice(f,j),e.attributes.position,e.transform),Object(u.i)(e.attributes.normal)&&Object(u.i)(a)){var O=Object(s.a)(Object(l.b)(),e.transform);Object(v.a)(a.slice(f,j),e.attributes.normal,O)}else Object(u.i)(a)&&Object(B.b)(a,0,0,1,{dstIndex:f,count:j});if(Object(u.i)(e.attributes.tangent)&&Object(u.i)(c)){var d=Object(s.a)(Object(l.b)(),e.transform);Object(x.c)(c.slice(f,j),e.attributes.tangent,d)}else Object(u.i)(c)&&Object(S.b)(c,0,0,1,1,{dstIndex:f,count:j});if(Object(u.i)(e.attributes.texCoord0)&&Object(u.i)(b)?Object(I.b)(b.slice(f,j),e.attributes.texCoord0):Object(u.i)(b)&&Object(I.a)(b,0,0,{dstIndex:f,count:j}),Object(u.i)(e.attributes.color)&&Object(u.i)(i)){var h=e.attributes.color,y=i.slice(f,j);if(4===h.elementCount)h instanceof m.C?Object(x.b)(y,h,255):h instanceof m.J?Object(S.a)(y,h):h instanceof m.H&&Object(x.a)(y,h,8);else{Object(S.b)(y,255,255,255,255);var g=m.B.fromTypedArray(y.typedBuffer,y.typedBufferStride);h instanceof m.u?Object(v.d)(g,h,255):h instanceof m.B?Object(B.a)(g,h):h instanceof m.z&&Object(v.b)(g,h,8)}}else Object(u.i)(i)&&Object(S.b)(i.slice(f,j),255,255,255,255);var w=function(t,e){switch(e){case 4:return Object(A.c)(t,C.d);case 5:return Object(A.b)(t);case 6:return Object(A.a)(t)}}(e.indices||j,e.primitiveType);if(f)for(var M=0;M<w.length;M++)w[M]+=f;t.components.push(new p.a({faces:w,material:r.get(e.material).clone(),trustSourceNormals:!0})),t.writeIndex+=j}function N(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function P(t){return{horizontal:D(t.s),vertical:D(t.t)}}function D(t){switch(t){case 33071:return"clamp";case 33648:return"mirror";case 10497:return"repeat"}}function G(t){return 255*Math.pow(t,1/M.a)}}}]);
//# sourceMappingURL=20-8f1062aa886677d7be00.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{RbZK:function(e,t,r){"use strict";r.r(t);var n=r("hisu"),a=r("yBJb"),i=r("CHlC"),o=r("kMo5"),c=r("P+uj"),u=r("dQW7"),s=r("xAIp"),l=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("mK0O"),f=r("eijD"),b=r("NthX"),O=r.n(b),y=r("DGz/"),j=r("fRhz"),d=r("pkWm"),v=r("r7HD"),m=r("/xo8"),B=(r("ZTBZ"),r("4VMI")),h=r("0n+b"),g=r("7im+"),P=r("mp5+"),R=r("YHXj"),k=r("ZOZe"),w=r("kJId"),A=r("OSyX"),S=r("OTJA"),J=r("AQ8/"),C=r("cFtQ");function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}function D(e){return w.default.fromJSON(e).features.map((function(e){return e.geometry}))}var F=function(e){Object(i.a)(r,e);var t=N(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).directions=null,a.facilities=null,a.incidents=null,a.messages=null,a.pointBarriers=null,a.polylineBarriers=null,a.polygonBarriers=null,a.routes=null,a}return Object(a.a)(r,[{key:"readFacilities",value:function(e){return D(e)}},{key:"readIncidents",value:function(e){return D(e)}},{key:"readPointBarriers",value:function(e,t){return D(t.barriers)}},{key:"readPolylineBarriers",value:function(e){return D(e)}},{key:"readPolygonBarriers",value:function(e){return D(e)}},{key:"readRoutes",value:function(e){return function(e){return e.features.map((function(t){var r=R.a.fromJSON(e.spatialReference),n=B.a.fromJSON(t);return Object(g.i)(n.geometry)&&(n.geometry.spatialReference=r),n}))}(e)}}]),r}(h.a);Object(u.a)([Object(s.b)({type:[k.a]})],F.prototype,"directions",void 0),Object(u.a)([Object(s.b)({type:[S.a]})],F.prototype,"facilities",void 0),Object(u.a)([Object(P.a)("facilities")],F.prototype,"readFacilities",null),Object(u.a)([Object(s.b)({type:[S.a]})],F.prototype,"incidents",void 0),Object(u.a)([Object(P.a)("incidents")],F.prototype,"readIncidents",null),Object(u.a)([Object(s.b)({type:[A.a]})],F.prototype,"messages",void 0),Object(u.a)([Object(s.b)({type:[S.a]})],F.prototype,"pointBarriers",void 0),Object(u.a)([Object(P.a)("pointBarriers",["barriers"])],F.prototype,"readPointBarriers",null),Object(u.a)([Object(s.b)({type:[J.a]})],F.prototype,"polylineBarriers",void 0),Object(u.a)([Object(P.a)("polylineBarriers")],F.prototype,"readPolylineBarriers",null),Object(u.a)([Object(s.b)({type:[C.a]})],F.prototype,"polygonBarriers",void 0),Object(u.a)([Object(P.a)("polygonBarriers")],F.prototype,"readPolygonBarriers",null),Object(u.a)([Object(s.b)({type:[B.a]})],F.prototype,"routes",void 0),Object(u.a)([Object(P.a)("routes")],F.prototype,"readRoutes",null);var I=F=Object(u.a)([Object(l.a)("esri.rest.support.ClosestFacilitySolveResult")],F);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=Object(j.a)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},facilities:!0,incidents:!0,outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},returnRoutes:{name:"returnCFRoutes"},travelMode:!0});function E(){return(E=Object(f.a)(O.a.mark((function e(t,r,n){var a,i,o,c,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],i=[],o={},c={},u=Object(m.c)(t),e.abrupt("return",(r.incidents&&r.incidents.features&&Object(v.a)(r.incidents.features,i,"incidents.features",o),r.facilities&&r.facilities.features&&Object(v.a)(r.facilities.features,i,"facilities.features",o),r.pointBarriers&&r.pointBarriers.features&&Object(v.a)(r.pointBarriers.features,i,"pointBarriers.features",o),r.polylineBarriers&&r.polylineBarriers.features&&Object(v.a)(r.polylineBarriers.features,i,"polylineBarriers.features",o),r.polygonBarriers&&r.polygonBarriers.features&&Object(v.a)(r.polygonBarriers.features,i,"polygonBarriers.features",o),Object(d.a)(i).then((function(e){for(var t in o){var r=o[t];a.push(t),c[t]=e.slice(r[0],r[1])}return Object(v.e)(c,a)?Object(v.c)(u.path):Promise.resolve({dontCheck:!0})})).then((function(e){("dontCheck"in e?e.dontCheck:e.hasZ)||Object(v.b)(c,a);var t=function(e){c[e].forEach((function(t,n){r.get(e)[n].geometry=t}))};for(var i in c)t(i);var o={query:Z(Z({},u.query),{},{f:"json"},x.toQueryParams(r))};return n&&(o=Z(Z({},n),o)),Object(y.default)("".concat(u.path,"/solveClosestFacility"),o)})).then((function(e){return I.fromJSON(e.data)}))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var a=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var M=function(e){Object(i.a)(r,e);var t=H(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).url=null,a}return Object(a.a)(r,[{key:"solve",value:function(e,t){return function(e,t,r){return E.apply(this,arguments)}(this.url,e,t)}}]),r}(r("F8mY").a);Object(u.a)([Object(s.b)()],M.prototype,"url",void 0);var Q=M=Object(u.a)([Object(l.a)("esri.tasks.ClosestFacilityTask")],M);t.default=Q}}]);
//# sourceMappingURL=151-1f64d1ba2a7b3c82ba6e.js.map
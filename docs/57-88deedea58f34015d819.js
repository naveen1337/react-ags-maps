(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"46Wt":function(e,t,r){"use strict";var n=r("mK0O"),i=r("Mp7X"),o=r("TM+E"),a=r("z4xm");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=new Map;function s(e,t,r){var n=r.transform,l=r.hasZ,s=r.hasM;f.has(t)||f.set(t,function(e){var t={};switch(e){case"esriGeometryPoint":return function(e,r,n,i){return Object(a.e)(r,t,e,n,i)};case"esriGeometryPolygon":return function(e,r,n,i){return Object(a.f)(r,t,e,n,i)};case"esriGeometryPolyline":return function(e,r,n,i){return Object(a.g)(r,t,e,n,i)};case"esriGeometryMultipoint":return function(e,r,n,i){return Object(a.d)(r,t,e,n,i)};default:return o.a.getLogger("esri.views.2d.support.arcadeOnDemand").error(new i.a("mapview-arcade","Unable to handle geometryType: ".concat(e))),function(e){return e}}}(t));var u=f.get(t)(e.geometry,n,l,s);return c(c({},e),{},{geometry:u})}t.a=function(e,t,r,n,i){var a=e.referencesGeometry()&&i?s(t,n,i):t,l=e.repurposeFeature(a);try{return e.evaluate(c(c({},r),{},{$feature:l}))}catch(f){return o.a.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",f),null}}},"Hl/n":function(e,t,r){"use strict";r.d(t,"a",(function(){return B})),r.d(t,"b",(function(){return M}));var n=r("mK0O"),i=r("aNYv"),o=r("eijD"),a=r("NthX"),l=r.n(a),c=r("WYis"),f=r("TM+E"),s=r("frPA"),u=r("lZmO"),m=r("DE4D"),y=r("jCQE"),p=r("hQel"),v=r("g9+Q"),h=r("46Wt");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=f.a.getLogger("esri.symbols.cim.cimAnalyzer");function w(e){switch(e){case"Butt":return 0;case"Square":return 2;case"Round":default:return 1}}function j(e){switch(e){case"Bevel":return 0;case"Miter":return 2;case"Round":default:return 1}}function k(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":return"center";case"Justify":return"justify"}}function N(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function C(e,t,r,n){var i;e[t]?i=e[t]:(i={},e[t]=i),i[r]=n}function P(e){var t=e.markerPlacement;return t&&t.angleToLine?1:0}function M(e,t,r,n){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(l.a.mark((function e(t,r,n,i){var o,a,c,f,s,u,y,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null!=n?n:[],t){e.next=3;break}return e.abrupt("return",o);case 3:if(f={},"CIMSymbolReference"===t.type){e.next=6;break}return e.abrupt("return",(S.error("Expect cim type to be 'CIMSymbolReference'"),o));case 6:if(a=t.symbol,!(c=t.primitiveOverrides)){e.next=12;break}s=[],u=g(c);try{for(p=function(){var e=y.value,t=e.valueExpressionInfo;if(t&&r){var n=t.expression,i=Object(m.d)(n,r.spatialReference,r.fields).then((function(t){t&&C(f,e.primitiveName,e.propertyName,t)}));s.push(i)}else null!=e.value&&C(f,e.primitiveName,e.propertyName,e.value)},u.s();!(y=u.n()).done;)p()}catch(l){u.e(l)}finally{u.f()}return e.next=12,Promise.all(s);case 12:switch(a.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":I(a,c,f,r,o,i)}return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,r,n,i,o){if(e){var a=e.symbolLayers;if(a){var l,c=y.a.getSize(e);"CIMPointSymbol"===e.type&&"Map"===e.angleAlignment&&(l=1);for(var f=a.length;f--;){var s=a[f];if(s&&!1!==s.enable){var u=[];switch(y.b.findApplicableOverrides(s,t,u),s.type){case"CIMSolidFill":L(s,r,u,n,i);break;case"CIMPictureFill":A(s,r,u,n,i);break;case"CIMHatchFill":J(s,r,u,n,i);break;case"CIMGradientFill":X(s,r,u,n,i);break;case"CIMSolidStroke":z(s,r,u,n,i,"CIMPolygonSymbol"===e.type,c);break;case"CIMPictureStroke":H(s,r,u,n,i,"CIMPolygonSymbol"===e.type,c);break;case"CIMGradientStroke":Y(s,r,u,n,i,"CIMPolygonSymbol"===e.type,c);break;case"CIMCharacterMarker":if(T(s,r,u,n,i))break;break;case"CIMPictureMarker":if(T(s,r,u,n,i))break;"CIMLineSymbol"===e.type&&(l=P(s)),R(s,r,u,n,i,l,c);break;case"CIMVectorMarker":if(T(s,r,u,n,i))break;"CIMLineSymbol"===e.type&&(l=P(s)),D(s,r,u,n,i,l,c,o);break;default:S.error("Cannot analyze CIM layer",s.type)}}}}}}function L(e,t,r,n,o){var a=e.primitiveName,l=Object(v.e)(e.color),c=q(r,a),f=Object(i.a)(c,2),s=f[0],m=f[1],y=Object(u.b)(JSON.stringify(e)+m).toString();o.push({type:"fill",templateHash:y,materialHash:s?function(){return y}:y,cim:e,materialOverrides:null,colorLocked:e.colorLocked,color:G(a,t,"Color",n,l,U),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:e.effects})}function A(e,t,r,n,o){var a=e.primitiveName,l=e.tintColor?Object(v.e)(e.tintColor):{r:255,g:255,b:255,a:1},c=q(r,a),f=Object(i.a)(c,2),s=f[0],m=f[1],y=Object(u.b)(JSON.stringify(e)+m).toString(),p=Object(u.b)("".concat(e.url).concat(JSON.stringify(e.colorSubstitutions))).toString();o.push({type:"fill",templateHash:y,materialHash:s?function(){return p}:p,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,color:G(a,t,"TintColor",n,l,U),height:G(a,t,"Height",n,e.height),scaleX:G(a,t,"ScaleX",n,e.scaleX),angle:G(a,t,"Rotation",n,e.rotation),offsetX:G(a,t,"OffsetX",n,e.offsetX),offsetY:G(a,t,"OffsetY",n,e.offsetY)})}function J(e,t,r,n,o){var a=["Rotation","OffsetX","OffsetY"],l=r.filter((function(t){return t.primitiveName!==e.primitiveName&&-1===a.indexOf(t.propertyName)})),c=e.primitiveName,f=q(r,c),s=Object(i.a)(f,2),m=s[0],y=s[1],p=Object(u.b)(JSON.stringify(e)+y).toString(),v=Object(u.b)("".concat(e.separation).concat(JSON.stringify(e.lineSymbol))).toString();o.push({type:"fill",templateHash:p,materialHash:m?_(v,t,l,n):v,cim:e,materialOverrides:l,colorLocked:e.colorLocked,effects:e.effects,color:{r:255,g:255,b:255,a:1},height:G(c,t,"Separation",n,e.separation),scaleX:1,angle:G(c,t,"Rotation",n,e.rotation),offsetX:G(c,t,"OffsetX",n,e.offsetX),offsetY:G(c,t,"OffsetY",n,e.offsetY)})}function X(e,t,r,n,o){var a=q(r,e.primitiveName),l=Object(i.a)(a,2),c=l[0],f=l[1],s=Object(u.b)(JSON.stringify(e)+f).toString();o.push({type:"fill",templateHash:s,materialHash:c?_(s,t,r,n):s,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function z(e,t,r,n,o,a,l){var c=e.primitiveName,f=Object(v.e)(e.color),s=void 0!==e.width?e.width:4,m=w(e.capStyle),y=j(e.joinStyle),p=e.miterLimit,h=q(r,c),b=Object(i.a)(h,2),d=b[0],g=b[1],O=Object(u.b)(JSON.stringify(e)+g).toString();o.push({type:"line",templateHash:O,materialHash:d?function(){return O}:O,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:G(c,t,"Color",n,f,U),width:G(c,t,"Width",n,s),cap:G(c,t,"CapStyle",n,m),join:G(c,t,"JoinStyle",n,y),miterLimit:G(c,t,"MiterLimit",n,p),referenceWidth:l,zOrder:W(e.name),isDashed:!1})}function H(e,t,r,n,o,a,l){var c=Object(u.b)("".concat(e.url).concat(JSON.stringify(e.colorSubstitutions))).toString(),f=e.primitiveName,s=Object(v.e)(e.tintColor),m=void 0!==e.width?e.width:4,y=w(e.capStyle),p=j(e.joinStyle),h=e.miterLimit,b=q(r,f),d=Object(i.a)(b,2),g=d[0],O=d[1],S=Object(u.b)(JSON.stringify(e)+O).toString();o.push({type:"line",templateHash:S,materialHash:g?function(){return c}:c,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:G(f,t,"TintColor",n,s,U),width:G(f,t,"Width",n,m),cap:G(f,t,"CapStyle",n,y),join:G(f,t,"JoinStyle",n,p),miterLimit:G(f,t,"MiterLimit",n,h),referenceWidth:l,zOrder:W(e.name),isDashed:!1})}function Y(e,t,r,n,o,a,l){var c=e.primitiveName,f=void 0!==e.width?e.width:4,s=w(e.capStyle),m=j(e.joinStyle),y=e.miterLimit,p=q(r,c),v=Object(i.a)(p,2),h=v[0],b=v[1],d=Object(u.b)(JSON.stringify(e)+b).toString();o.push({type:"line",templateHash:d,materialHash:h?_(d,t,r,n):d,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:{r:128,g:128,b:128,a:1},width:G(c,t,"Width",n,f),cap:G(c,t,"CapStyle",n,s),join:G(c,t,"JoinStyle",n,m),miterLimit:G(c,t,"MiterLimit",n,y),referenceWidth:l,zOrder:W(e.name),isDashed:!1})}function T(e,t,r,n,o){var a=e.markerPlacement;if(!a||"CIMMarkerPlacementInsidePolygon"!==a.type)return!1;var l=a,c=["Rotation","OffsetX","OffsetY"],f=r.filter((function(t){return t.primitiveName!==e.primitiveName&&-1===c.indexOf(t.propertyName)})),s=q(r,l.primitiveName),m=Object(i.a)(s,2),y=m[0],p=m[1],v=Object(u.b)(JSON.stringify(e)+p).toString();return o.push({type:"fill",templateHash:v,materialHash:y?_(v,t,f,n):v,cim:e,materialOverrides:f,colorLocked:e.colorLocked,effects:e.effects,color:{r:255,g:255,b:255,a:1},height:G(l.primitiveName,t,"StepY",n,l.stepY),scaleX:1,angle:G(l.primitiveName,t,"GridAngle",n,l.gridAngle),offsetX:G(l.primitiveName,t,"OffsetX",n,l.offsetX),offsetY:G(l.primitiveName,t,"OffsetY",n,l.offsetY)}),!0}function R(e,t,r,n,o,a,l){var c=e.primitiveName,f=e.size,s=e.scaleX,m=e.rotation,y=e.offsetX,p=e.offsetY,h=Object(v.e)(e.tintColor),b=Object(u.b)("".concat(e.url).concat(JSON.stringify(e.colorSubstitutions))).toString(),d=q(r,c),g=Object(i.a)(d,2),O=g[0],S=g[1],w=Object(u.b)(JSON.stringify(e)+S).toString();o.push({type:"marker",templateHash:w,materialHash:O?function(){return b}:b,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:!1,alignment:a,size:G(c,t,"Size",n,f),scaleX:G(c,t,"ScaleX",n,s),rotation:G(c,t,"Rotation",n,m),offsetX:G(c,t,"OffsetX",n,y),offsetY:G(c,t,"OffsetY",n,p),color:G(c,t,"TintColor",n,h,U),anchorPoint:e.anchorPoint,isAbsoluteAnchorPoint:"Relative"!==e.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:e.rotateClockwise,referenceSize:l,sizeRatio:1,markerPlacement:e.markerPlacement})}function D(e,t,r,n,i,o,a,l){var c=e.markerGraphics;if(c){var f=0;if(e.scaleSymbolsProportionally){var s=e.frame;s&&(f=s.ymax-s.ymin)}var u,m=g(c);try{for(m.s();!(u=m.n()).done;){var y=u.value;if(y){var p=y.symbol;if(!p)continue;switch(p.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":V(e,y,r,t,n,i,o,a,f,l);break;case"CIMTextSymbol":F(e,y,t,r,n,i,o,a,f)}}}}catch(v){m.e(v)}finally{m.f()}}}function F(e,t,r,n,i,o,a,l,c){y.b.findApplicableOverrides(t,n,[]);var f=t.geometry;if("x"in f&&"y"in f){var s=t.symbol,m=function(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}(s),p=function(e){var t="normal",r="normal";if(e){var n=e.toLowerCase();-1!==n.indexOf("italic")?t="italic":-1!==n.indexOf("oblique")&&(t="oblique"),-1!==n.indexOf("bold")?r="bold":-1!==n.indexOf("light")&&(r="lighter")}return{style:t,weight:r}}(s.fontStyleName);s.font=d({family:s.fontFamilyName,decoration:m},p);var h=e.frame,b=f.x-.5*(h.xmin+h.xmax),O=f.y-.5*(h.ymin+h.ymax),S=e.size/c,w=e.primitiveName,j=(s.height||0)*S,C=s.angle||0,P=((s.offsetX||0)+b)*S,M=((s.offsetY||0)+O)*S,x=Object(v.e)(y.a.getFillColor(s)),I=Object(v.e)(y.a.getStrokeColor(s)),L=y.a.getStrokeWidth(s);L||(I=Object(v.e)(y.a.getFillColor(s.haloSymbol)),L=s.haloSize*S);var A,J="",X=g(n);try{for(X.s();!(A=X.n()).done;){var z=A.value;z.primitiveName===w&&void 0!==z.value&&(J+="-".concat(z.primitiveName,"-").concat(z.propertyName,"-").concat(JSON.stringify(z.value)))}}catch(T){X.e(T)}finally{X.f()}var H=JSON.stringify(e.effects)+Number(e.colorLocked)+JSON.stringify(e.anchorPoint)+e.anchorPointUnits+JSON.stringify(e.markerPlacement),Y=Object(u.b)(JSON.stringify(t)+H+J).toString();o.push({type:"text",templateHash:Y,materialHash:function(){return Object(u.b)(JSON.stringify(s.font)).toString()},cim:s,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,alignment:a,anchorPoint:{x:e.anchorPoint?e.anchorPoint.x:0,y:e.anchorPoint?e.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==e.anchorPointUnits,fontName:s.fontFamilyName,decoration:"none",weight:"normal",style:"normal",size:G(w,r,"Size",i,j),angle:G(w,r,"Rotation",i,C),offsetX:G(w,r,"OffsetX",i,P),offsetY:G(w,r,"OffsetY",i,M),horizontalAlignment:k(s.horizontalAlignment),verticalAlignment:N(s.verticalAlignment),text:G(t.primitiveName,r,"TextString",i,t.textString,v.a,s.textCase),color:x,outlineColor:I,outlineSize:L,referenceSize:l,sizeRatio:1,markerPlacement:e.markerPlacement})}}function V(e,t,r,n,o,a,l,c,f,s){var m=t.symbol,h=t.geometry;if(h){var b=m.symbolLayers;if(b)if(s)E(e,t,n,r,o,a,l,c,f);else for(var O=b.length;O--;){var S=b[O];if(S&&!1!==S.enable)switch(S.type){case"CIMSolidFill":case"CIMSolidStroke":var w=function(){var s=Object(p.b)(h);if(!s)return"continue";var m=Object(p.d)(s,e.frame,e.size,e.anchorPoint,"Relative"!==e.anchorPointUnits),b=Object(i.a)(m,3),O=b[0],w=b[1],j=b[2],k="CIMSolidFill"===S.type,N={type:"sdf",geom:h,asFill:k},C=e.primitiveName,P=e.size,M=e.rotation||0,x=e.offsetX,I=e.offsetY,L=S.primitiveName,A=Object(v.e)(k?y.a.getFillColor(S):y.a.getStrokeColor(S)),J=k?{r:0,g:0,b:0,a:0}:Object(v.e)(y.a.getStrokeColor(S)),X=y.a.getStrokeWidth(S);if(!k&&!X)return"break";var z,H=!1,Y="",T=g(r);try{for(T.s();!(z=T.n()).done;){var R=z.value;R.primitiveName!==L&&R.primitiveName!==C||(void 0!==R.value?Y+="-".concat(R.primitiveName,"-").concat(R.propertyName,"-").concat(JSON.stringify(R.value)):R.valueExpressionInfo&&(H=!0))}}catch(E){T.e(E)}finally{T.f()}var D=JSON.stringify(d(d({},e),{},{markerGraphics:null})),F=Object(u.b)(JSON.stringify(N)).toString(),V={type:"marker",templateHash:Object(u.b)(JSON.stringify(t)+JSON.stringify(S)+D+Y).toString(),materialHash:H?function(){return F}:F,cim:N,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:l,anchorPoint:{x:w,y:j},isAbsoluteAnchorPoint:!1,size:G(e.primitiveName,n,"Size",o,P),rotation:G(e.primitiveName,n,"Rotation",o,M),offsetX:G(e.primitiveName,n,"OffsetX",o,x),offsetY:G(e.primitiveName,n,"OffsetY",o,I),scaleX:1,frameHeight:f,rotateClockwise:e.rotateClockwise,referenceSize:c,sizeRatio:O,color:G(L,n,"Color",o,A,U),outlineColor:G(L,n,"Color",o,J,U),outlineWidth:G(L,n,"Width",o,X),markerPlacement:e.markerPlacement};return a.push(V),"break"}();if("continue"===w)continue;if("break"===w)break;default:E(e,t,n,r,o,a,l,c,f)}}}}function E(e,t,r,n,o,a,l,c,f){var m,p=function(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath,effects:e.effects}}(e,t),v=["Rotation","OffsetX","OffsetY"];m=n.filter((function(t){return t.primitiveName!==e.primitiveName||-1===v.indexOf(t.propertyName)}));var h,b="",d=g(n);try{for(d.s();!(h=d.n()).done;){var O=h.value;void 0!==O.value&&(b+="-".concat(O.primitiveName,"-").concat(O.propertyName,"-").concat(JSON.stringify(O.value)))}}catch(A){d.e(A)}finally{d.f()}var S=y.a.getTextureAnchor(p),w=Object(i.a)(S,3),j=w[0],k=w[1],N=w[2],C=e.primitiveName,P=e.rotation||0,M=e.offsetX||0,x=e.offsetY||0,I=Object(u.b)(JSON.stringify(p)+b).toString(),L={type:"marker",templateHash:I,materialHash:0===m.length?I:_(I,r,m,o),cim:p,materialOverrides:m,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:l,anchorPoint:{x:j,y:k},isAbsoluteAnchorPoint:!1,size:e.size,rotation:G(C,r,"Rotation",o,P),offsetX:G(C,r,"OffsetX",o,M),offsetY:G(C,r,"OffsetY",o,x),color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:f,rotateClockwise:e.rotateClockwise,referenceSize:c,sizeRatio:N/Object(s.c)(e.size),markerPlacement:e.markerPlacement};a.push(L)}function W(e){if(e&&0===e.indexOf("Level_")){var t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function U(e){if(!e||0===e.length)return null;var t=new c.a(e).toRgba();return{r:t[0],g:t[1],b:t[2],a:t[3]}}function G(e,t,r,n,i,o,a){var l=t[e];if(l){var c=l[r];if("string"==typeof c||"number"==typeof c||c instanceof Array)return o?o.call(null,c,a):c;if(null!=c&&c instanceof m.a)return function(e,t,r){var l=Object(h.a)(c,e,{$view:r},n.geometryType,t);return null!==l&&o&&(l=o.call(null,l,a)),null!==l?l:i}}return i}function _(e,t,r,n){var i,o=g(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.valueExpressionInfo&&function(){var e=t[a.primitiveName]&&t[a.primitiveName][a.propertyName];e instanceof m.a&&(a.fn=function(t,r,i){return Object(h.a)(e,t,{$view:i},n.geometryType,r)})}()}}catch(l){o.e(l)}finally{o.f()}return function(t,n,i){var o,a=g(r);try{for(a.s();!(o=a.n()).done;){var c=o.value;c.fn&&(c.value=c.fn(t,n,i))}}catch(l){a.e(l)}finally{a.f()}return Object(u.b)(e+y.b.buildOverrideKey(r)).toString()}}function B(e,t){if(!t||0===t.length)return e;var r=JSON.parse(JSON.stringify(e));return y.b.applyOverrides(r,t),r}function q(e,t){var r,n=!1,i="",o=g(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.primitiveName===t&&(void 0!==a.value?i+="-".concat(a.primitiveName,"-").concat(a.propertyName,"-").concat(JSON.stringify(a.value)):a.valueExpressionInfo&&(n=!0))}}catch(l){o.e(l)}finally{o.f()}return[n,i]}},QowV:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("Kp6J");function n(e,t,r,n){var i=e.clone(),o=1<<i.level,a=i.col+t,l=i.row+r;return n&&a<0?(i.col=a+o,i.world-=1):a>=o?(i.col=a-o,i.world+=1):i.col=a,i.row=l,i}},hQel:function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return m}));var n=r("aNYv"),i=r("aic5"),o=r("zEHB"),a=r("vlc1");function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":var t=e.symbolLayers;return t&&1===t.length?f(t[0]):null;case"CIMVectorMarker":var r=e.markerGraphics;if(!r||1!==r.length)return null;var n=r[0];if(!n)return null;var i=n.geometry;if(!i)return null;var o=n.symbol;return!o||"CIMPolygonSymbol"!==o.type&&"CIMLineSymbol"!==o.type?null:{geom:i,asFill:"CIMPolygonSymbol"===o.type};case"sdf":return{geom:e.geom,asFill:e.asFill}}return null}function s(e){var t,r=1/0,n=-1/0,i=1/0,o=-1/0,a=l(e);try{for(a.s();!(t=a.n()).done;){var c,f=l(t.value);try{for(f.s();!(c=f.n()).done;){var s=c.value;s[0]<r&&(r=s[0]),s[0]>n&&(n=s[0]),s[1]<i&&(i=s[1]),s[1]>o&&(o=s[1])}}catch(u){f.e(u)}finally{f.f()}}}catch(u){a.e(u)}finally{a.f()}return[r,i,n,o]}function u(e){return e?e.rings?s(e.rings):e.paths?s(e.paths):Object(i.d)(e)?[e.xmin,e.ymin,e.xmax,e.ymax]:null:null}function m(e,t,r,i,o){var a=Object(n.a)(e,4),l=a[0],c=a[1],f=a[2],s=a[3];if(f<l||s<c)return[0,0,0];var u=f-l,m=s-c,y=Math.floor(31.5),p=(128-2*(y+1))/Math.max(u,m),v=Math.round(u*p)+2*y,h=Math.round(m*p)+2*y,b=1;t&&(b=h/p/(t.ymax-t.ymin));var d=0,g=0;if(i)if(o){if(t&&r&&t.ymax-t.ymin>0){var O=(t.xmax-t.xmin)/(t.ymax-t.ymin);d=i.x/(r*O),g=i.y/r}}else d=i.x,g=i.y;return d=.5*(t.xmax+t.xmin)+d*(t.xmax-t.xmin),g=.5*(t.ymax+t.ymin)+g*(t.ymax-t.ymin),d-=l,g-=c,d*=p,g*=p,[b,(d+=y)/v-.5,-((g+=y)/h-.5)]}function y(e){var t,r=function(e){return e?e.rings?e.rings:e.paths?e.paths:void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:null:null}(e.geom),i=function(e){var t,r=1/0,n=-1/0,i=1/0,o=-1/0,c=l(e);try{for(c.s();!(t=c.n()).done;){var f,s=l(t.value);try{for(s.s();!(f=s.n()).done;){var u=f.value;u[0]<r&&(r=u[0]),u[0]>n&&(n=u[0]),u[1]<i&&(i=u[1]),u[1]>o&&(o=u[1])}}catch(m){s.e(m)}finally{s.f()}}}catch(m){c.e(m)}finally{c.f()}return new a.a(r,i,n-r,o-i)}(r),o=Math.floor(31.5),c=(128-2*(o+1))/Math.max(i.width,i.height),f=Math.round(i.width*c)+2*o,s=Math.round(i.height*c)+2*o,u=[],m=l(r);try{for(m.s();!(t=m.n()).done;){var y=t.value;if(y&&y.length>1){var v,h=[],b=l(y);try{for(b.s();!(v=b.n()).done;){var d=v.value,g=Object(n.a)(d,2),O=g[0],S=g[1];O-=i.x,S-=i.y,O*=c,S*=c,O+=o-.5,S+=o-.5,h.push([O,S])}}catch(k){b.e(k)}finally{b.f()}if(e.asFill){var w=h.length-1;h[0][0]===h[w][0]&&h[0][1]===h[w][1]||h.push(h[0])}u.push(h)}}}catch(k){m.e(k)}finally{m.f()}var j=function(e,t,r,n){for(var i=t*r,o=new Array(i),a=n*n+1,c=0;c<i;++c)o[c]=a;var f,s=l(e);try{for(s.s();!(f=s.n()).done;)for(var u=f.value,m=u.length,y=1;y<m;++y){var p=u[y-1],v=u[y],h=void 0,b=void 0,d=void 0,g=void 0;p[0]<v[0]?(h=p[0],b=v[0]):(h=v[0],b=p[0]),p[1]<v[1]?(d=p[1],g=v[1]):(d=v[1],g=p[1]);var O=Math.floor(h)-n,S=Math.floor(b)+n,w=Math.floor(d)-n,j=Math.floor(g)+n;O<0&&(O=0),S>t&&(S=t),w<0&&(w=0),j>r&&(j=r);for(var N=v[0]-p[0],C=v[1]-p[1],P=N*N+C*C,M=O;M<S;M++)for(var x=w;x<j;x++){var I=void 0,L=void 0,A=(M-p[0])*N+(x-p[1])*C;A<0?(I=p[0],L=p[1]):A>P?(I=v[0],L=v[1]):(A/=P,I=p[0]+A*N,L=p[1]+A*C);var J=(M-I)*(M-I)+(x-L)*(x-L),X=(r-x-1)*t+M;J<o[X]&&(o[X]=J)}}}catch(k){s.e(k)}finally{s.f()}for(var z=0;z<i;++z)o[z]=Math.sqrt(o[z]);return o}(u,f,s,o);return e.asFill&&function(e,t,r,n,i){var o,a=l(e);try{for(a.s();!(o=a.n()).done;)for(var c=o.value,f=c.length,s=1;s<f;++s){var u=c[s-1],m=c[s],y=void 0,p=void 0,v=void 0,h=void 0;u[0]<m[0]?(y=u[0],p=m[0]):(y=m[0],p=u[0]),u[1]<m[1]?(v=u[1],h=m[1]):(v=m[1],h=u[1]);var b=Math.floor(y),d=Math.floor(p)+1,g=Math.floor(v),O=Math.floor(h)+1;b<n&&(b=n),d>t-n&&(d=t-n),g<n&&(g=n),O>r-n&&(O=r-n);for(var S=g;S<O;++S)if(u[1]>S!=m[1]>S){for(var w=(r-S-1)*t,j=b;j<d;++j)j<(m[0]-u[0])*(S-u[1])/(m[1]-u[1])+u[0]&&(i[w+j]=-i[w+j]);for(var N=n;N<b;++N)i[w+N]=-i[w+N]}}}catch(k){a.e(k)}finally{a.f()}}(u,f,s,o,j),[p(j,o),f,s]}function p(e,t){for(var r=2*t,n=e.length,i=new Uint8Array(4*n),a=0;a<n;++a){var l=.5-e[a]/r;Object(o.a)(l,i,4*a)}return i}},"yD0/":function(e,t,r){"use strict";r.r(t);var n=r("hisu"),i=r("yBJb"),o=r("CHlC"),a=r("kMo5"),l=r("P+uj"),c=r("dQW7"),f=r("4VMI"),s=r("hKEQ"),u=r("kDog"),m=r("j56I"),y=(r("xAIp"),r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),p=r("vU4c"),v=r("qCZy"),h=r("kJId"),b=r("55C+"),d=r("F0Fd"),g=r("KA0i"),O=r("bPf0");function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var k=function(e){Object(o.a)(r,e);var t=j(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments))._graphicsViewMap={},e._popupTemplates=new Map,e.graphicsViews=[],e}return Object(i.a)(r,[{key:"hitTest",value:function(e,t){var r=this;if(this.suspended||!this.graphicsViews.length)return Promise.resolve(null);var n=this.graphicsViews.reverse().map((function(r){return r.hitTest(e,t)}));return Promise.all(n).then((function(e){return e.filter((function(e,t){return e&&(e.popupTemplate=r._popupTemplates.get(r.graphicsViews[t]),e.layer=r.layer,e.sourceLayer=r.layer),!!e}))[0]||null}))}},{key:"update",value:function(e){if(this.graphicsViews){var t,r=S(this.graphicsViews);try{for(r.s();!(t=r.n()).done;){t.value.processUpdate(e)}}catch(n){r.e(n)}finally{r.f()}}}},{key:"attach",value:function(){var e=this;this.layer.featureCollections.forEach((function(t){var r,n=h.default.fromJSON(t.featureSet),i=new(u.a.ofType(f.a))(n.features);if(e._graphicsViewMap[n.geometryType])(r=e._graphicsViewMap[n.geometryType]).graphics.addMany(i);else{var o=t.layerDefinition.drawingInfo,a=t.popupInfo?s.a.fromJSON(t.popupInfo):null,l=Object(v.a)(o.renderer);r=new g.a({requestUpdateCallback:function(){return e.requestUpdate()},view:e.view,graphics:i,renderer:l,container:new d.a(e.view.featuresTilingScheme)}),e._graphicsViewMap[n.geometryType]=r,e._popupTemplates.set(r,a),"polygon"!==n.geometryType||e.layer.polygonSymbol?"polyline"!==n.geometryType||e.layer.lineSymbol?"point"!==n.geometryType||e.layer.pointSymbol||(e.layer.pointSymbol=l.symbol):e.layer.lineSymbol=l.symbol:e.layer.polygonSymbol=l.symbol,e.graphicsViews.push(r),e.container.addChild(r.container)}})),this.handles.add([Object(m.a)(this.layer,"polygonSymbol",(function(t){e._graphicsViewMap.polygon.renderer=new p.a({symbol:t})})),Object(m.a)(this.layer,"lineSymbol",(function(t){e._graphicsViewMap.polyline.renderer=new p.a({symbol:t})})),Object(m.a)(this.layer,"pointSymbol",(function(t){e._graphicsViewMap.point.renderer=new p.a({symbol:t})}))])}},{key:"detach",value:function(){this.container.removeAllChildren();var e,t=S(this.graphicsViews);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(r){t.e(r)}finally{t.f()}this.graphicsViews.length=0}},{key:"moveStart",value:function(){}},{key:"moveEnd",value:function(){}},{key:"viewChange",value:function(){var e,t=S(this.graphicsViews);try{for(t.s();!(e=t.n()).done;){e.value.viewChange()}}catch(r){t.e(r)}finally{t.f()}}}]),r}(Object(b.a)(O.a)),N=k=Object(c.a)([Object(y.a)("esri.views.2d.layers.GeoRSSLayerView2D")],k);t.default=N}}]);
//# sourceMappingURL=57-88deedea58f34015d819.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{VDow:function(e,r,a){"use strict";a.r(r),a.d(r,"populateOperationalLayers",(function(){return v}));var t=a("eijD"),n=a("NthX"),i=a.n(n),c=a("kDog"),u=(a("J4Pc"),a("IH5m")),y=a("qtK3"),o=a("OYdn"),s=a("fDX0");function l(e,r){return L(e,r,"notes","Map Notes")}function p(e,r){return L(e,r,"route","Route Layer")}function L(e,r,a,t){return f.apply(this,arguments)}function f(){return(f=Object(t.a)(i.a.mark((function e(r,a,t,n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.layerType&&"ArcGISFeatureLayer"===r.layerType){e.next=2;break}return e.abrupt("return",!1);case 2:if(!r.url){e.next=4;break}return e.abrupt("return",!1);case 4:if(!r.featureCollectionType||r.featureCollectionType!==t){e.next=6;break}return e.abrupt("return",!0);case 6:if(!r.itemId){e.next=11;break}return c=new o.default({id:r.itemId,portal:a}),e.next=10,c.load();case 10:return e.abrupt("return","Feature Collection"===c.type&&Object(s.b)(c,n));case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=a("mVh5"),d=a("okYM");function b(e,r){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,r){if(!e)return;if("string"==typeof e)return I(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return I(e,r)}(e))||r&&e&&"number"==typeof e.length){a&&(e=a);var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==a.return||a.return()}finally{if(u)throw i}}}}function I(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,t=new Array(r);a<r;a++)t[a]=e[a];return t}function v(e,r,a){return T.apply(this,arguments)}function T(){return(T=Object(t.a)(i.a.mark((function e(r,a,t){var n,c,y,o,s,l,p,L,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:n=[],c=b(a);try{for(c.s();!(y=c.n()).done;)o=y.value,s=G(o,t),"GroupLayer"===o.layerType?n.push(B(s,o,t)):n.push(s)}catch(i){c.e(i)}finally{c.f()}return e.next=7,Object(u.j)(n);case 7:l=e.sent,p=b(l);try{for(p.s();!(L=p.n()).done;)!(f=L.value).value||t.filter&&!t.filter(f.value)||r.add(f.value)}catch(i){p.e(i)}finally{p.f()}case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},g={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},M={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},h={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",OGCFeatureLayer:"OGCFeatureLayer",SubtypeGroupLayer:"UnsupportedLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},w={ArcGISFeatureLayer:"FeatureLayer"},x={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};function G(e,r){return A.apply(this,arguments)}function A(){return(A=Object(t.a)(i.a.mark((function e(r,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k,e.next=3,W(r,a);case 3:return e.t1=e.sent,e.t2=r,e.t3=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,r,a){return O.apply(this,arguments)}function O(){return(O=Object(t.a)(i.a.mark((function e(r,a,t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new r).read(a,t.context),e.t0="group"===n.type&&F(a),!e.t0){e.next=6;break}return e.next=6,U(n,a,t.context);case 6:return e.next=8,Object(d.a)(n,t.context);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,r){return C.apply(this,arguments)}function C(){return(C=Object(t.a)(i.a.mark((function e(r,a){var t,n,c,u,s,L,f,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.context,n=V(t),!(c=r.layerType||r.type)&&a&&a.defaultLayerType&&(c=a.defaultLayerType),u=n[c],s=u?y.a[u]:y.a.UnknownLayer,L=t&&t.portal,!j(r)){e.next=20;break}if(!r.itemId){e.next=18;break}return f=new o.default({id:r.itemId,portal:L}),e.next=11,f.load();case 11:return e.next=13,Object(S.selectLayerClassPath)(f);case 13:if(e.t0=e.sent.className,e.t0){e.next=16;break}e.t0="UnknownLayer";case 16:d=e.t0,s=y.a[d];case 18:e.next=37;break;case 20:if("ArcGISFeatureLayer"!==c){e.next=36;break}return e.next=23,l(r,L);case 23:if(!e.sent){e.next=27;break}s=y.a.MapNotesLayer,e.next=34;break;case 27:return e.next=29,p(r,L);case 29:if(!e.sent){e.next=33;break}s=y.a.RouteLayer,e.next=34;break;case 33:F(r)&&(s=y.a.GroupLayer);case 34:e.next=37;break;case 36:r.wmtsInfo&&r.wmtsInfo.url&&r.wmtsInfo.layerIdentifier?s=y.a.WMTSLayer:"WFS"===c&&"2.0.0"!==r.wfsInfo.version&&(s=y.a.UnsupportedLayer);case 37:return e.abrupt("return",s());case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){if("ArcGISFeatureLayer"!==e.layerType||j(e))return!1;var r=e.featureCollection;return!!(r&&r.layers&&r.layers.length>1)}function j(e){return"Feature Collection"===e.type}function V(e){var r;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":r=M;break;case"ground":r=g;break;default:r=m}break;default:switch(e.layerContainerType){case"basemap":r=x;break;case"tables":r=w;break;default:r=h}}return r}function B(e,r,a){return D.apply(this,arguments)}function D(){return(D=Object(t.a)(i.a.mark((function e(r,a,t){var n,u,y;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new c.a,u=v(n,Array.isArray(a.layers)?a.layers:[],t),e.next=4,r;case 4:return y=e.sent,e.next=7,u;case 7:if("group"!==y.type){e.next=9;break}return e.abrupt("return",(y.layers.addMany(n),y));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,r,a){return R.apply(this,arguments)}function R(){return(R=Object(t.a)(i.a.mark((function e(r,a,t){var n,c,u,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.a.FeatureLayer,e.next=3,n();case 3:c=e.sent,u=a.featureCollection,o=u.showLegend,s=u.layers.map((function(e){var r=new c;return r.read(e,t),null!=o&&r.read({showLegend:o},t),r})),r.layers.addMany(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=12-43126c151df4c4801995.js.map
{"version":3,"sources":["webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/arcade/functions/featuresetbase.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e22","f","TypeError","err","normalCompletion","didErr","step","next","_e23","return","arr","len","arr2","H","t","r","getVariables","_i","_e","_a","push","evaluateIdentifier","then","_e2","parameters","z","arguments","undefined","_r","toLowerCase","U","type","range","codedValues","_step","_iterator","_n","code","W","wkt","wkid","_","hasZ","hasM","spatialReference","x","y","rings","a","paths","points","_i2","_arr","_l","_n2","J","layerDefinition","featureSet","_step2","_iterator2","q","geometryType","objectIdField","fields","features","K","C","mode","functions","getuser","standardFunctionAsync","l","_e3","services","portal","_n4","JSON","parse","stringify","_i3","_arr2","_e4","Date","convertObjectToArcadeDictionary","u","load","getOwningSystemUrl","getIdentityUser","username","_n5","_i4","_arr3","_e5","Error","signatures","min","max","featuresetbyid","_e6","_t","_r2","featureSetById","featuresetbyportalitem","_e7","_n6","_r3","_l2","_o","lrucache","interceptor","featuresetbyname","_e8","_t2","_r4","featureSetByName","featureset","standardFunction","globalIdField","typeIdField","objectIdFieldName","typeIdFieldName","globalIdFieldName","_e9","castToText","_t3","_step3","_iterator3","_r6","_e11","alias","nullable","editable","domain","_n7","_step4","_e10","_iterator4","_t4","_step5","_iterator5","_t5","_n8","_r5","_t6","attributes","geometry","_e12","_step6","_iterator6","_n9","_e13","_step7","_t7","_iterator7","_n10","_step8","_iterator8","_n11","_e14","_r7","_n12","create","filter","getFieldsIndex","_t8","_n13","_r8","_n14","parentfeatureset","whereclause","failDefferred","orderby","_e15","orderbyclause","top","topnum","first","abortSignal","_t9","createFromGraphicLikeObject","_underlyingGraphic","get","attachments","minsize","maxsize","types","hasField","field","_e16","_t10","_layer","queryAttachments","featuresetbyrelationshipname","h","relationshipMetaData","relationshipTableId","serviceUrl","charAt","relatedTableId","id","keyField","getFeatureByObjectId","_i5","featuresetbyassociation","_step9","_iterator9","terminals","_t11","terminalName","terminalId","_step10","associations","c","d","m","p","g","_iterator10","_s","I","E","S","$","T","_a2","lkp","sourceId","L","v","concat","codefield","_n15","findField","unVersion","_n16","_r9","_i6","_a3","adaptedFields","extraFilter","groupby","toArray","_step11","_iterator11","_e18","_t15","_i9","expression","_t16","_i10","_step12","_iterator12","_e19","_t17","_r12","_i11","statistic","_step13","_e17","_iterator13","_step14","_iterator14","_n17","_step15","_iterator15","_n18","_step16","_t12","_iterator16","_n19","_i7","_r11","_t13","_i8","_a4","_t14","distinct","_step17","_iterator17","_e21","_t20","_i13","_t21","_i14","_step18","_e20","_iterator18","_step19","_iterator19","_n20","_step20","_t18","_iterator20","_n21","_i12","_r14","_t19","V"],"mappings":"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","file":"70-02947cc2c566757c9e6e.js","sourcesContent":["function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e22) { throw _e22; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e23) { didErr = true; err = _e23; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../ArcadePortal.js\";\nimport t from \"../Dictionary.js\";\nimport n from \"../Feature.js\";\nimport r from \"../featureSetCollection.js\";\nimport { getPortal as i, lookupUser as a, constructFeatureSetFromPortalItem as s, constructFeatureSet as l, constructFeatureSetFromRelationship as o, constructFeatureSetFromUrl as f, constructAssociationMetaDataFeatureSetFromUrl as u } from \"../featureSetUtils.js\";\nimport { p as c, C as d, d as m, q as p, u as y, a as g, g as h, t as F, b as I, T as E, L as D } from \"../../chunks/languageUtils.js\";\nimport { SqlExpressionAdapted as w, StringToCodeAdapted as b, FieldRename as A, AdaptedFeatureSet as N, OriginalField as x } from \"../featureset/actions/Adapted.js\";\nimport S from \"../featureset/actions/AttributeFilter.js\";\nimport $ from \"../featureset/actions/OrderBy.js\";\nimport T from \"../featureset/actions/Top.js\";\nimport L from \"../featureset/sources/Empty.js\";\nimport v from \"../featureset/sources/FeatureLayerMemory.js\";\nimport j from \"../featureset/support/OrderbyClause.js\";\nimport { cloneField as O } from \"../featureset/support/shared.js\";\nimport { isSingleField as R } from \"../featureset/support/sqlUtils.js\";\nimport { calculateStat as C } from \"./fieldStats.js\";\nimport { all as P, resolve as M } from \"../../core/promiseUtils.js\";\nimport { WhereClause as k } from \"../../core/sql/WhereClause.js\";\nimport G from \"../../layers/FeatureLayer.js\";\nimport B from \"../../layers/support/Field.js\";\n\nfunction V(e, t, n, r) {\n  if (1 === r.length) {\n    if (g(r[0])) return C(e, r[0], -1);\n    if (I(r[0])) return C(e, r[0].toArray(), -1);\n  }\n\n  return C(e, r, -1);\n}\n\nfunction H(e, t, n) {\n  var r = e.getVariables();\n\n  if (r.length > 0) {\n    var _i = [];\n\n    for (var _e = 0; _e < r.length; _e++) {\n      var _a = {\n        name: r[_e]\n      };\n\n      _i.push(t.evaluateIdentifier(n, _a));\n    }\n\n    return P(_i).then(function (t) {\n      var n = {};\n\n      for (var _e2 = 0; _e2 < r.length; _e2++) {\n        n[r[_e2]] = t[_e2];\n      }\n\n      return e.parameters = n, e;\n    });\n  }\n\n  return M(e);\n}\n\nfunction z(e, t) {\n  var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  for (var _r in e) {\n    if (_r.toLowerCase() === t.toLowerCase()) return e[_r];\n  }\n\n  return n;\n}\n\nfunction U(e) {\n  if (null === e) return null;\n  var t = {\n    type: z(e, \"type\", \"\"),\n    name: z(e, \"name\", \"\")\n  };\n  if (\"range\" === t.type) t.range = z(e, \"range\", []);else {\n    t.codedValues = [];\n\n    var _iterator = _createForOfIteratorHelper(z(e, \"codedValues\", [])),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _n = _step.value;\n        t.codedValues.push({\n          name: z(_n, \"name\", \"\"),\n          code: z(_n, \"code\", null)\n        });\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  return t;\n}\n\nfunction W(e) {\n  if (null === e) return null;\n  var t = {},\n      n = z(e, \"wkt\", null);\n  null !== n && (t.wkt = n);\n  var r = z(e, \"wkid\", null);\n  return null !== r && (t.wkid = r), t;\n}\n\nfunction _(e) {\n  if (null === e) return null;\n  var t = {\n    hasZ: z(e, \"hasz\", !1),\n    hasM: z(e, \"hasm\", !1)\n  },\n      n = z(e, \"spatialreference\", null);\n  n && (t.spatialReference = W(n));\n  var r = z(e, \"x\", null);\n  if (null !== r) return t.x = r, t.y = z(e, \"y\", null), t;\n  var i = z(e, \"rings\", null);\n  if (null !== i) return t.rings = i, t;\n  var a = z(e, \"paths\", null);\n  if (null !== a) return t.paths = a, t;\n  var s = z(e, \"points\", null);\n  if (null !== s) return t.points = s, t;\n\n  for (var _i2 = 0, _arr = [\"xmin\", \"xmax\", \"ymin\", \"ymax\", \"zmin\", \"zmax\", \"mmin\", \"mmax\"]; _i2 < _arr.length; _i2++) {\n    var _l = _arr[_i2];\n\n    var _n2 = z(e, _l, null);\n\n    null !== _n2 && (t[_l] = _n2);\n  }\n\n  return t;\n}\n\nfunction q(e, t) {\n  var _iterator2 = _createForOfIteratorHelper(t),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _n3 = _step2.value;\n      if (_n3 === e) return !0;\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return !1;\n}\n\nfunction J(e) {\n  return !!e.layerDefinition && !!e.featureSet && !1 !== q(e.layerDefinition.geometryType, [\"\", \"esriGeometryPoint\", \"esriGeometryPolyline\", \"esriGeometryPolygon\", \"esriGeometryMultipoint\", \"esriGeometryEnvelope\"]) && null !== e.layerDefinition.objectIdField && \"\" !== e.layerDefinition.objectIdField && !1 !== g(e.layerDefinition.fields) && !1 !== g(e.featureSet.features);\n}\n\nfunction K(C) {\n  \"async\" === C.mode && (C.functions.getuser = function (n, r) {\n    return C.standardFunctionAsync(n, r, function (r, s, l) {\n      c(l, 1, 2);\n      var o = d(l[1], \"\"),\n          f = !0 === o;\n\n      if (o = !0 === o || !1 === o ? \"\" : m(o), l[0] instanceof e) {\n        var _e3 = null;\n        return n.services && n.services.portal && (_e3 = n.services.portal), _e3 = i(l[0], _e3), a(_e3, o, f).then(function (e) {\n          if (e) {\n            var _n4 = JSON.parse(JSON.stringify(e));\n\n            for (var _i3 = 0, _arr2 = [\"lastLogin\", \"created\", \"modified\"]; _i3 < _arr2.length; _i3++) {\n              var _e4 = _arr2[_i3];\n              void 0 !== _n4[_e4] && null !== _n4[_e4] && (_n4[_e4] = new Date(_n4[_e4]));\n            }\n\n            return t.convertObjectToArcadeDictionary(_n4);\n          }\n\n          return null;\n        });\n      }\n\n      var u = null;\n      if (p(l[0]) && (u = l[0]), u) return f = !1, o ? null : u.load().then(function () {\n        return u.getOwningSystemUrl();\n      }).then(function (r) {\n        if (!r) return o ? null : u.getIdentityUser().then(function (e) {\n          return e ? t.convertObjectToArcadeDictionary({\n            username: e\n          }) : null;\n        });\n        var s = null;\n        return n.services && n.services.portal && (s = n.services.portal), s = i(new e(r), s), a(s, o, f).then(function (e) {\n          if (e) {\n            var _n5 = JSON.parse(JSON.stringify(e));\n\n            for (var _i4 = 0, _arr3 = [\"lastLogin\", \"created\", \"modified\"]; _i4 < _arr3.length; _i4++) {\n              var _e5 = _arr3[_i4];\n              void 0 !== _n5[_e5] && null !== _n5[_e5] && (_n5[_e5] = new Date(_n5[_e5]));\n            }\n\n            return t.convertObjectToArcadeDictionary(_n5);\n          }\n\n          return null;\n        });\n      });\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, C.signatures.push({\n    name: \"getuser\",\n    min: \"1\",\n    max: \"2\"\n  }), C.functions.featuresetbyid = function (e, t) {\n    return C.standardFunctionAsync(e, t, function (e, t, n) {\n      if (c(n, 2, 4), n[0] instanceof r) {\n        var _e6 = m(n[1]);\n\n        var _t = d(n[2], null);\n\n        var _r2 = y(d(n[3], !0));\n\n        if (null === _t && (_t = [\"*\"]), !1 === g(_t)) throw new Error(\"Invalid Parameter\");\n        return n[0].featureSetById(_e6, _r2, _t);\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, C.signatures.push({\n    name: \"featuresetbyid\",\n    min: \"2\",\n    max: \"4\"\n  }), C.functions.featuresetbyportalitem = function (t, n) {\n    return C.standardFunctionAsync(t, n, function (n, r, a) {\n      if (c(a, 2, 5), null === a[0]) throw new Error(\"Portal is required\");\n\n      if (a[0] instanceof e) {\n        var _e7 = m(a[1]),\n            _n6 = m(a[2]);\n\n        var _r3 = d(a[3], null);\n\n        var _l2 = y(d(a[4], !0));\n\n        if (null === _r3 && (_r3 = [\"*\"]), !1 === g(_r3)) throw new Error(\"Invalid Parameter\");\n        var _o = null;\n        return t.services && t.services.portal && (_o = t.services.portal), _o = i(a[0], _o), s(_e7, _n6, t.spatialReference, _r3, _l2, _o, t.lrucache, t.interceptor);\n      }\n\n      if (!1 === h(a[0])) throw new Error(\"Portal is required\");\n      var l = m(a[0]),\n          o = m(a[1]);\n      var f = d(a[2], null);\n      var u = y(d(a[3], !0));\n      if (null === f && (f = [\"*\"]), !1 === g(f)) throw new Error(\"Invalid Parameter\");\n      if (t.services && t.services.portal) return s(l, o, t.spatialReference, f, u, t.services.portal, t.lrucache, t.interceptor);\n      throw new Error(\"Portal is required\");\n    });\n  }, C.signatures.push({\n    name: \"featuresetbyportalitem\",\n    min: \"2\",\n    max: \"5\"\n  }), C.functions.featuresetbyname = function (e, t) {\n    return C.standardFunctionAsync(e, t, function (e, t, n) {\n      if (c(n, 2, 4), n[0] instanceof r) {\n        var _e8 = m(n[1]);\n\n        var _t2 = d(n[2], null);\n\n        var _r4 = y(d(n[3], !0));\n\n        if (null === _t2 && (_t2 = [\"*\"]), !1 === g(_t2)) throw new Error(\"Invalid Parameter\");\n        return n[0].featureSetByName(_e8, _r4, _t2);\n      }\n\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, C.signatures.push({\n    name: \"featuresetbyname\",\n    min: \"2\",\n    max: \"4\"\n  }), C.functions.featureset = function (e, n) {\n    return C.standardFunction(e, n, function (n, r, i) {\n      c(i, 1, 1);\n      var a = i[0];\n      var s = {\n        layerDefinition: {\n          geometryType: \"\",\n          objectIdField: \"\",\n          globalIdField: \"\",\n          typeIdField: \"\",\n          fields: []\n        },\n        featureSet: {\n          geometryType: \"\",\n          features: []\n        }\n      };\n      if (h(a)) a = JSON.parse(a), void 0 !== a.layerDefinition ? (s.layerDefinition = a.layerDefinition, s.featureSet = a.featureSet, a.layerDefinition.spatialReference && (s.layerDefinition.spatialReference = a.layerDefinition.spatialReference)) : (s.featureSet.features = a.features, s.featureSet.geometryType = a.geometryType, s.layerDefinition.geometryType = s.featureSet.geometryType, s.layerDefinition.objectIdField = a.objectIdFieldName, s.layerDefinition.typeIdField = a.typeIdFieldName, s.layerDefinition.globalIdField = a.globalIdFieldName, s.layerDefinition.fields = a.fields, a.spatialReference && (s.layerDefinition.spatialReference = a.spatialReference));else {\n        if (!(i[0] instanceof t)) throw new Error(\"Invalid Parameter\");\n        {\n          a = JSON.parse(i[0].castToText());\n\n          var _e9 = z(a, \"layerdefinition\");\n\n          if (null !== _e9) {\n            s.layerDefinition.geometryType = z(_e9, \"geometrytype\", \"\"), s.featureSet.geometryType = s.layerDefinition.geometryType, s.layerDefinition.globalIdField = z(_e9, \"globalidfield\", \"\"), s.layerDefinition.objectIdField = z(_e9, \"objectidfield\", \"\"), s.layerDefinition.typeIdField = z(_e9, \"typeidfield\", \"\");\n\n            var _t3 = z(_e9, \"spatialreference\", null);\n\n            _t3 && (s.layerDefinition.spatialReference = W(_t3));\n\n            var _iterator3 = _createForOfIteratorHelper(z(_e9, \"fields\", [])),\n                _step3;\n\n            try {\n              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                var _r6 = _step3.value;\n                var _e11 = {\n                  name: z(_r6, \"name\", \"\"),\n                  alias: z(_r6, \"alias\", \"\"),\n                  type: z(_r6, \"type\", \"\"),\n                  nullable: z(_r6, \"nullable\", !0),\n                  editable: z(_r6, \"editable\", !0),\n                  length: z(_r6, \"length\", null),\n                  domain: U(z(_r6, \"domain\"))\n                };\n                s.layerDefinition.fields.push(_e11);\n              }\n            } catch (err) {\n              _iterator3.e(err);\n            } finally {\n              _iterator3.f();\n            }\n\n            var _n7 = z(a, \"featureset\", null);\n\n            if (_n7) {\n              var _e10 = {};\n\n              var _iterator4 = _createForOfIteratorHelper(s.layerDefinition.fields),\n                  _step4;\n\n              try {\n                for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                  var _t4 = _step4.value;\n                  _e10[_t4.name.toLowerCase()] = _t4.name;\n                }\n              } catch (err) {\n                _iterator4.e(err);\n              } finally {\n                _iterator4.f();\n              }\n\n              var _iterator5 = _createForOfIteratorHelper(z(_n7, \"features\", [])),\n                  _step5;\n\n              try {\n                for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                  var _t5 = _step5.value;\n\n                  var _n8 = {},\n                      _r5 = z(_t5, \"attributes\", {});\n\n                  for (var _t6 in _r5) {\n                    _n8[_e10[_t6.toLowerCase()]] = _r5[_t6];\n                  }\n\n                  s.featureSet.features.push({\n                    attributes: _n8,\n                    geometry: _(z(_t5, \"geometry\", null))\n                  });\n                }\n              } catch (err) {\n                _iterator5.e(err);\n              } finally {\n                _iterator5.f();\n              }\n            }\n          } else {\n            s.layerDefinition.geometryType = z(a, \"geometrytype\", \"\"), s.featureSet.geometryType = s.layerDefinition.geometryType, s.layerDefinition.objectIdField = z(a, \"objectidfieldname\", \"\"), s.layerDefinition.typeIdField = z(a, \"typeidfieldname\", \"\");\n\n            var _e12 = z(a, \"spatialreference\", null);\n\n            _e12 && (s.layerDefinition.spatialReference = W(_e12));\n\n            var _iterator6 = _createForOfIteratorHelper(z(a, \"fields\", [])),\n                _step6;\n\n            try {\n              for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                var _n9 = _step6.value;\n                var _e13 = {\n                  name: z(_n9, \"name\", \"\"),\n                  alias: z(_n9, \"alias\", \"\"),\n                  type: z(_n9, \"type\", \"\"),\n                  nullable: z(_n9, \"nullable\", !0),\n                  editable: z(_n9, \"editable\", !0),\n                  length: z(_n9, \"length\", null),\n                  domain: U(z(_n9, \"domain\"))\n                };\n                s.layerDefinition.fields.push(_e13);\n              }\n            } catch (err) {\n              _iterator6.e(err);\n            } finally {\n              _iterator6.f();\n            }\n\n            var _t7 = {};\n\n            var _iterator7 = _createForOfIteratorHelper(s.layerDefinition.fields),\n                _step7;\n\n            try {\n              for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                var _n10 = _step7.value;\n                _t7[_n10.name.toLowerCase()] = _n10.name;\n              }\n            } catch (err) {\n              _iterator7.e(err);\n            } finally {\n              _iterator7.f();\n            }\n\n            var _iterator8 = _createForOfIteratorHelper(z(a, \"features\", [])),\n                _step8;\n\n            try {\n              for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n                var _n11 = _step8.value;\n\n                var _e14 = {},\n                    _r7 = z(_n11, \"attributes\", {});\n\n                for (var _n12 in _r7) {\n                  _e14[_t7[_n12.toLowerCase()]] = _r7[_n12];\n                }\n\n                s.featureSet.features.push({\n                  attributes: _e14,\n                  geometry: _(z(_n11, \"geometry\", null))\n                });\n              }\n            } catch (err) {\n              _iterator8.e(err);\n            } finally {\n              _iterator8.f();\n            }\n          }\n        }\n      }\n      if (!1 === J(s)) throw new Error(\"Invalid Parameter\");\n      return v.create(s, e.spatialReference);\n    });\n  }, C.signatures.push({\n    name: \"featureset\",\n    min: \"1\",\n    max: \"1\"\n  }), C.functions.filter = function (e, t) {\n    return C.standardFunctionAsync(e, t, function (t, n, r) {\n      return c(r, 2, 2), p(r[0]) ? r[0].load().then(function (t) {\n        var n = k.create(r[1], t.getFieldsIndex()),\n            i = n.getVariables();\n\n        if (i.length > 0) {\n          var _t8 = [];\n\n          for (var _n13 = 0; _n13 < i.length; _n13++) {\n            var _r8 = {\n              name: i[_n13]\n            };\n\n            _t8.push(C.evaluateIdentifier(e, _r8));\n          }\n\n          return P(_t8).then(function (e) {\n            var t = {};\n\n            for (var _n14 = 0; _n14 < i.length; _n14++) {\n              t[i[_n14]] = e[_n14];\n            }\n\n            return n.parameters = t, new S({\n              parentfeatureset: r[0],\n              whereclause: n\n            });\n          });\n        }\n\n        return M(new S({\n          parentfeatureset: r[0],\n          whereclause: n\n        }));\n      }) : C.failDefferred(\"Filter cannot accept this parameter type\");\n    });\n  }, C.signatures.push({\n    name: \"filter\",\n    min: \"2\",\n    max: \"2\"\n  }), C.functions.orderby = function (e, t) {\n    return C.standardFunctionAsync(e, t, function (e, t, n) {\n      if (c(n, 2, 2), p(n[0])) {\n        var _e15 = new j(n[1]);\n\n        return M(new $({\n          parentfeatureset: n[0],\n          orderbyclause: _e15\n        }));\n      }\n\n      return C.failDefferred(\"Order cannot accept this parameter type\");\n    });\n  }, C.signatures.push({\n    name: \"orderby\",\n    min: \"2\",\n    max: \"2\"\n  }), C.functions.top = function (e, t) {\n    return C.standardFunctionAsync(e, t, function (e, t, n) {\n      return c(n, 2, 2), p(n[0]) ? M(new T({\n        parentfeatureset: n[0],\n        topnum: n[1]\n      })) : g(n[0]) ? F(n[1]) >= n[0].length ? n[0].slice(0) : n[0].slice(0, F(n[1])) : I(n[0]) ? F(n[1]) >= n[0].length() ? n[0].slice(0) : n[0].slice(0, F(n[1])) : C.failDefferred(\"Top cannot accept this parameter type\");\n    });\n  }, C.signatures.push({\n    name: \"top\",\n    min: \"2\",\n    max: \"2\"\n  }), C.functions.first = function (e, t) {\n    return C.standardFunctionAsync(e, t, function (e, t, r) {\n      return c(r, 1, 1), p(r[0]) ? r[0].first(e.abortSignal).then(function (e) {\n        if (null !== e) {\n          var _t9 = n.createFromGraphicLikeObject(e.geometry, e.attributes, r[0]);\n\n          _t9._underlyingGraphic = e, e = _t9;\n        }\n\n        return e;\n      }) : g(r[0]) ? 0 === r[0].length ? M(null) : M(r[0][0]) : I(r[0]) ? 0 === r[0].length() ? M(null) : M(r[0].get(0)) : null;\n    });\n  }, C.signatures.push({\n    name: \"first\",\n    min: \"1\",\n    max: \"1\"\n  }), C.functions.attachments = function (e, r) {\n    return C.standardFunctionAsync(e, r, function (r, i, a) {\n      c(a, 1, 2);\n      var s = {\n        minsize: -1,\n        maxsize: -1,\n        types: null\n      };\n      if (a.length > 1) if (a[1] instanceof t) {\n        if (a[1].hasField(\"minsize\") && (s.minsize = F(a[1].field(\"minsize\"))), a[1].hasField(\"maxsize\") && (s.maxsize = F(a[1].field(\"maxsize\"))), a[1].hasField(\"types\")) {\n          var _e16 = E(a[1].field(\"types\"), !1);\n\n          _e16.length > 0 && (s.types = _e16);\n        }\n      } else if (null !== a[1]) throw new Error(\"Invalid Parameter\");\n\n      if (a[0] instanceof n) {\n        var _t10 = a[0]._layer;\n        return _t10 instanceof G && (_t10 = l(_t10, e.spatialReference, [\"*\"], !0, e.lrucache, e.interceptor)), null === _t10 || !1 === p(_t10) ? [] : _t10.load().then(function () {\n          return _t10.queryAttachments(a[0].field(_t10.objectIdField), s.minsize, s.maxsize, s.types);\n        });\n      }\n\n      if (null === a[0]) return [];\n      throw new Error(\"Invalid Parameter\");\n    });\n  }, C.signatures.push({\n    name: \"attachments\",\n    min: \"1\",\n    max: \"2\"\n  }), C.functions.featuresetbyrelationshipname = function (e, t) {\n    return C.standardFunctionAsync(e, t, function (t, r, i) {\n      c(i, 2, 4);\n      var a = i[0],\n          s = m(i[1]);\n      var u = d(i[2], null);\n      var h = y(d(i[3], !0));\n      if (null === u && (u = [\"*\"]), !1 === g(u)) throw new Error(\"Invalid Parameter\");\n      if (null === i[0]) return null;\n      if (!(i[0] instanceof n)) throw new Error(\"Invalid Parameter\");\n      var F = a._layer;\n      return F instanceof G && (F = l(F, e.spatialReference, [\"*\"], !0, e.lrucache, e.interceptor)), null === F || !1 === p(F) ? null : F.load().then(function (t) {\n        var n = t.relationshipMetaData().filter(function (e) {\n          return e.name === s;\n        });\n        if (0 === n.length) return null;\n        if (void 0 !== n[0].relationshipTableId && null !== n[0].relationshipTableId && n[0].relationshipTableId > -1) return o(t, n[0], a.field(t.objectIdField), t.spatialReference, u, h, e.lrucache, e.interceptor);\n        var r = t.serviceUrl();\n        return r ? (r = \"/\" === r.charAt(r.length - 1) ? r + n[0].relatedTableId.toString() : r + \"/\" + n[0].relatedTableId.toString(), f(r, t.spatialReference, u, h, e.lrucache, e.interceptor).then(function (e) {\n          return e.load().then(function () {\n            return e.relationshipMetaData();\n          }).then(function (r) {\n            if (r = r.filter(function (e) {\n              return e.id === n[0].id;\n            }), !1 === a.hasField(n[0].keyField) || null === a.field(n[0].keyField)) return t.getFeatureByObjectId(a.field(t.objectIdField), [n[0].keyField]).then(function (t) {\n              if (t) {\n                var _i5 = k.create(r[0].keyField + \"= @id\", e.getFieldsIndex());\n\n                return _i5.parameters = {\n                  id: t.attributes[n[0].keyField]\n                }, e.filter(_i5);\n              }\n\n              return new L({\n                parentfeatureset: e\n              });\n            });\n            var i = k.create(r[0].keyField + \"= @id\", e.getFieldsIndex());\n            return i.parameters = {\n              id: a.field(n[0].keyField)\n            }, e.filter(i);\n          });\n        })) : null;\n      });\n    });\n  }, C.signatures.push({\n    name: \"featuresetbyrelationshipname\",\n    min: \"2\",\n    max: \"4\"\n  }), C.functions.featuresetbyassociation = function (e, t) {\n    return C.standardFunctionAsync(e, t, function (t, r, i) {\n      c(i, 2, 3);\n      var a = i[0],\n          s = m(d(i[1], \"\")).toLowerCase(),\n          o = h(i[2]) ? m(i[2]) : null;\n      if (null === i[0]) return null;\n      if (!(i[0] instanceof n)) throw new Error(\"Invalid Parameter\");\n      var f = a._layer;\n      return f instanceof G && (f = l(f, e.spatialReference, [\"*\"], !0, e.lrucache, e.interceptor)), null === f || !1 === p(f) ? null : f.load().then(function () {\n        var t = f.serviceUrl();\n        return u(t, e.spatialReference);\n      }).then(function (e) {\n        var t = null,\n            n = null,\n            r = !1;\n\n        if (null !== o && \"\" !== o && void 0 !== o) {\n          var _iterator9 = _createForOfIteratorHelper(e.terminals),\n              _step9;\n\n          try {\n            for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n              var _t11 = _step9.value;\n              _t11.terminalName === o && (n = _t11.terminalId);\n            }\n          } catch (err) {\n            _iterator9.e(err);\n          } finally {\n            _iterator9.f();\n          }\n\n          null === n && (r = !0);\n        }\n\n        var i = e.associations.getFieldsIndex(),\n            l = i.get(\"TOGLOBALID\").name,\n            u = i.get(\"FROMGLOBALID\").name,\n            c = i.get(\"TOTERMINALID\").name,\n            d = i.get(\"FROMTERMINALID\").name,\n            m = i.get(\"FROMNETWORKSOURCEID\").name,\n            p = i.get(\"TONETWORKSOURCEID\").name,\n            y = i.get(\"ASSOCIATIONTYPE\").name,\n            g = i.get(\"ISCONTENTVISIBLE\").name,\n            h = i.get(\"OBJECTID\").name;\n\n        var _iterator10 = _createForOfIteratorHelper(f.fields),\n            _step10;\n\n        try {\n          for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n            var _s = _step10.value;\n\n            if (\"global-id\" === _s.type) {\n              t = a.field(_s.name);\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator10.e(err);\n        } finally {\n          _iterator10.f();\n        }\n\n        var F = null,\n            I = new w(new B({\n          name: \"percentalong\",\n          alias: \"percentalong\",\n          type: \"double\"\n        }), k.create(\"0\", e.associations.getFieldsIndex())),\n            E = new w(new B({\n          name: \"side\",\n          alias: \"side\",\n          type: \"string\"\n        }), k.create(\"''\", e.associations.getFieldsIndex()));\n        var S = \"globalid\",\n            $ = \"globalId\",\n            T = {};\n\n        for (var _a2 in e.lkp) {\n          T[_a2] = e.lkp[_a2].sourceId;\n        }\n\n        var L = new b(new B({\n          name: \"classname\",\n          alias: \"classname\",\n          type: \"string\"\n        }), null, T);\n        var v = \"\";\n\n        switch (s) {\n          case \"midspan\":\n            {\n              v = \"((\".concat(l, \"='\").concat(t, \"') OR ( \").concat(u, \"='\").concat(t, \"')) AND (\").concat(y, \" IN (5))\"), L.codefield = k.create(\"CASE WHEN (\".concat(l, \"='\").concat(t, \"') THEN \").concat(m, \" ELSE \").concat(p, \" END\"), e.associations.getFieldsIndex());\n\n              var _n15 = O(N.findField(e.associations.fields, u));\n\n              _n15.name = S, _n15.alias = S, F = new w(_n15, k.create(\"CASE WHEN (\".concat(u, \"='\").concat(t, \"') THEN \").concat(l, \" ELSE \").concat(u, \" END\"), e.associations.getFieldsIndex())), I = e.unVersion >= 4 ? new x(N.findField(e.associations.fields, i.get(\"PERCENTALONG\").name)) : new w(new B({\n                name: \"percentalong\",\n                alias: \"percentalong\",\n                type: \"double\"\n              }), k.create(\"0\", e.associations.getFieldsIndex()));\n              break;\n            }\n\n          case \"junctionedge\":\n            {\n              v = \"((\".concat(l, \"='\").concat(t, \"') OR ( \").concat(u, \"='\").concat(t, \"')) AND (\").concat(y, \" IN (4,6))\"), L.codefield = k.create(\"CASE WHEN (\".concat(l, \"='\").concat(t, \"') THEN \").concat(m, \" ELSE \").concat(p, \" END\"), e.associations.getFieldsIndex());\n\n              var _n16 = O(N.findField(e.associations.fields, u));\n\n              _n16.name = S, _n16.alias = S, F = new w(_n16, k.create(\"CASE WHEN (\".concat(u, \"='\").concat(t, \"') THEN \").concat(l, \" ELSE \").concat(u, \" END\"), e.associations.getFieldsIndex())), E = new w(new B({\n                name: \"side\",\n                alias: \"side\",\n                type: \"string\"\n              }), k.create(\"CASE WHEN (\".concat(y, \"=4) THEN 'from' ELSE 'to' END\"), e.associations.getFieldsIndex()));\n              break;\n            }\n\n          case \"connected\":\n            {\n              var _r9 = \"\".concat(l, \"='@T'\"),\n                  _i6 = \"\".concat(u, \"='@T'\");\n\n              null !== n && (_r9 += \" AND \".concat(c, \"=@A\"), _i6 += \" AND \".concat(d, \"=@A\")), v = \"((\" + _r9 + \") OR (\" + _i6 + \"))\", v = D(v, \"@T\", t), _r9 = D(_r9, \"@T\", t), null !== n && (_r9 = D(_r9, \"@A\", n.toString()), v = D(v, \"@A\", n.toString())), L.codefield = k.create(\"CASE WHEN \" + _r9 + \" THEN \".concat(m, \" ELSE \").concat(p, \" END\"), e.associations.getFieldsIndex());\n\n              var _a3 = O(N.findField(e.associations.fields, u));\n\n              _a3.name = S, _a3.alias = S, F = new w(_a3, k.create(\"CASE WHEN \" + _r9 + \" THEN \".concat(u, \" ELSE \").concat(l, \" END\"), e.associations.getFieldsIndex()));\n              break;\n            }\n\n          case \"container\":\n            v = \"\".concat(l, \"='\").concat(t, \"' AND \").concat(y, \" = 2\"), null !== n && (v += \" AND \".concat(c, \" = \") + n.toString()), L.codefield = m, v = \"( \" + v + \" )\", F = new A(N.findField(e.associations.fields, u), S, S);\n\n          case \"content\":\n            v = \"(\".concat(u, \"='\").concat(t, \"' AND \").concat(y, \" = 2)\"), null !== n && (v += \" AND \".concat(d, \" = \") + n.toString()), L.codefield = p, v = \"( \" + v + \" )\", F = new A(N.findField(e.associations.fields, l), S, S);\n            break;\n\n          case \"structure\":\n            v = \"(\".concat(l, \"='\").concat(t, \"' AND \").concat(y, \" = 3)\"), null !== n && (v += \" AND \".concat(c, \" = \") + n.toString()), L.codefield = m, v = \"( \" + v + \" )\", F = new A(N.findField(e.associations.fields, u), S, $);\n            break;\n\n          case \"attached\":\n            v = \"(\".concat(u, \"='\").concat(t, \"' AND \").concat(y, \" = 3)\"), null !== n && (v += \" AND \".concat(d, \" = \") + n.toString()), L.codefield = p, v = \"( \" + v + \" )\", F = new A(N.findField(e.associations.fields, l), S, $);\n            break;\n\n          default:\n            throw new Error(\"Invalid Parameter\");\n        }\n\n        r && (v = \"1 <> 1\");\n        return new N({\n          parentfeatureset: e.associations,\n          adaptedFields: [new x(N.findField(e.associations.fields, h)), new x(N.findField(e.associations.fields, g)), F, E, L, I],\n          extraFilter: v ? k.create(v, e.associations.getFieldsIndex()) : null\n        });\n      });\n    });\n  }, C.signatures.push({\n    name: \"featuresetbyassociation\",\n    min: \"2\",\n    max: \"6\"\n  }), C.functions.groupby = function (e, n) {\n    return C.standardFunctionAsync(e, n, function (n, r, i) {\n      return c(i, 3, 3), p(i[0]) ? i[0].load().then(function (n) {\n        var r = [],\n            a = [];\n        var s = !1,\n            l = [];\n        if (h(i[1])) l.push(i[1]);else if (i[1] instanceof t) l.push(i[1]);else if (g(i[1])) l = i[1];else {\n          if (!I(i[1])) return C.failDefferred(\"Illegal Value: GroupBy\");\n          l = i[1].toArray();\n        }\n\n        var _iterator11 = _createForOfIteratorHelper(l),\n            _step11;\n\n        try {\n          for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n            var _e18 = _step11.value;\n\n            if (h(_e18)) {\n              var _t15 = k.create(m(_e18), n.getFieldsIndex()),\n                  _i9 = !0 === R(_t15) ? m(_e18) : \"%%%%FIELDNAME\";\n\n              r.push({\n                name: _i9,\n                expression: _t15\n              }), \"%%%%FIELDNAME\" === _i9 && (s = !0);\n            } else {\n              if (!(_e18 instanceof t)) return C.failDefferred(\"Illegal Value: GroupBy\");\n              {\n                var _t16 = _e18.hasField(\"name\") ? _e18.field(\"name\") : \"%%%%FIELDNAME\",\n                    _i10 = _e18.hasField(\"expression\") ? _e18.field(\"expression\") : \"\";\n\n                if (\"%%%%FIELDNAME\" === _t16 && (s = !0), !_t16) return C.failDefferred(\"Illegal Value: GroupBy\");\n                r.push({\n                  name: _t16,\n                  expression: k.create(_i10 || _t16, n.getFieldsIndex())\n                });\n              }\n            }\n          }\n        } catch (err) {\n          _iterator11.e(err);\n        } finally {\n          _iterator11.f();\n        }\n\n        if (l = [], h(i[2])) l.push(i[2]);else if (g(i[2])) l = i[2];else if (I(i[2])) l = i[2].toArray();else {\n          if (!(i[2] instanceof t)) return C.failDefferred(\"Illegal Value: GroupBy\");\n          l.push(i[2]);\n        }\n\n        var _iterator12 = _createForOfIteratorHelper(l),\n            _step12;\n\n        try {\n          for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n            var _e19 = _step12.value;\n            if (!(_e19 instanceof t)) return C.failDefferred(\"Illegal Value: GroupBy\");\n            {\n              var _t17 = _e19.hasField(\"name\") ? _e19.field(\"name\") : \"\",\n                  _r12 = _e19.hasField(\"statistic\") ? _e19.field(\"statistic\") : \"\",\n                  _i11 = _e19.hasField(\"expression\") ? _e19.field(\"expression\") : \"\";\n\n              if (!_t17 || !_r12 || !_i11) return C.failDefferred(\"Illegal Value: GroupBy\");\n              a.push({\n                name: _t17,\n                statistic: _r12.toLowerCase(),\n                expression: k.create(_i11, n.getFieldsIndex())\n              });\n            }\n          }\n        } catch (err) {\n          _iterator12.e(err);\n        } finally {\n          _iterator12.f();\n        }\n\n        if (s) {\n          var _e17 = {};\n\n          var _iterator13 = _createForOfIteratorHelper(n.fields),\n              _step13;\n\n          try {\n            for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n              var _r10 = _step13.value;\n              _e17[_r10.name.toLowerCase()] = 1;\n            }\n          } catch (err) {\n            _iterator13.e(err);\n          } finally {\n            _iterator13.f();\n          }\n\n          var _iterator14 = _createForOfIteratorHelper(r),\n              _step14;\n\n          try {\n            for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n              var _n17 = _step14.value;\n              \"%%%%FIELDNAME\" !== _n17.name && (_e17[_n17.name.toLowerCase()] = 1);\n            }\n          } catch (err) {\n            _iterator14.e(err);\n          } finally {\n            _iterator14.f();\n          }\n\n          var _iterator15 = _createForOfIteratorHelper(a),\n              _step15;\n\n          try {\n            for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n              var _n18 = _step15.value;\n              \"%%%%FIELDNAME\" !== _n18.name && (_e17[_n18.name.toLowerCase()] = 1);\n            }\n          } catch (err) {\n            _iterator15.e(err);\n          } finally {\n            _iterator15.f();\n          }\n\n          var _t12 = 0;\n\n          var _iterator16 = _createForOfIteratorHelper(r),\n              _step16;\n\n          try {\n            for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n              var _n19 = _step16.value;\n\n              if (\"%%%%FIELDNAME\" === _n19.name) {\n                for (; 1 === _e17[\"field_\" + _t12.toString()];) {\n                  _t12++;\n                }\n\n                _e17[\"field_\" + _t12.toString()] = 1, _n19.name = \"FIELD_\" + _t12.toString();\n              }\n            }\n          } catch (err) {\n            _iterator16.e(err);\n          } finally {\n            _iterator16.f();\n          }\n        }\n\n        var o = [];\n\n        for (var _i7 = 0, _r11 = r; _i7 < _r11.length; _i7++) {\n          var _t13 = _r11[_i7];\n          o.push(H(_t13.expression, C, e));\n        }\n\n        for (var _i8 = 0, _a4 = a; _i8 < _a4.length; _i8++) {\n          var _t14 = _a4[_i8];\n          o.push(H(_t14.expression, C, e));\n        }\n\n        return o.length > 0 ? P(o).then(function () {\n          return M(i[0].groupby(r, a));\n        }) : M(i[0].groupby(r, a));\n      }) : C.failDefferred(\"Illegal Value: GroupBy\");\n    });\n  }, C.signatures.push({\n    name: \"groupby\",\n    min: \"3\",\n    max: \"3\"\n  }), C.functions.distinct = function (e, n) {\n    return C.standardFunctionAsync(e, n, function (n, r, i) {\n      return p(i[0]) ? (c(i, 2, 2), i[0].load().then(function (n) {\n        var r = [];\n        var a = [];\n        if (h(i[1])) a.push(i[1]);else if (i[1] instanceof t) a.push(i[1]);else if (g(i[1])) a = i[1];else {\n          if (!I(i[1])) return C.failDefferred(\"Illegal Value: GroupBy\");\n          a = i[1].toArray();\n        }\n        var s = !1;\n\n        var _iterator17 = _createForOfIteratorHelper(a),\n            _step17;\n\n        try {\n          for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n            var _e21 = _step17.value;\n\n            if (h(_e21)) {\n              var _t20 = k.create(m(_e21), n.getFieldsIndex()),\n                  _i13 = !0 === R(_t20) ? m(_e21) : \"%%%%FIELDNAME\";\n\n              r.push({\n                name: _i13,\n                expression: _t20\n              }), \"%%%%FIELDNAME\" === _i13 && (s = !0);\n            } else {\n              if (!(_e21 instanceof t)) return C.failDefferred(\"Illegal Value: GroupBy\");\n              {\n                var _t21 = _e21.hasField(\"name\") ? _e21.field(\"name\") : \"%%%%FIELDNAME\",\n                    _i14 = _e21.hasField(\"expression\") ? _e21.field(\"expression\") : \"\";\n\n                if (\"%%%%FIELDNAME\" === _t21 && (s = !0), !_t21) return C.failDefferred(\"Illegal Value: GroupBy\");\n                r.push({\n                  name: _t21,\n                  expression: k.create(_i14 || _t21, n.getFieldsIndex())\n                });\n              }\n            }\n          }\n        } catch (err) {\n          _iterator17.e(err);\n        } finally {\n          _iterator17.f();\n        }\n\n        if (s) {\n          var _e20 = {};\n\n          var _iterator18 = _createForOfIteratorHelper(n.fields),\n              _step18;\n\n          try {\n            for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n              var _r13 = _step18.value;\n              _e20[_r13.name.toLowerCase()] = 1;\n            }\n          } catch (err) {\n            _iterator18.e(err);\n          } finally {\n            _iterator18.f();\n          }\n\n          var _iterator19 = _createForOfIteratorHelper(r),\n              _step19;\n\n          try {\n            for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n              var _n20 = _step19.value;\n              \"%%%%FIELDNAME\" !== _n20.name && (_e20[_n20.name.toLowerCase()] = 1);\n            }\n          } catch (err) {\n            _iterator19.e(err);\n          } finally {\n            _iterator19.f();\n          }\n\n          var _t18 = 0;\n\n          var _iterator20 = _createForOfIteratorHelper(r),\n              _step20;\n\n          try {\n            for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n              var _n21 = _step20.value;\n\n              if (\"%%%%FIELDNAME\" === _n21.name) {\n                for (; 1 === _e20[\"field_\" + _t18.toString()];) {\n                  _t18++;\n                }\n\n                _e20[\"field_\" + _t18.toString()] = 1, _n21.name = \"FIELD_\" + _t18.toString();\n              }\n            }\n          } catch (err) {\n            _iterator20.e(err);\n          } finally {\n            _iterator20.f();\n          }\n        }\n\n        var l = [];\n\n        for (var _i12 = 0, _r14 = r; _i12 < _r14.length; _i12++) {\n          var _t19 = _r14[_i12];\n          l.push(H(_t19.expression, C, e));\n        }\n\n        return l.length > 0 ? P(l).then(function () {\n          return M(i[0].groupby(r, []));\n        }) : M(i[0].groupby(r, []));\n      })) : V(\"distinct\", n, r, i);\n    });\n  });\n}\n\nexport { K as registerFunctions };"],"sourceRoot":""}
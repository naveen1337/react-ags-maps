{"version":3,"sources":["webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/layers/support/KMLSublayer.js","webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/layers/KMLLayer.js"],"names":["_j","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","S","_t$EventedMixin","j","_super","_this","_sublayersHandles","description","id","networkLink","title","sourceJSON","fullExtent","key","value","_this2","then","load","_this3","viewFormat","t","signal","s","_fetchService","_get","href","sublayers","fromJSON","ofType","addMany","layer","emit","notifyChange","addResolvingPromise","Promise","resolve","set","_this4","r","forEach","parent","remove","on","_ref","item","_ref2","_set","get","visibility","outSpatialReference","refreshInterval","data","EventedMixin","readOnly","json","write","allowNull","read","source","reader","type","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","toString","slice","name","from","test","_unsupportedIterableToArray","length","i","F","done","_e2","f","TypeError","err","normalCompletion","didErr","step","next","_e3","return","arr","len","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","w","_c","E","_fetchService2","_len","_key","concat","_visibleFolders","allSublayers","getCollections","getChildrenFunction","WGS84","path","legendEnabled","operationalLayerType","url","watch","target","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectSpread","visibleFolders","toArray","_e","visible","shift","originOf","_recomputeFullExtent","loadFromPortal","supportedTypes","catch","destroy","mark","_callee","wrap","_context","prev","resourceInfo","ssl","sent","origin","stop","_x","extent","clone","_step","_iterator","items","_o","union","String","origins","ignoreOrigin"],"mappings":"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","file":"126-a7ee33318405601bfbf2.js","sourcesContent":["import _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport \"../../geometry.js\";\nimport r from \"../../core/Collection.js\";\nimport t from \"../../core/Evented.js\";\nimport { JSONSupportMixin as s } from \"../../core/JSONSupport.js\";\nimport o from \"../../core/Loadable.js\";\nimport { isSome as i } from \"../../core/maybe.js\";\nimport { stripHTML as l } from \"../../core/string.js\";\nimport { whenOnce as a, whenTrueOnce as n } from \"../../core/watchUtils.js\";\nimport { property as u } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport { cast as p } from \"../../core/accessorSupport/decorators/cast.js\";\nimport \"../../core/Logger.js\";\nimport { reader as y } from \"../../core/accessorSupport/decorators/reader.js\";\nimport { subclass as h } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { ensureType as c } from \"../../core/accessorSupport/ensureType.js\";\nimport { computeExtent as m, sublayersFromJSON as d, fetchService as b, parseKML as f } from \"./kmlUtils.js\";\nimport v from \"../../geometry/Extent.js\";\n\nvar _j;\n\nvar S = _j = /*#__PURE__*/function (_t$EventedMixin) {\n  _inherits(j, _t$EventedMixin);\n\n  var _super = _createSuper(j);\n\n  function j() {\n    var _this;\n\n    _classCallCheck(this, j);\n\n    _this = _super.apply(this, arguments), _this._sublayersHandles = null, _this.description = null, _this.id = null, _this.networkLink = null, _this.title = null, _this.sourceJSON = null, _this.fullExtent = null;\n    return _this;\n  }\n\n  _createClass(j, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n\n      a(this, \"networkLink\").then(function () {\n        return n(_this2, \"visible\");\n      }).then(function () {\n        return _this2.load();\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(e) {\n      var _this3 = this;\n\n      if (!this.networkLink) return;\n      if (this.networkLink.viewFormat) return;\n\n      var t = i(e) ? e.signal : null,\n          s = this._fetchService(this._get(\"networkLink\").href, t).then(function (e) {\n        var t = m(e.sublayers);\n        _this3.fullExtent = v.fromJSON(t), _this3.sourceJSON = e;\n        var s = c(r.ofType(_j), d(_j, e));\n        _this3.sublayers ? _this3.sublayers.addMany(s) : _this3.sublayers = s, _this3.layer.emit(\"sublayer-update\"), _this3.layer && _this3.layer.notifyChange(\"visibleSublayers\");\n      });\n\n      return this.addResolvingPromise(s), Promise.resolve(this);\n    }\n  }, {\n    key: \"sublayers\",\n    set: function set(e) {\n      var _this4 = this;\n\n      var r = this._get(\"sublayers\");\n\n      r && (r.forEach(function (e) {\n        e.parent = null, e.layer = null;\n      }), this._sublayersHandles.forEach(function (e) {\n        return e.remove();\n      }), this._sublayersHandles = null), e && (e.forEach(function (e) {\n        e.parent = _this4, e.layer = _this4.layer;\n      }), this._sublayersHandles = [e.on(\"after-add\", function (_ref) {\n        var e = _ref.item;\n        e.parent = _this4, e.layer = _this4.layer;\n      }), e.on(\"after-remove\", function (_ref2) {\n        var e = _ref2.item;\n        e.parent = null, e.layer = null;\n      })]), this._set(\"sublayers\", e);\n    }\n  }, {\n    key: \"castSublayers\",\n    value: function castSublayers(e) {\n      return c(r.ofType(_j), e);\n    }\n  }, {\n    key: \"visible\",\n    get: function get() {\n      return this._get(\"visible\");\n    },\n    set: function set(e) {\n      this._get(\"visible\") !== e && (this._set(\"visible\", e), this.layer && this.layer.notifyChange(\"visibleSublayers\"));\n    }\n  }, {\n    key: \"readVisible\",\n    value: function readVisible(e, r) {\n      return !!r.visibility;\n    }\n  }, {\n    key: \"layer\",\n    set: function set(e) {\n      this._set(\"layer\", e), this.sublayers && this.sublayers.forEach(function (r) {\n        return r.layer = e;\n      });\n    }\n  }, {\n    key: \"_fetchService\",\n    value: function _fetchService(e, r) {\n      return b(e, this.layer.outSpatialReference, this.layer.refreshInterval, r).then(function (e) {\n        return f(e.data);\n      });\n    }\n  }]);\n\n  return j;\n}(t.EventedMixin(s(o)));\n\ne([u()], S.prototype, \"description\", void 0), e([u()], S.prototype, \"id\", void 0), e([u({\n  readOnly: !0,\n  value: null\n})], S.prototype, \"networkLink\", void 0), e([u({\n  json: {\n    write: {\n      allowNull: !0\n    }\n  }\n})], S.prototype, \"parent\", void 0), e([u({\n  value: null,\n  json: {\n    write: {\n      allowNull: !0\n    }\n  }\n})], S.prototype, \"sublayers\", null), e([p(\"sublayers\")], S.prototype, \"castSublayers\", null), e([u({\n  value: null,\n  json: {\n    read: {\n      source: \"name\",\n      reader: function reader(e) {\n        return l(e);\n      }\n    }\n  }\n})], S.prototype, \"title\", void 0), e([u({\n  value: !0\n})], S.prototype, \"visible\", null), e([y(\"visible\", [\"visibility\"])], S.prototype, \"readVisible\", null), e([u()], S.prototype, \"sourceJSON\", void 0), e([u({\n  value: null\n})], S.prototype, \"layer\", null), e([u({\n  type: v\n})], S.prototype, \"fullExtent\", void 0), S = _j = e([h(\"esri.layers.support.KMLSublayer\")], S);\nvar g = S;\nexport default g;","import _asyncToGenerator from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport _regeneratorRuntime from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport \"../geometry.js\";\nimport r from \"../core/Collection.js\";\nimport t from \"../core/CollectionFlattener.js\";\nimport { isSome as o } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as s } from \"../core/MultiOriginJSONSupport.js\";\nimport { throwIfAbortError as i } from \"../core/promiseUtils.js\";\nimport { getFilename as l } from \"../core/urlUtils.js\";\nimport { property as a } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/Logger.js\";\nimport { reader as p } from \"../core/accessorSupport/decorators/reader.js\";\nimport { subclass as n } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { writer as u } from \"../core/accessorSupport/decorators/writer.js\";\nimport y from \"../geometry/SpatialReference.js\";\nimport m from \"./Layer.js\";\nimport { BlendLayer as c } from \"./mixins/BlendLayer.js\";\nimport { OperationalLayer as h } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as d } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as f } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as b } from \"./mixins/ScaleRangeLayer.js\";\nimport { url as j } from \"./support/commonProperties.js\";\nimport v from \"./support/KMLSublayer.js\";\nimport { sublayersFromJSON as g, fetchService as S, parseKML as x } from \"./support/kmlUtils.js\";\nimport L from \"../geometry/Extent.js\";\nvar w = [\"kml\", \"xml\"];\n\nvar E = /*#__PURE__*/function (_c) {\n  _inherits(E, _c);\n\n  var _super = _createSuper(E);\n\n  function E() {\n    var _this;\n\n    _classCallCheck(this, E);\n\n    for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n      e[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(e)), _this._visibleFolders = [], _this.allSublayers = new t({\n      getCollections: function getCollections() {\n        return [_this.sublayers];\n      },\n      getChildrenFunction: function getChildrenFunction(e) {\n        return e.sublayers;\n      }\n    }), _this.outSpatialReference = y.WGS84, _this.path = null, _this.legendEnabled = !1, _this.operationalLayerType = \"KML\", _this.sublayers = null, _this.type = \"kml\", _this.url = null;\n    return _this;\n  }\n\n  _createClass(E, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n\n      this.watch(\"sublayers\", function (e, r) {\n        r && r.forEach(function (e) {\n          e.parent = null, e.layer = null;\n        }), e && e.forEach(function (e) {\n          e.parent = _this2, e.layer = _this2;\n        });\n      }, !0), this.on(\"sublayer-update\", function () {\n        return _this2.notifyChange(\"fullExtent\");\n      });\n    }\n  }, {\n    key: \"normalizeCtorArgs\",\n    value: function normalizeCtorArgs(e, r) {\n      return \"string\" == typeof e ? _objectSpread({\n        url: e\n      }, r) : e;\n    }\n  }, {\n    key: \"readSublayersFromItemOrWebMap\",\n    value: function readSublayersFromItemOrWebMap(e, r) {\n      this._visibleFolders = r.visibleFolders;\n    }\n  }, {\n    key: \"readSublayers\",\n    value: function readSublayers(e, r, t) {\n      return g(v, r, t, this._visibleFolders);\n    }\n  }, {\n    key: \"writeSublayers\",\n    value: function writeSublayers(e, r) {\n      var t = [],\n          o = e.toArray();\n\n      for (; o.length;) {\n        var _e = o[0];\n        _e.networkLink || (_e.visible && t.push(_e.id), _e.sublayers && o.push.apply(o, _toConsumableArray(_e.sublayers.toArray()))), o.shift();\n      }\n\n      r.visibleFolders = t;\n    }\n  }, {\n    key: \"title\",\n    get: function get() {\n      var e = this._get(\"title\");\n\n      return e && \"defaults\" !== this.originOf(\"title\") ? e : this.url ? l(this.url, w) || \"KML\" : e || \"\";\n    },\n    set: function set(e) {\n      this._set(\"title\", e);\n    }\n  }, {\n    key: \"visibleSublayers\",\n    get: function get() {\n      var e = this.sublayers,\n          r = [],\n          t = function t(e) {\n        e.visible && (r.push(e), e.sublayers && e.sublayers.forEach(t));\n      };\n\n      return e && e.forEach(t), r;\n    }\n  }, {\n    key: \"fullExtent\",\n    get: function get() {\n      return this._recomputeFullExtent();\n    }\n  }, {\n    key: \"load\",\n    value: function load(e) {\n      var _this3 = this;\n\n      var r = o(e) ? e.signal : null;\n      return this.addResolvingPromise(this.loadFromPortal({\n        supportedTypes: [\"KML\"]\n      }, e).catch(i).then(function () {\n        return _this3._fetchService(r);\n      })), Promise.resolve(this);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(E.prototype), \"destroy\", this).call(this), this.allSublayers.destroy();\n    }\n  }, {\n    key: \"_fetchService\",\n    value: function () {\n      var _fetchService2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        var _this4 = this;\n\n        var r, t;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Promise.resolve().then(function () {\n                  return _this4.resourceInfo ? {\n                    ssl: !1,\n                    data: _this4.resourceInfo\n                  } : S(_this4.url, _this4.outSpatialReference, _this4.refreshInterval, e);\n                });\n\n              case 2:\n                r = _context.sent;\n                t = x(r.data);\n                t && this.read(t, {\n                  origin: \"service\"\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _fetchService(_x) {\n        return _fetchService2.apply(this, arguments);\n      }\n\n      return _fetchService;\n    }()\n  }, {\n    key: \"_recomputeFullExtent\",\n    value: function _recomputeFullExtent() {\n      var e = null;\n      this.extent && (e = this.extent.clone());\n\n      var r = function r(t) {\n        if (t.sublayers) {\n          var _iterator = _createForOfIteratorHelper(t.sublayers.items),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var _o = _step.value;\n              r(_o), _o.visible && _o.fullExtent && (e ? e.union(_o.fullExtent) : e = _o.fullExtent.clone());\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        }\n      };\n\n      return r(this), e;\n    }\n  }]);\n\n  return E;\n}(c(f(b(h(d(s(m)))))));\n\ne([a({\n  readOnly: !0\n})], E.prototype, \"allSublayers\", void 0), e([a({\n  type: y\n})], E.prototype, \"outSpatialReference\", void 0), e([a({\n  type: String,\n  json: {\n    origins: {\n      \"web-scene\": {\n        read: !0,\n        write: !0\n      }\n    },\n    read: !1\n  }\n})], E.prototype, \"path\", void 0), e([a({\n  readOnly: !0,\n  json: {\n    read: !1,\n    write: !1\n  }\n})], E.prototype, \"legendEnabled\", void 0), e([a({\n  type: [\"show\", \"hide\", \"hide-children\"]\n})], E.prototype, \"listMode\", void 0), e([a({\n  type: [\"KML\"]\n})], E.prototype, \"operationalLayerType\", void 0), e([a({})], E.prototype, \"resourceInfo\", void 0), e([a({\n  type: r.ofType(v),\n  json: {\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], E.prototype, \"sublayers\", void 0), e([p([\"web-map\", \"portal-item\"], \"sublayers\", [\"visibleFolders\"])], E.prototype, \"readSublayersFromItemOrWebMap\", null), e([p(\"service\", \"sublayers\", [\"sublayers\"])], E.prototype, \"readSublayers\", null), e([u(\"sublayers\")], E.prototype, \"writeSublayers\", null), e([a({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], E.prototype, \"type\", void 0), e([a({\n  json: {\n    origins: {\n      \"web-map\": {\n        read: {\n          source: \"title\"\n        }\n      }\n    },\n    write: {\n      ignoreOrigin: !0\n    }\n  }\n})], E.prototype, \"title\", null), e([a(j)], E.prototype, \"url\", void 0), e([a({\n  readOnly: !0\n})], E.prototype, \"visibleSublayers\", null), e([a({\n  type: L\n})], E.prototype, \"extent\", void 0), e([a()], E.prototype, \"fullExtent\", null), E = e([n(\"esri.layers.KMLLayer\")], E);\nvar F = E;\nexport default F;"],"sourceRoot":""}
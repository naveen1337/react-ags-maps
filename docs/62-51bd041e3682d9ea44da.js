(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"51QL":function(t,e,i){"use strict";i.r(e);var n=i("eijD"),r=i("hisu"),a=i("yBJb"),s=i("CHlC"),u=i("kMo5"),c=i("P+uj"),o=i("NthX"),h=i.n(o),l=i("dQW7"),d=i("TM+E"),f=i("IH5m"),p=i("xAIp"),v=(i("J4Pc"),i("wckI"),i("iaHD")),y=i("FXVW"),b=i("55C+"),g=i("dnRo"),x=i("bPf0"),k=i("TRFF");function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Object(c.a)(t);if(e){var r=Object(c.a)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Object(u.a)(this,i)}}var j=d.a.getLogger("esri.views.2d.layers.BaseDynamicLayerView2D"),O=function(t){Object(s.a)(u,t);var e,i=_(u);function u(){return Object(r.a)(this,u),i.apply(this,arguments)}return Object(a.a)(u,[{key:"hitTest",value:function(){return null}},{key:"update",value:function(t){this.strategy.update(t).catch((function(t){Object(f.m)(t)||j.error(t)})),this.notifyChange("updating")}},{key:"attach",value:function(){this._bitmapContainer=new y.a,this.container.addChild(this._bitmapContainer),this.strategy=new g.a({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}},{key:"detach",value:function(){this.strategy.destroy(),this.strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}},{key:"moveStart",value:function(){}},{key:"viewChange",value:function(){}},{key:"moveEnd",value:function(){this.requestUpdate()}},{key:"fetchBitmapData",value:function(t,e,i){return this.layer.fetchImage(t,e,i,{timestamp:this.refreshTimestamp})}},{key:"doRefresh",value:(e=Object(n.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.requestUpdate();case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"isUpdating",value:function(){return this.strategy.updating||this.updateRequested}}]),u}(Object(k.a)(Object(b.a)(x.a)));Object(l.a)([Object(p.b)()],O.prototype,"strategy",void 0),Object(l.a)([Object(p.b)()],O.prototype,"updating",void 0);var m=O=Object(l.a)([Object(v.a)("esri.views.2d.layers.BaseDynamicLayerView2D")],O);e.default=m},Jrv3:function(t,e,i){"use strict";i.d(e,"a",(function(){return x}));var n=i("aNYv"),r=i("hisu"),a=i("yBJb"),s=i("0942"),u=i("4Mpa"),c=i("CHlC"),o=i("kMo5"),h=i("P+uj"),l=i("+MBG"),d=i("Tkaf"),f=i("0s7n"),p=(i("a1c8"),i("iwTS"),i("J4Pc"),i("B2Uc"),i("cY28"),i("IxxH"),i("0fR5")),v=(i("H8zE"),i("PFYi")),y=i("Zw7s");function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Object(h.a)(t);if(e){var r=Object(h.a)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Object(o.a)(this,i)}}function g(t,e,i){var n={target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071};return e&&i&&(n.width=e,n.height=i),new p.a(t,n)}var x=function(t){Object(c.a)(i,t);var e=b(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(r.a)(this,i),(t=e.call(this)).requestRenderOnSourceChangedEnabled=u,t._textureInvalidated=!0,t.stencilRef=0,t.coordScale=[1,1],t._height=void 0,t.pixelRatio=1,t.resolution=0,t.rotation=0,t._source=null,t._width=void 0,t.x=0,t.y=0,t.transforms={dvs:Object(d.b)()},t.blendFunction=a,t.source=n,t.requestRender=t.requestRender.bind(Object(s.a)(t)),t}return Object(a.a)(i,[{key:"destroy",value:function(){this._texture&&(this._texture.dispose(),this._texture=null)}},{key:"isSourceScaled",get:function(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}},{key:"height",get:function(){return void 0!==this._height?this._height:this.sourceHeight},set:function(t){this._height=t}},{key:"source",get:function(){return this._source},set:function(t){this._source=t,this.invalidateTexture()}},{key:"sourceHeight",get:function(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}},{key:"sourceWidth",get:function(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}},{key:"width",get:function(){return void 0!==this._width?this._width:this.sourceWidth},set:function(t){this._width=t}},{key:"beforeRender",value:function(t){Object(u.a)(Object(h.a)(i.prototype),"beforeRender",this).call(this,t),this.updateTexture(t.context)}},{key:"invalidateTexture",value:function(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}},{key:"setTransform",value:function(t){var e=Object(l.b)(this.transforms.dvs),i=t.toScreenNoRotation([0,0],this.x,this.y),r=Object(n.a)(i,2),a=r[0],s=r[1],u=this.resolution/this.pixelRatio/t.resolution,c=u*this.width,o=u*this.height,h=Math.PI*this.rotation/180;Object(l.c)(e,e,Object(f.b)(a,s)),Object(l.c)(e,e,Object(f.b)(c/2,o/2)),Object(l.j)(e,e,-h),Object(l.c)(e,e,Object(f.b)(-c/2,-o/2)),Object(l.g)(e,e,Object(f.b)(c,o)),Object(l.h)(this.transforms.dvs,t.displayViewMat3,e)}},{key:"setSamplingProfile",value:function(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}},{key:"bind",value:function(t,e){this._texture&&t.bindTexture(this._texture,e)}},{key:"updateTexture",value:function(t){var e;if(!this.stage)return null==(e=this._texture)||e.dispose(),void(this._texture=null);if(this._textureInvalidated){this._textureInvalidated=!1,this._texture||(this.source?this._texture=g(t,this.sourceWidth,this.sourceHeight):this._texture=g(t));var i=this.source;if(i){if(this._texture.resize(this.sourceWidth,this.sourceHeight),function(t){return t&&"render"in t}(i))if(i instanceof y.a){var n=i.getRenderedRasterPixels();this._texture.setData(n.renderedRasterPixels)}else this._texture.setData(function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,t.render(e.getContext("2d")),e}(i));else(function(t){return t&&!("render"in t)})(i)&&this._texture.setData(i);this.ready()}else this._texture.setData(null)}}},{key:"onAttach",value:function(){this.invalidateTexture()}},{key:"onDetach",value:function(){this.invalidateTexture()}}]),i}(v.a)},Zw7s:function(t,e,i){"use strict";var n=i("hisu"),r=i("yBJb"),a=function(){function t(e,i,r){Object(n.a)(this,t),this.pixelBlock=e,this.extent=i,this.originalPixelBlock=r}return Object(r.a)(t,[{key:"width",get:function(){return this.pixelBlock?this.pixelBlock.width:0}},{key:"height",get:function(){return this.pixelBlock?this.pixelBlock.height:0}},{key:"render",value:function(t){var e=this.pixelBlock;if(e){var i=this.filter({pixelBlock:e}),n=i.pixelBlock.getAsRGBA(),r=t.createImageData(i.pixelBlock.width,i.pixelBlock.height);r.data.set(n),t.putImageData(r,0,0)}}},{key:"getRenderedRasterPixels",value:function(){var t=this.filter({pixelBlock:this.pixelBlock});return{width:t.pixelBlock.width,height:t.pixelBlock.height,renderedRasterPixels:new Uint8Array(t.pixelBlock.getAsRGBA().buffer)}}}]),t}();e.a=a}}]);
//# sourceMappingURL=62-51bd041e3682d9ea44da.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{"/KmE":function(e,r,t){"use strict";t.r(r),t.d(r,"fromUrl",(function(){return y}));var n=t("mK0O"),a=t("eijD"),u=t("NthX"),s=t.n(u),c=t("DGz/"),i=(t("Mp7X"),t("7im+")),o=t("z9dv"),l=t("/BCw"),p=t("qtK3");function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){Object(n.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(e){return d.apply(this,arguments)}function d(){return(d=Object(a.a)(s.a.mark((function e(r){var n,a,u,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null==(n=r.properties)?void 0:n.customParameters,e.next=3,v(r.url,a);case 3:if(u=e.sent,c=b(b({},r.properties),{},{url:r.url}),u.sublayerIds){e.next=7;break}return e.abrupt("return",(null!=u.layerOrTableId&&(c.layerId=u.layerOrTableId,c.sourceJSON=u.sourceJSON),new u.Constructor(c)));case 7:return e.next=10,t.e(21).then(t.bind(null,"q+9A"));case 10:return e.t0=e.sent.default,e.t1={title:u.parsedUrl.title},i=new e.t0(e.t1),e.abrupt("return",(w(i,u,c),i));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,r){return e?e.find((function(e){return e.id===r})):null}function w(e,r,t){function n(e,n){var a=b(b({},t),{},{layerId:e,sublayerTitleMode:"service-name"});return Object(i.i)(n)&&(a.sourceJSON=n),new r.Constructor(a)}r.sublayerIds.forEach((function(t){var a=n(t,h(r.sublayerInfos,t));e.add(a)})),r.tableIds.forEach((function(t){var a=n(t,h(r.tableInfos,t));e.tables.add(a)}))}function v(e,r){return O.apply(this,arguments)}function O(){return(O=Object(a.a)(s.a.mark((function e(r,t){var n,a,u,c,o,p,f,b,y,d,h,w,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(l.f)(r),e.t0=Object(i.h)(n),!e.t0){e.next=6;break}return e.next=5,x(r,t);case 5:n=e.sent;case 6:if(!Object(i.h)(n)){e.next=8;break}throw new h("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:r});case 8:u=(a=n).serverType,c=a.sublayer,p={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"},e.t1=u,e.next="MapServer"===e.t1?13:"ImageServer"===e.t1?15:"SceneServer"===e.t1?17:19;break;case 13:return o=null!=c?"FeatureLayer":M(r,t).then((function(e){return e?"TileLayer":"MapImageLayer"})),e.abrupt("break",20);case 15:return o=F(r,t).then((function(e){var r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||"LERC"!==r.toUpperCase()||e.cacheType&&"elevation"!==e.cacheType.toLowerCase()?"ImageryTileLayer":"ElevationLayer":"ImageryLayer"})),e.abrupt("break",20);case 17:return o=F(n.url.path,t).then((function(e){var r={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){var t=e.layers[0].layerType;if(null!=r[t])return r[t]}return"SceneLayer"})),e.abrupt("break",20);case 19:o=p[u];case 20:return f={FeatureLayer:!0,SceneLayer:!0},y={parsedUrl:n,Constructor:null,layerOrTableId:(b="FeatureServer"===u)?c:null,sublayerIds:null,tableIds:null},e.next=25,o;case 25:if(d=e.sent,!f[d]||null!=c){e.next=32;break}return e.next=29,L(r,u,t);case 29:h=e.sent,b&&(y.sublayerInfos=h.layerInfos,y.tableInfos=h.tableInfos),1!==h.layerIds.length+h.tableIds.length?(y.sublayerIds=h.layerIds,y.tableIds=h.tableIds):b&&(y.layerOrTableId=null!=(w=h.layerIds[0])?w:h.tableIds[0],y.sourceJSON=null!=(v=h.layerInfos[0])?v:h.tableInfos[0]);case 32:return e.next=34,g(d);case 34:return y.Constructor=e.sent,e.abrupt("return",y);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,r){return m.apply(this,arguments)}function m(){return(m=Object(a.a)(s.a.mark((function e(r,t){var n,a,u,c,p,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(r,t);case 2:if(a=e.sent,u=null,c=null,"Feature Layer"===(p=a.type)||"Table"===p?(u="FeatureServer",c=a.id):"indexedVector"===p?u="VectorTileServer":a.hasOwnProperty("mapName")?u="MapServer":a.hasOwnProperty("bandCount")&&a.hasOwnProperty("pixelSizeX")?u="ImageServer":a.hasOwnProperty("maxRecordCount")&&a.hasOwnProperty("allowGeometryUpdates")?u="FeatureServer":a.hasOwnProperty("streamUrls")?u="StreamServer":j(a)?(u="SceneServer",c=a.id):a.hasOwnProperty("layers")&&j(null==(n=a.layers)?void 0:n[0])&&(u="SceneServer"),u){e.next=7;break}return e.abrupt("return",null);case 7:return f=null!=c?Object(l.g)(r):null,e.abrupt("return",{title:Object(i.i)(f)&&a.name||Object(o.k)(r),serverType:u,sublayer:c,url:{path:Object(i.i)(f)?f.serviceUrl:Object(o.K)(r).path}});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return(null==e?void 0:e.hasOwnProperty("store"))&&e.hasOwnProperty("id")&&"number"==typeof e.id}function L(e,r,t){return k.apply(this,arguments)}function k(){return(k=Object(a.a)(s.a.mark((function e(r,t,n){var a,u,c,i,o,l,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!1,"FeatureServer"!==t){e.next=8;break}return e.next=4,I(r,n);case 4:o=e.sent,i=!!o.layersJSON,c=o.layersJSON||o.serviceJSON,e.next=11;break;case 8:return e.next=10,F(r,n);case 10:c=e.sent;case 11:return l=null==(a=c)?void 0:a.layers,p=null==(u=c)?void 0:u.tables,e.abrupt("return",{layerIds:(null==l?void 0:l.map((function(e){return e.id})).reverse())||[],tableIds:(null==p?void 0:p.map((function(e){return e.id})).reverse())||[],layerInfos:i?l:[],tableInfos:i?p:[]});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return!e.type||"Feature Layer"===e.type}function I(e,r){return P.apply(this,arguments)}function P(){return(P=Object(a.a)(s.a.mark((function e(r,t){var n,a,u,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(r,t);case 2:if((u=(u=e.sent)||{}).layers=(null==(n=u.layers)?void 0:n.filter(S))||[],c={serviceJSON:u},!(u.currentVersion<10.5)){e.next=7;break}return e.abrupt("return",c);case 7:return e.next=9,F(r+"/layers",t);case 9:return i=e.sent,e.abrupt("return",(c.layersJSON={layers:(null==i||null==(a=i.layers)?void 0:a.filter(S))||[],tables:(null==i?void 0:i.tables)||[]},c));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return T.apply(this,arguments)}function T(){return(T=Object(a.a)(s.a.mark((function e(r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.a[r])());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,r){return C.apply(this,arguments)}function C(){return(C=Object(a.a)(s.a.mark((function e(r,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(r,t);case 2:return e.abrupt("return",e.sent.tileInfo);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,r){return N.apply(this,arguments)}function N(){return(N=Object(a.a)(s.a.mark((function e(r,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.default)(r,{responseType:"json",query:b({f:"json"},t)});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},qtK3:function(e,r,t){"use strict";t.d(r,"a",(function(){return N}));var n,a,u,s,c,i,o,l,p,f,b,y,d,h,w,v,O,x,m,j,L,k,S,I,P,g,T,M=t("eijD"),C=t("NthX"),F=t.n(C),N={BingMapsLayer:(T=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(120).then(t.bind(null,"fAzw"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return T.apply(this,arguments)}),BuildingSceneLayer:(g=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(1),t.e(121)]).then(t.bind(null,"f1VL"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return g.apply(this,arguments)}),CSVLayer:(P=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(122).then(t.bind(null,"u5G6"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return P.apply(this,arguments)}),ElevationLayer:(I=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(3),t.e(17)]).then(t.bind(null,"BGIR"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return I.apply(this,arguments)}),FeatureLayer:(S=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(t.bind(null,"EOOn"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return S.apply(this,arguments)}),GroupLayer:(k=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(21).then(t.bind(null,"q+9A"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return k.apply(this,arguments)}),GeoRSSLayer:(L=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(123).then(t.bind(null,"z5J0"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return L.apply(this,arguments)}),ImageryLayer:(j=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(1),t.e(124)]).then(t.bind(null,"6GaR"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return j.apply(this,arguments)}),ImageryTileLayer:(m=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(1),t.e(3),t.e(125)]).then(t.bind(null,"3OBd"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return m.apply(this,arguments)}),IntegratedMeshLayer:(x=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(56).then(t.bind(null,"8nSK"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return x.apply(this,arguments)}),KMLLayer:(O=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(1),t.e(126)]).then(t.bind(null,"w4cL"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return O.apply(this,arguments)}),MapImageLayer:(v=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(t.bind(null,"2LA6"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return v.apply(this,arguments)}),MapNotesLayer:(w=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(1),t.e(127)]).then(t.bind(null,"d3un"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return w.apply(this,arguments)}),OGCFeatureLayer:(h=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(1),t.e(128)]).then(t.bind(null,"aqZh"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)}),OpenStreetMapLayer:(d=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(3),t.e(129)]).then(t.bind(null,"jerH"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return d.apply(this,arguments)}),PointCloudLayer:(y=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(1),t.e(130)]).then(t.bind(null,"HDNJ"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return y.apply(this,arguments)}),RouteLayer:(b=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(131).then(t.bind(null,"vQC4"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return b.apply(this,arguments)}),SceneLayer:(f=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(1),t.e(132)]).then(t.bind(null,"O0MH"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)}),StreamLayer:(p=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(133).then(t.bind(null,"zzXL"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)}),TileLayer:(l=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(3),t.e(67)]).then(t.bind(null,"Mcxe"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)}),UnknownLayer:(o=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(134).then(t.bind(null,"rR+h"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)}),UnsupportedLayer:(i=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(135).then(t.bind(null,"SqAO"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)}),VectorTileLayer:(c=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(0),t.e(1),t.e(3),t.e(136)]).then(t.bind(null,"i3GQ"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)}),WebTileLayer:(s=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(3).then(t.bind(null,"3bUX"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)}),WFSLayer:(u=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(1),t.e(137)]).then(t.bind(null,"08cZ"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)}),WMSLayer:(a=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(1),t.e(138)]).then(t.bind(null,"QFvI"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),WMTSLayer:(n=Object(M.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(3),t.e(139)]).then(t.bind(null,"ricB"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})}}}]);
//# sourceMappingURL=68-6579f31eac0158e02cd0.js.map
{"version":3,"sources":["webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/layers/graphics/sources/OGCFeatureSource.js","webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/layers/OGCFeatureLayer.js"],"names":["_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","_s","v","_loadOGCServices2","_super","_this","featureDefinition","type","key","value","addResolvingPromise","_loadOGCServices","layer","when","_this$featureDefiniti","collection","t","layerDefinition","s","spatialReference","r","supportedCrs","_this$layer","o","apiKey","capabilities","queryParameters","customParameters","length","undefined","getFeatureDefinition","load","then","isWGS84","isWebMercator","some","RegExp","concat","conformsTo","test","i","p","n","a","u","l","components","parameters","attachment","data","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAttachments","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","query","maxRecordCount","limit","schema","maximum","limitFeatures","maxRecordCountFactor","standardMaxRecordCount","supportsCacheHint","supportsCentroid","supportsDisjointSpatialRelationship","supportsDistance","supportsDistinct","supportsExtent","supportsFormatPBF","supportsGeometryProperties","supportsHavingClause","supportsHistoricMoment","supportsMaxRecordCountFactor","supportsOrderBy","supportsPagination","supportsPercentileStatistics","supportsQuantization","supportsQuantizationEditMode","supportsQueryByOthers","supportsQueryGeometry","supportsResultType","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsStatistics","supportsSqlExpression","tileMaxRecordCount","queryRelated","supportsCount","editing","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateByAnonymous","supportsUpdateByOthers","supportsUploadWithItemId","supportsUpdateWithoutM","extent","spatial","bbox","xmin","ymin","xmax","ymax","zmin","zmax","WGS84","toJSON","storageCrs","crs","includes","filter","mark","_callee","h","S","_v","R","x","C","_yield$Promise$all","_yield$Promise$all2","w","j","O","F","b","D","P","T","_","wrap","_context","prev","next","signal","collectionId","fields","geometryType","hasZ","objectIdField","timeInfo","url","map","sent","Promise","all","_conformsToType","collections","find","id","t0","_getCapabilities","_getExtent","_getSpatialReference","_getSupportedSpatialReferences","stop","_x","_x2","constructOnly","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","Object","toString","slice","name","from","_unsupportedIterableToArray","done","_e","f","TypeError","err","normalCompletion","didErr","step","_e2","return","arr","len","arr2","G","_a","U","_fetchService2","copyright","definitionExpression","description","displayField","elevationInfo","featureReduction","fieldsIndex","fullExtent","labelingInfo","labelsVisible","legendEnabled","operationalLayerType","popupEnabled","popupTemplate","screenSizePerspectiveEnabled","source","title","typeIdField","types","destroy","_this2","loadFromPortal","supportedTypes","_fetchService","get","createPopupTemplate","set","_set","_this3","feature","attributes","domains","_getLayerDomain","_this4","queryFeatures","createQuery","features","forEach","sourceLayer","read","origin","renderer","_step","_iterator","_r","domain","readOnly","json","origins","service","String","write","base","typeMap","selection","cluster","apiValues","reader","target","ignoreOrigin","B"],"mappings":"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","file":"128-60860c6181d2de32b5bc.js","sourcesContent":["import _slicedToArray from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _regeneratorRuntime from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport \"../../../geometry.js\";\nimport t from \"../../../core/Error.js\";\nimport s from \"../../../core/Loadable.js\";\nimport { isNone as r, isSome as o } from \"../../../core/maybe.js\";\nimport { property as i } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport \"../../../core/Logger.js\";\nimport { subclass as p } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport { equals as n } from \"../../../geometry/support/spatialReferenceUtils.js\";\nimport { queryFeatureSet as a, queryFeatureSetJSON as u, getSpatialReference as l, getServerLandingPage as c, getServerConformance as m, getServerCollections as d, getServerOpenApi as y, getCollectionDefinition as f } from \"../../ogc/ogcFeatureUtils.js\";\nimport h from \"../../../geometry/SpatialReference.js\";\nimport { typeKebabDictionary as g } from \"../../../geometry/support/typeUtils.js\";\nvar S = \"http://www.opengis.net/def/crs/OGC/1.3/CRS84\";\n\nvar v = /*#__PURE__*/function (_s) {\n  _inherits(v, _s);\n\n  var _super = _createSuper(v);\n\n  function v() {\n    var _this;\n\n    _classCallCheck(this, v);\n\n    _this = _super.apply(this, arguments), _this.featureDefinition = null, _this.type = \"ogc-feature\";\n    return _this;\n  }\n\n  _createClass(v, [{\n    key: \"load\",\n    value: function load(e) {\n      return this.addResolvingPromise(this._loadOGCServices(this.layer, e)), this.when();\n    }\n  }, {\n    key: \"getFeatureDefinition\",\n    value: function getFeatureDefinition() {\n      var _this$featureDefiniti = this.featureDefinition,\n          e = _this$featureDefiniti.collection,\n          t = _this$featureDefiniti.layerDefinition,\n          s = _this$featureDefiniti.spatialReference,\n          r = _this$featureDefiniti.supportedCrs,\n          _this$layer = this.layer,\n          o = _this$layer.apiKey,\n          i = _this$layer.capabilities,\n          p = _this$layer.customParameters;\n      return {\n        capabilities: i,\n        collection: e,\n        layerDefinition: t,\n        queryParameters: {\n          apiKey: o,\n          customParameters: p\n        },\n        spatialReference: s,\n        supportedCrs: r\n      };\n    }\n  }, {\n    key: \"queryExtent\",\n    value: function queryExtent(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return null;\n    }\n  }, {\n    key: \"queryFeatureCount\",\n    value: function queryFeatureCount(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return null;\n    }\n  }, {\n    key: \"queryFeatures\",\n    value: function queryFeatures(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var s = this.getFeatureDefinition();\n      return this.load(t).then(function () {\n        return a(s, e, t);\n      });\n    }\n  }, {\n    key: \"queryFeaturesJSON\",\n    value: function queryFeaturesJSON(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var s = this.getFeatureDefinition();\n      return this.load(t).then(function () {\n        return u(s, e, t);\n      });\n    }\n  }, {\n    key: \"queryObjectIds\",\n    value: function queryObjectIds(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return null;\n    }\n  }, {\n    key: \"supportsSpatialReference\",\n    value: function supportsSpatialReference(e) {\n      return !(!e.isWGS84 && !e.isWebMercator) || this.featureDefinition.supportedCrs.some(function (t) {\n        var s = l(t);\n        return !r(s) && n(s, e);\n      });\n    }\n  }, {\n    key: \"_conformsToType\",\n    value: function _conformsToType(e, t) {\n      var s;\n      var r = new RegExp(\"^\".concat(t, \"$\"), \"i\");\n      return null != (s = e.conformsTo.some(function (e) {\n        return r.test(e);\n      })) && s;\n    }\n  }, {\n    key: \"_getCapabilities\",\n    value: function _getCapabilities(e, t) {\n      var s, r, i, p, n, a, u;\n      var l = o(t) ? null == (s = t.components) ? void 0 : s.parameters : null;\n      return {\n        attachment: null,\n        data: {\n          isVersioned: !1,\n          supportsAttachment: !1,\n          supportsM: !1,\n          supportsZ: e\n        },\n        metadata: {\n          supportsAdvancedFieldProperties: !1\n        },\n        operations: {\n          supportsCalculate: !1,\n          supportsTruncate: !1,\n          supportsValidateSql: !1,\n          supportsAdd: !1,\n          supportsDelete: !1,\n          supportsEditing: !1,\n          supportsChangeTracking: !1,\n          supportsQuery: !1,\n          supportsQueryAttachments: !1,\n          supportsResizeAttachments: !1,\n          supportsSync: !1,\n          supportsUpdate: !1,\n          supportsExceedsLimitStatistics: !1\n        },\n        query: {\n          maxRecordCount: null != (r = null != (i = null == l || null == (p = l.limit) || null == (n = p.schema) ? void 0 : n.maximum) ? i : null == l || null == (a = l.limitFeatures) || null == (u = a.schema) ? void 0 : u.maximum) ? r : 5e3,\n          maxRecordCountFactor: void 0,\n          standardMaxRecordCount: void 0,\n          supportsCacheHint: !1,\n          supportsCentroid: !1,\n          supportsDisjointSpatialRelationship: !1,\n          supportsDistance: !1,\n          supportsDistinct: !1,\n          supportsExtent: !1,\n          supportsFormatPBF: !1,\n          supportsGeometryProperties: !1,\n          supportsHavingClause: !1,\n          supportsHistoricMoment: !1,\n          supportsMaxRecordCountFactor: !1,\n          supportsOrderBy: !1,\n          supportsPagination: !1,\n          supportsPercentileStatistics: !1,\n          supportsQuantization: !1,\n          supportsQuantizationEditMode: !1,\n          supportsQueryByOthers: !1,\n          supportsQueryGeometry: !1,\n          supportsResultType: !1,\n          supportsStandardizedQueriesOnly: !1,\n          supportsTopFeaturesQuery: !1,\n          supportsStatistics: !1,\n          supportsSqlExpression: !1,\n          tileMaxRecordCount: void 0\n        },\n        queryRelated: {\n          supportsCount: !1,\n          supportsOrderBy: !1,\n          supportsPagination: !1\n        },\n        editing: {\n          supportsDeleteByAnonymous: !1,\n          supportsDeleteByOthers: !1,\n          supportsGeometryUpdate: !1,\n          supportsGlobalId: !1,\n          supportsReturnServiceEditsInSourceSpatialReference: !1,\n          supportsRollbackOnFailure: !1,\n          supportsUpdateByAnonymous: !1,\n          supportsUpdateByOthers: !1,\n          supportsUploadWithItemId: !1,\n          supportsUpdateWithoutM: !1\n        }\n      };\n    }\n  }, {\n    key: \"_getExtent\",\n    value: function _getExtent(e) {\n      var t;\n      var s = null == (t = e.extent) ? void 0 : t.spatial;\n      if (!s) return null;\n      var r = s.bbox[0],\n          o = 4 === r.length,\n          i = r[0],\n          p = r[1],\n          n = o ? void 0 : r[2];\n      return {\n        xmin: i,\n        ymin: p,\n        xmax: o ? r[2] : r[3],\n        ymax: o ? r[3] : r[4],\n        zmin: n,\n        zmax: o ? void 0 : r[5],\n        spatialReference: h.WGS84.toJSON()\n      };\n    }\n  }, {\n    key: \"_getSpatialReference\",\n    value: function _getSpatialReference(e) {\n      var t;\n      var s = null != (t = e.storageCrs) ? t : S,\n          o = l(s);\n      return r(o) ? h.WGS84 : o;\n    }\n  }, {\n    key: \"_getSupportedSpatialReferences\",\n    value: function _getSupportedSpatialReferences(e, t) {\n      var s;\n      var r = \"#/crs\",\n          o = null != (s = e.crs) ? s : [S],\n          i = o.includes(r) ? o.filter(function (e) {\n        return e !== r;\n      }).concat(t.crs) : o,\n          p = /^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/epsg\\/.*\\/3785$/i;\n      return i.filter(function (e) {\n        return !p.test(e);\n      });\n    }\n  }, {\n    key: \"_loadOGCServices\",\n    value: function () {\n      var _loadOGCServices2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e, s) {\n        var r, i, p, n, a, u, l, h, S, _v, R, x, C, _yield$Promise$all, _yield$Promise$all2, w, j, O, F, b, D, P, T, _;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                r = o(s) ? s.signal : null;\n                i = e.apiKey;\n                p = e.collectionId;\n                n = e.customParameters;\n                a = e.fields;\n                u = e.geometryType;\n                l = e.hasZ;\n                h = e.objectIdField;\n                S = e.timeInfo;\n                _v = e.url;\n                R = {\n                  fields: null == a ? void 0 : a.map(function (e) {\n                    return e.toJSON();\n                  }),\n                  geometryType: g.toJSON(u),\n                  hasZ: l,\n                  objectIdField: h,\n                  timeInfo: null == S ? void 0 : S.toJSON()\n                };\n                x = {\n                  apiKey: i,\n                  customParameters: n,\n                  signal: r\n                };\n                _context.next = 14;\n                return c(_v, x);\n\n              case 14:\n                C = _context.sent;\n                _context.next = 17;\n                return Promise.all([m(C, x), d(C, x)]);\n\n              case 17:\n                _yield$Promise$all = _context.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n                w = _yield$Promise$all2[0];\n                j = _yield$Promise$all2[1];\n\n                if (this._conformsToType(w, \"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/geojson\")) {\n                  _context.next = 23;\n                  break;\n                }\n\n                throw new t(\"ogc-feature-layer:no-geojson-support\", \"Server does not support geojson\");\n\n              case 23:\n                O = j.collections.find(function (e) {\n                  return e.id === p;\n                });\n\n                if (O) {\n                  _context.next = 26;\n                  break;\n                }\n\n                throw new t(\"ogc-feature-layer:collection-not-found\", \"Server does not contain the named collection\");\n\n              case 26:\n                if (!this._conformsToType(w, \"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/oas30\")) {\n                  _context.next = 32;\n                  break;\n                }\n\n                _context.next = 29;\n                return y(C, x);\n\n              case 29:\n                _context.t0 = _context.sent;\n                _context.next = 33;\n                break;\n\n              case 32:\n                _context.t0 = null;\n\n              case 33:\n                F = _context.t0;\n                _context.next = 36;\n                return f(O, R, x);\n\n              case 36:\n                b = _context.sent;\n                D = this._getCapabilities(b.hasZ, F);\n                P = this._getExtent(O);\n                T = this._getSpatialReference(O).toJSON();\n                _ = this._getSupportedSpatialReferences(O, j);\n                b.extent = P, this.featureDefinition = {\n                  capabilities: D,\n                  collection: O,\n                  layerDefinition: b,\n                  queryParameters: {},\n                  spatialReference: T,\n                  supportedCrs: _\n                };\n\n              case 42:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _loadOGCServices(_x, _x2) {\n        return _loadOGCServices2.apply(this, arguments);\n      }\n\n      return _loadOGCServices;\n    }()\n  }]);\n\n  return v;\n}(s);\n\ne([i()], v.prototype, \"featureDefinition\", void 0), e([i({\n  constructOnly: !0\n})], v.prototype, \"layer\", void 0), e([i()], v.prototype, \"type\", void 0), v = e([p(\"esri.layers.graphics.sources.OGCFeatureSource\")], v);\nvar R = v;\nexport default R;\nexport { v as OGCFeatureSource };","import _asyncToGenerator from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport _regeneratorRuntime from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport \"../geometry.js\";\nimport r from \"../PopupTemplate.js\";\nimport \"../renderers/ClassBreaksRenderer.js\";\nimport \"../renderers/DictionaryRenderer.js\";\nimport \"../renderers/DotDensityRenderer.js\";\nimport \"../renderers/HeatmapRenderer.js\";\nimport \"../renderers/Renderer.js\";\nimport \"../renderers/SimpleRenderer.js\";\nimport \"../renderers/UniqueValueRenderer.js\";\nimport \"../renderers/support/jsonUtils.js\";\nimport { rendererTypes as t } from \"../renderers/support/types.js\";\nimport { MultiOriginJSONMixin as o } from \"../core/MultiOriginJSONSupport.js\";\nimport { property as i } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/Logger.js\";\nimport { subclass as s } from \"../core/accessorSupport/decorators/subclass.js\";\nimport { featureGeometryTypeKebabDictionary as p } from \"../geometry/support/typeUtils.js\";\nimport n from \"./Layer.js\";\nimport l from \"./graphics/sources/OGCFeatureSource.js\";\nimport { APIKeyMixin as a } from \"./mixins/APIKeyMixin.js\";\nimport { BlendLayer as d } from \"./mixins/BlendLayer.js\";\nimport { CustomParametersMixin as u } from \"./mixins/CustomParametersMixin.js\";\nimport { OperationalLayer as y } from \"./mixins/OperationalLayer.js\";\nimport { PortalLayer as m } from \"./mixins/PortalLayer.js\";\nimport { RefreshableLayer as c } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as f } from \"./mixins/ScaleRangeLayer.js\";\nimport { TemporalLayer as h } from \"./mixins/TemporalLayer.js\";\nimport { labelsVisible as j, legendEnabled as g, popupEnabled as v } from \"./support/commonProperties.js\";\nimport I from \"./support/FeatureReduction.js\";\nimport b from \"./support/FeatureReductionCluster.js\";\nimport x from \"./support/FeatureReductionSelection.js\";\nimport F from \"./support/FeatureType.js\";\nimport S from \"./support/Field.js\";\nimport { defineFieldProperties as w } from \"./support/fieldProperties.js\";\nimport { fixRendererFields as D, fixTimeInfoFields as L } from \"./support/fieldUtils.js\";\nimport R from \"./support/LabelClass.js\";\nimport { reader as O } from \"./support/labelingInfo.js\";\nimport T from \"../rest/support/Query.js\";\nimport { createPopupTemplate as P } from \"../support/popupUtils.js\";\nimport E from \"../symbols/support/ElevationInfo.js\";\nimport C from \"../geometry/Extent.js\";\nimport _ from \"../geometry/SpatialReference.js\";\nvar G = w();\n\nvar U = /*#__PURE__*/function (_a) {\n  _inherits(U, _a);\n\n  var _super = _createSuper(U);\n\n  function U(e) {\n    var _this;\n\n    _classCallCheck(this, U);\n\n    _this = _super.call(this, e), _this.collectionId = null, _this.copyright = null, _this.definitionExpression = null, _this.description = null, _this.displayField = null, _this.elevationInfo = null, _this.featureReduction = null, _this.fields = null, _this.fieldsIndex = null, _this.fullExtent = null, _this.geometryType = null, _this.hasZ = void 0, _this.labelingInfo = null, _this.labelsVisible = !0, _this.legendEnabled = !0, _this.objectIdField = null, _this.operationalLayerType = \"OGCFeatureLayer\", _this.popupEnabled = !0, _this.popupTemplate = null, _this.screenSizePerspectiveEnabled = !0, _this.source = new l({\n      layer: _assertThisInitialized(_this)\n    }), _this.spatialReference = null, _this.title = null, _this.type = \"ogc-feature\", _this.typeIdField = null, _this.types = null, _this.url = null;\n    return _this;\n  }\n\n  _createClass(U, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var e;\n      null == (e = this.source) || e.destroy();\n    }\n  }, {\n    key: \"load\",\n    value: function load(e) {\n      var _this2 = this;\n\n      return this.addResolvingPromise(this.loadFromPortal({\n        supportedTypes: [\"OGCFeatureServer\"]\n      }, e).then(function () {\n        return _this2._fetchService(e);\n      })), this.when();\n    }\n  }, {\n    key: \"defaultPopupTemplate\",\n    get: function get() {\n      return this.createPopupTemplate();\n    }\n  }, {\n    key: \"renderer\",\n    set: function set(e) {\n      D(e, this.fieldsIndex), this._set(\"renderer\", e);\n    }\n  }, {\n    key: \"on\",\n    value: function on(e, r) {\n      return _get(_getPrototypeOf(U.prototype), \"on\", this).call(this, e, r);\n    }\n  }, {\n    key: \"createPopupTemplate\",\n    value: function createPopupTemplate(e) {\n      return P(this, e);\n    }\n  }, {\n    key: \"createQuery\",\n    value: function createQuery() {\n      return new T();\n    }\n  }, {\n    key: \"getField\",\n    value: function getField(e) {\n      return this.fieldsIndex.get(e);\n    }\n  }, {\n    key: \"getFieldDomain\",\n    value: function getFieldDomain(e, r) {\n      var _this3 = this;\n\n      var t;\n      var o,\n          i = !1;\n      var s = null == r || null == (t = r.feature) ? void 0 : t.attributes,\n          p = this.typeIdField && (null == s ? void 0 : s[this.typeIdField]);\n      return null != p && this.types && (i = this.types.some(function (r) {\n        var t, i;\n        return r.id == p && (o = null == (t = r.domains) ? void 0 : t[e], \"inherited\" === (null == (i = o) ? void 0 : i.type) && (o = _this3._getLayerDomain(e)), !0);\n      })), i || o || (o = this._getLayerDomain(e)), o;\n    }\n  }, {\n    key: \"queryFeatures\",\n    value: function queryFeatures(e, r) {\n      var _this4 = this;\n\n      return this.load().then(function () {\n        return _this4.source.queryFeatures(T.from(e) || _this4.createQuery(), r);\n      }).then(function (e) {\n        var r;\n        return null == e || null == (r = e.features) || r.forEach(function (e) {\n          e.layer = e.sourceLayer = _this4;\n        }), e;\n      });\n    }\n  }, {\n    key: \"_fetchService\",\n    value: function () {\n      var _fetchService2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.source.load(e);\n\n              case 2:\n                this.read(this.source.featureDefinition, {\n                  origin: \"service\"\n                });\n                D(this.renderer, this.fieldsIndex);\n                L(this.timeInfo, this.fieldsIndex);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _fetchService(_x) {\n        return _fetchService2.apply(this, arguments);\n      }\n\n      return _fetchService;\n    }()\n  }, {\n    key: \"_getLayerDomain\",\n    value: function _getLayerDomain(e) {\n      if (!this.fields) return null;\n\n      var _iterator = _createForOfIteratorHelper(this.fields),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _r = _step.value;\n          if (_r.name === e && _r.domain) return _r.domain;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return null;\n    }\n  }]);\n\n  return U;\n}(a(u(d(h(f(y(m(c(o(n))))))))));\n\ne([i({\n  readOnly: !0,\n  json: {\n    origins: {\n      service: {\n        read: !0\n      }\n    }\n  }\n})], U.prototype, \"capabilities\", void 0), e([i({\n  type: String,\n  json: {\n    write: !0\n  }\n})], U.prototype, \"collectionId\", void 0), e([i({\n  type: String\n})], U.prototype, \"copyright\", void 0), e([i({\n  readOnly: !0\n})], U.prototype, \"defaultPopupTemplate\", null), e([i({\n  type: String\n})], U.prototype, \"definitionExpression\", void 0), e([i({\n  readOnly: !0,\n  type: String,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"collection.description\"\n        }\n      }\n    }\n  }\n})], U.prototype, \"description\", void 0), e([i({\n  type: String\n})], U.prototype, \"displayField\", void 0), e([i({\n  type: E\n})], U.prototype, \"elevationInfo\", void 0), e([i({\n  types: {\n    key: \"type\",\n    base: I,\n    typeMap: {\n      selection: x,\n      cluster: b\n    }\n  }\n})], U.prototype, \"featureReduction\", void 0), e([i({\n  type: [S],\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.fields\"\n        }\n      }\n    }\n  }\n})], U.prototype, \"fields\", void 0), e([i(G.fieldsIndex)], U.prototype, \"fieldsIndex\", void 0), e([i({\n  readOnly: !0,\n  type: C,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.extent\"\n        }\n      }\n    }\n  }\n})], U.prototype, \"fullExtent\", void 0), e([i({\n  type: p.apiValues,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.geometryType\",\n          reader: p.read\n        }\n      }\n    }\n  }\n})], U.prototype, \"geometryType\", void 0), e([i({\n  type: Boolean,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.hasZ\"\n        }\n      }\n    }\n  }\n})], U.prototype, \"hasZ\", void 0), e([i({\n  type: [R],\n  json: {\n    origins: {\n      \"web-map\": {\n        read: {\n          source: \"layerDefinition.drawingInfo.labelingInfo\",\n          reader: O\n        },\n        write: {\n          target: \"layerDefinition.drawingInfo.labelingInfo\"\n        }\n      }\n    }\n  }\n})], U.prototype, \"labelingInfo\", void 0), e([i(j)], U.prototype, \"labelsVisible\", void 0), e([i(g)], U.prototype, \"legendEnabled\", void 0), e([i({\n  type: String,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.objectIdField\"\n        }\n      }\n    }\n  }\n})], U.prototype, \"objectIdField\", void 0), e([i({\n  type: [\"OGCFeatureLayer\"]\n})], U.prototype, \"operationalLayerType\", void 0), e([i(v)], U.prototype, \"popupEnabled\", void 0), e([i({\n  type: r,\n  json: {\n    read: {\n      source: \"popupInfo\"\n    },\n    write: {\n      target: \"popupInfo\"\n    }\n  }\n})], U.prototype, \"popupTemplate\", void 0), e([i({\n  types: t,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"layerDefinition.drawingInfo.renderer\"\n        },\n        write: !1\n      }\n    },\n    read: {\n      source: \"layerDefinition.drawingInfo.renderer\"\n    },\n    write: {\n      target: \"layerDefinition.drawingInfo.renderer\"\n    }\n  }\n})], U.prototype, \"renderer\", null), e([i({\n  type: Boolean\n})], U.prototype, \"screenSizePerspectiveEnabled\", void 0), e([i({\n  readOnly: !0\n})], U.prototype, \"source\", void 0), e([i({\n  readOnly: !0,\n  type: _,\n  json: {\n    origins: {\n      service: {\n        read: !0\n      }\n    }\n  }\n})], U.prototype, \"spatialReference\", void 0), e([i({\n  type: String,\n  json: {\n    origins: {\n      service: {\n        read: {\n          source: \"collection.title\"\n        }\n      },\n      \"web-map\": {\n        write: {\n          ignoreOrigin: !0\n        }\n      }\n    }\n  }\n})], U.prototype, \"title\", void 0), e([i({\n  readOnly: !0,\n  json: {\n    read: !1\n  }\n})], U.prototype, \"type\", void 0), e([i({\n  type: String,\n  readOnly: !0\n})], U.prototype, \"typeIdField\", void 0), e([i({\n  type: [F]\n})], U.prototype, \"types\", void 0), e([i({\n  type: String,\n  json: {\n    write: !0\n  }\n})], U.prototype, \"url\", void 0), U = e([s(\"esri.layers.OGCFeatureLayer\")], U);\nvar B = U;\nexport default B;"],"sourceRoot":""}
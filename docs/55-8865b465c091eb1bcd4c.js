(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"2NtD":function(e,t,r){"use strict";var n,a=r("hisu"),o=r("yBJb"),i=r("CHlC"),c=r("kMo5"),s=r("P+uj"),l=r("dQW7"),u=r("WYis"),f=r("0n+b"),p=r("7im+"),b=r("xAIp"),h=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),v=r("a8QM");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var y=n=function(e){Object(i.a)(r,e);var t=g(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).color=null,n.colorTexture=null,n.normalTexture=null,n.alphaMode="auto",n.alphaCutoff=.5,n.doubleSided=!0,n}return Object(o.a)(r,[{key:"clone",value:function(){return this.cloneWithDeduplication(null,new Map)}},{key:"cloneWithDeduplication",value:function(e,t){var r=Object(p.i)(e)?e.get(this):null;if(r)return r;var a=new n(this.clonePropertiesWithDeduplication(t));return Object(p.i)(e)&&e.set(this,a),a}},{key:"clonePropertiesWithDeduplication",value:function(e){return{color:Object(p.i)(this.color)?this.color.clone():null,colorTexture:Object(p.i)(this.colorTexture)?this.colorTexture.cloneWithDeduplication(e):null,normalTexture:Object(p.i)(this.normalTexture)?this.normalTexture.cloneWithDeduplication(e):null,alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided}}}]),r}(f.a);Object(l.a)([Object(b.b)({type:u.a,json:{write:!0}})],y.prototype,"color",void 0),Object(l.a)([Object(b.b)({type:v.a,json:{write:!0}})],y.prototype,"colorTexture",void 0),Object(l.a)([Object(b.b)({type:v.a,json:{write:!0}})],y.prototype,"normalTexture",void 0),Object(l.a)([Object(b.b)({nonNullable:!0,json:{write:!0}})],y.prototype,"alphaMode",void 0),Object(l.a)([Object(b.b)({nonNullable:!0,json:{write:!0}})],y.prototype,"alphaCutoff",void 0),Object(l.a)([Object(b.b)({nonNullable:!0,json:{write:!0}})],y.prototype,"doubleSided",void 0);var d=y=n=Object(l.a)([Object(h.a)("esri.geometry.support.MeshMaterial")],y);t.a=d},"Gjx+":function(e,t,r){"use strict";r.r(t),r.d(t,"meshFeatureSetFromJSON",(function(){return tt}));var n=r("4VMI"),a=r("7im+"),o=r("nd5+"),i=r("eijD"),c=r("hisu"),s=r("yBJb"),l=r("CHlC"),u=r("kMo5"),f=r("P+uj"),p=r("NthX"),b=r.n(p),h=r("dQW7"),v=r("Mp7X"),g=r("eTmm"),y=r("TM+E"),d=r("t4nU"),O=r("IH5m"),j=r("xAIp"),m=(r("J4Pc"),r("wckI"),r("iaHD")),w=r("4vgF"),x=r("DjXQ"),A=r("OTJA"),k=r("cFtQ"),M=r("Q+lp"),R=r("HmIz"),P=r("42jQ"),T=r("gqSU"),F=r("F6Re"),C=r("bYeG"),I=r("C+Hs");function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){var t,r=function(e,t,r){for(var n=e.length,a=new Array(n),o=new Array(n),i=new Array(n),c=0,s=0,l=0,u=0,f=0;f<n;++f)u+=e[f].length;for(var p=new Float64Array(3*u),b=0,h=n-1;h>=0;h--){var v=e[h],g=1===r&&U(v);if(g&&1!==n)a[c++]=v;else{for(var y=v.length,d=0;d<c;++d)y+=a[d].length;var O={index:b,pathLengths:new Array(c+1),count:y,holeIndices:new Array(c)};O.pathLengths[0]=v.length,v.length>0&&(i[l++]={index:b,count:v.length}),b=g?L(v,v.length-1,-1,p,b,v.length,t):L(v,0,1,p,b,v.length,t);for(var j=0;j<c;++j){var m=a[j];O.holeIndices[j]=b,O.pathLengths[j+1]=m.length,m.length>0&&(i[l++]={index:b,count:m.length}),b=L(m,0,1,p,b,m.length,t)}c=0,O.count>0&&(o[s++]=O)}}for(var w=0;w<c;++w){var x=a[w];x.length>0&&(i[l++]={index:b,count:x.length}),b=L(x,0,1,p,b,x.length,t)}return s<n&&(o.length=s),l<n&&(i.length=l),{position:p,polygons:o,outlines:i}}(e.rings,e.hasZ,1),n=[],a=0,o=0,i=S(r.polygons);try{var c=function(){var e=t.value,i=e.count,c=e.index,s=new Float64Array(r.position.buffer,3*c*r.position.BYTES_PER_ELEMENT,3*i),l=e.holeIndices.map((function(e){return e-c})),u=new Uint32Array(Object(F.a)(s,l,3));n.push({position:s,faces:u}),a+=s.length,o+=u.length};for(i.s();!(t=i.n()).done;)c()}catch(u){i.e(u)}finally{i.f()}var s=function(e,t,r){if(1===e.length)return e[0];var n,a=new Float64Array(t),o=new Uint32Array(r),i=0,c=0,s=0,l=S(e);try{for(l.s();!(n=l.n()).done;){for(var f=n.value,p=0;p<f.position.length;p++)a[i++]=f.position[p];for(var b=0;b<f.faces.length;b++)o[c++]=f.faces[b]+s;s=i/3}}catch(u){l.e(u)}finally{l.f()}return{position:a,faces:o}}(n,a,o),l=Object(I.a)(s.position.buffer,6,{originalIndices:s.faces});return s.position=new Float64Array(l.buffer),s.faces=l.indices,s}function L(e,t,r,n,a,o,i){a*=3;for(var c=0;c<o;++c){var s=e[t];n[a++]=s[0],n[a++]=s[1],n[a++]=i?s[2]:0,t+=r}return a/3}function U(e){return!Object(C.d)(e,!1,!1)}var B=r("B9Yk"),W=r("FMHe"),z=r("RrpW"),H=y.a.getLogger("esri.geometry.support.meshUtils.centerAt");function N(e,t,r){var n;if(e.vertexAttributes&&e.vertexAttributes.position){var o=null!=(n=null==r?void 0:r.origin)?n:e.origin;Object(a.i)(e.transform)?(null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&H.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported")),function(e,t,r){var n=t.x-r.x,a=t.y-r.y,o=t.hasZ&&r.hasZ?t.z-r.z:0,i=e.origin;e.origin=[i[0]+n,i[1]+a,i[2]+o]}(e.transform,t,o)):Object(W.a)(e.spatialReference,r)?function(e,t,r){var n=Object(z.d)(e.vertexAttributes,r,{geographic:!0}),a=Object(z.a)(n,t,{geographic:!0}),o=a.position,i=a.normal,c=a.tangent;e.vertexAttributes.position=o,e.vertexAttributes.normal=i,e.vertexAttributes.tangent=c,e.vertexAttributesChanged()}(e,t,o):function(e,t,r){var n=Q,a=J;if(Object(B.l)(t,a,e.spatialReference)){if(!Object(B.l)(r,n,e.spatialReference)){var o=e.origin;n[0]=o.x,n[1]=o.y,n[2]=o.z,H.error("Failed to project specified origin (wkid:".concat(r.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")."))}(function(e,t,r){if(e)for(var n=0;n<e.length;n+=3)for(var a=0;a<3;a++)e[n+a]+=t[a]-r[a]})(e.vertexAttributes.position,a,n),e.vertexAttributesChanged()}else H.error("Failed to project centerAt location (wkid:".concat(t.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")"))}(e,t,o)}}var J=Object(w.e)(),Q=Object(w.e)(),G=r("z9dv");function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V(){return(V=Object(i.a)(b.a.mark((function e(t,n,o){var i,c,s,l,u,f,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.y)(Promise.all([r.e(1),r.e(20)]).then(r.bind(null,"pyE/")),o);case 2:return i=e.sent,c=i.loadGLTFMesh,e.next=6,X(n,o);case 6:return s=e.sent,(l=c(new A.a({x:0,y:0,z:0,spatialReference:t.spatialReference}),s.url,{resolveFile:Y(s),useTransform:!0,signal:Object(a.i)(o)?o.signal:null})).then((function(){return s.dispose()}),(function(){return s.dispose()})),e.next=11,l;case 11:u=e.sent,f=u.vertexAttributes,p=u.components,t.vertexAttributes=f,t.components=p;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t=Object(G.G)(e.url);return function(r){var n,a=Object(G.C)(r,t,t),o=a?a.replace(/^ *\.\//,""):null;return null!=(n=e.files.get(o))?n:r}}function X(e,t){return $.apply(this,arguments)}function $(){return($=Object(i.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t instanceof Blob?re.fromBlob(t):"string"==typeof t?new re(t):Array.isArray(t)?q(t,r):ee(t,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){return K.apply(this,arguments)}function K(){return(K=Object(i.a)(b.a.mark((function e(t,r){var n,o,c,s,l,u,f,p,h,g,y,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,o=null,e.next=4,Object(O.k)(t.map(function(){var e=Object(i.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.name,e.next=3,X(t instanceof Blob?t:t.source,r);case 3:return e.t1=e.sent,e.abrupt("return",{name:e.t0,source:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:c=e.sent,s=[],l=_(c);try{for(l.s();!(u=l.n()).done;)(f=u.value)&&(Object(O.n)(r)?f.source.dispose():s.push(f))}catch(j){l.e(j)}finally{l.f()}for(Object(O.v)(r),p=0,h=s;p<h.length;p++)g=h[p],y=g.name,d=g.source,(Object(a.h)(o)||/\.(gltf|glb)/i.test(y))&&(o=d.url),n.set(y,d.url),d.files&&d.files.forEach((function(e,t){return n.set(t,e)}));if(!Object(a.h)(o)){e.next=12;break}throw new v.a("mesh-load-external:missing-files","Missing files to load external mesh source");case 12:return e.abrupt("return",new re(o,(function(){return s.forEach((function(e){return e.source.dispose()}))}),n));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(i.a)(b.a.mark((function e(t,n){var a,o,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.y)(Promise.resolve().then(r.bind(null,"DGz/")),n);case 2:if(a=e.sent,o=a.default,"string"!=typeof t.multipart[0]){e.next=10;break}return e.next=7,Promise.all(t.multipart.map(function(){var e=Object(i.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t,{responseType:"array-buffer"});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=t.multipart;case 11:return c=e.t0,e.abrupt("return",re.fromBlob(new Blob(c)));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;Object(c.a)(this,e),this.url=t,this.dispose=r,this.files=n}return Object(s.a)(e,null,[{key:"fromBlob",value:function(t){var r=URL.createObjectURL(t);return new e(r,(function(){return URL.revokeObjectURL(r)}))}}]),e}(),ne=r("+MBG"),ae=r("djeU"),oe=r("ahxf"),ie=r("KcHx"),ce=r("mHKk"),se=r("2r+S"),le=y.a.getLogger("esri.geometry.support.meshUtils.offset");function ue(e,t,r){e.vertexAttributes&&e.vertexAttributes.position&&(Object(a.i)(e.transform)?(null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&le.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported")),function(e,t){var r=e.origin;e.origin=Object(ie.c)(Object(w.e)(),r,t)}(e.transform,t)):Object(W.a)(e.spatialReference,r)?function(e,t){var r=e.spatialReference,n=e.vertexAttributes.position,o=e.vertexAttributes.normal,i=e.vertexAttributes.tangent,c=new Float64Array(n.length),s=Object(a.i)(o)?new Float32Array(o.length):null,l=Object(a.i)(i)?new Float32Array(i.length):null,u=e.extent.center,f=pe;Object(B.c)(r,[u.x,u.y,u.z],be,Object(ce.g)(r)),Object(ne.e)(he,be),Object(ie.t)(f,t,he),Object(se.f)(n,r,c),Object(a.i)(o)&&Object(se.c)(o,n,c,r,s),Object(a.i)(i)&&Object(se.e)(i,n,c,r,l),fe(c,f),Object(se.a)(c,n,r),Object(a.i)(o)&&Object(se.b)(s,n,c,r,o),Object(a.i)(i)&&Object(se.d)(l,n,c,r,i),e.vertexAttributesChanged()}(e,t):function(e,t){fe(e.vertexAttributes.position,t),e.vertexAttributesChanged()}(e,t))}function fe(e,t){if(e)for(var r=0;r<e.length;r+=3)for(var n=0;n<3;n++)e[r+n]+=t[n]}var pe=Object(w.e)(),be=Object(oe.d)(),he=Object(ae.b)(),ve=r("mK0O");function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){Object(ve.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var je={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};function me(e,t,r){(function(e){for(var t=0;t<e.position.length;t+=3)e.position[t+2]+=.5})(e),function(e,t){if(null==t)return;var r="number"==typeof t?[t,t,t]:[null!=t.width?t.width:1,null!=t.depth?t.depth:1,null!=t.height?t.height:1];ke[0]=r[0],ke[4]=r[1],ke[8]=r[2];for(var n=0;n<e.position.length;n+=3){for(var a=0;a<3;a++)Ae[a]=e.position[n+a];Object(ie.t)(Ae,Ae,ke);for(var o=0;o<3;o++)e.position[n+o]=Ae[o]}if(r[0]!==r[1]||r[1]!==r[2]){ke[0]=1/r[0],ke[4]=1/r[1],ke[8]=1/r[2];for(var i=0;i<e.normal.length;i+=3){for(var c=0;c<3;c++)Ae[c]=e.normal[i+c];Object(ie.t)(Ae,Ae,ke),Object(ie.o)(Ae,Ae);for(var s=0;s<3;s++)e.normal[i+s]=Ae[s]}}}(e,r&&r.size);var n=Object(z.c)(e,t,r),a=n.vertexAttributes,o=n.transform;return{vertexAttributes:new T.c(ye(ye({},a),{},{uv:e.uv})),transform:o,components:[new R.a({faces:e.faces,material:r&&r.material||null})],spatialReference:t.spatialReference}}var we={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},xe={south:0,east:1,north:2,west:3,up:4,down:5},Ae=Object(w.e)(),ke=Object(ae.b)(),Me=r("AjSt"),Re=y.a.getLogger("esri.geometry.support.meshUtils.rotate");function Pe(e,t,r){if(e.vertexAttributes&&e.vertexAttributes.position&&0!==t[3]){var n=e.spatialReference;if(Object(a.i)(e.transform)){var o;null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&Re.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported"));var i=null!=(o=null==r?void 0:r.origin)?o:e.transform.getOriginPoint(n);!function(e,t,r){var n=Object(ie.s)(Fe,r.x,r.y,r.z),a=Object(ie.g)(Fe,n,e.origin);e.applyLocalInverse(a,Ce),e.rotation=Object(M.c)(e.rotation,t,Object(M.d)()),e.applyLocalInverse(a,a),Object(ie.g)(a,a,Ce),e.translation=Object(ie.c)(Object(w.e)(),e.translation,a)}(e.transform,t,i)}else{var c,s=null!=(c=null==r?void 0:r.origin)?c:e.origin;Object(W.a)(e.spatialReference,r)?function(e,t,r){var n=e.spatialReference,o=Object(ce.g)(n),i=Ee;Object(B.l)(r,i,o)||Object(B.l)(e.origin,i,o);var c=e.vertexAttributes.position,s=e.vertexAttributes.normal,l=e.vertexAttributes.tangent,u=new Float64Array(c.length),f=Object(a.i)(s)?new Float32Array(s.length):null,p=Object(a.i)(l)?new Float32Array(l.length):null;Object(B.c)(o,i,Se,o),Object(ne.e)(De,Se);var b=Ie;Object(ie.t)(Object(M.b)(Ie),Object(M.b)(t),De),b[3]=t[3],Object(se.f)(c,n,u),Object(a.i)(s)&&Object(se.c)(s,c,u,n,f),Object(a.i)(l)&&Object(se.e)(l,c,u,n,p),Te(u,b,3,i),Object(se.a)(u,c,n),Object(a.i)(s)&&(Te(f,b,3),Object(se.b)(f,c,u,n,s)),Object(a.i)(l)&&(Te(p,b,4),Object(se.d)(p,c,u,n,l)),e.vertexAttributesChanged()}(e,t,s):function(e,t,r){var n=Ee;if(!Object(B.l)(r,n,e.spatialReference)){var a=e.origin;n[0]=a.x,n[1]=a.y,n[2]=a.z,Re.error("Failed to project specified origin (wkid:".concat(r.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")."))}Te(e.vertexAttributes.position,t,3,n),Te(e.vertexAttributes.normal,t,3),Te(e.vertexAttributes.tangent,t,4),e.vertexAttributesChanged()}(e,t,s)}}}function Te(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w.b;if(!Object(a.h)(e)){Object(Me.h)(Se),Object(Me.b)(Se,Se,Object(M.a)(t),Object(M.b)(t));for(var o=0;o<e.length;o+=r){for(var i=0;i<3;i++)Fe[i]=e[o+i]-n[i];Object(ie.n)(Fe,Fe,Se);for(var c=0;c<3;c++)e[o+c]=Fe[c]+n[c]}}}var Fe=Object(w.e)(),Ce=Object(w.e)(),Ie=Object(M.d)(),Se=Object(oe.d)(),De=Object(ae.b)(),Ee=Object(w.e)(),Le=y.a.getLogger("esri.geometry.support.meshUtils.scale");function Ue(e,t,r){if(e.vertexAttributes&&e.vertexAttributes.position){var n=e.spatialReference;if(Object(a.i)(e.transform)){var o;null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&Le.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported"));var i=null!=(o=null==r?void 0:r.origin)?o:e.transform.getOriginPoint(n);!function(e,t,r){var n=Object(ie.s)(ze,r.x,r.y,r.z),a=Object(ie.g)(ze,n,e.origin);e.applyLocalInverse(a,He);var o=Object(ie.b)(Object(w.e)(),e.scale,t);e.scale=o,e.applyLocalInverse(a,a),Object(ie.g)(a,a,He),e.translation=Object(ie.c)(Object(w.e)(),e.translation,a)}(e.transform,t,i)}else{var c=Object(W.a)(e.spatialReference,r),s=r&&r.origin||e.origin;c?function(e,t,r){var n=e.spatialReference,o=Object(ce.g)(n),i=Ne;Object(B.l)(r,i,o)||Object(B.l)(e.origin,i,o);var c=e.vertexAttributes.position,s=e.vertexAttributes.normal,l=e.vertexAttributes.tangent,u=new Float64Array(c.length),f=Object(a.i)(s)?new Float32Array(s.length):null,p=Object(a.i)(l)?new Float32Array(l.length):null;Object(se.f)(c,n,u),Object(a.i)(s)&&Object(se.c)(s,c,u,n,f),Object(a.i)(l)&&Object(se.e)(l,c,u,n,p),Be(u,t,i),Object(se.a)(u,c,n),Object(a.i)(s)&&Object(se.b)(f,c,u,n,s),Object(a.i)(l)&&Object(se.d)(p,c,u,n,l),e.vertexAttributesChanged()}(e,t,s):function(e,t,r){var n=Ne;if(!Object(B.l)(r,n,e.spatialReference)){var a=e.origin;n[0]=a.x,n[1]=a.y,n[2]=a.z,Le.error("Failed to project specified origin (wkid:".concat(r.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")."))}Be(e.vertexAttributes.position,t,n),e.vertexAttributesChanged()}(e,t,s)}}}function Be(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.b;if(e)for(var n=0;n<e.length;n+=3){for(var a=0;a<3;a++)ze[a]=e[n+a]-r[a];Object(ie.b)(ze,ze,t);for(var o=0;o<3;o++)e[n+o]=ze[o]+r[o]}}var We,ze=Object(w.e)(),He=Object(w.e)(),Ne=Object(w.e)();function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var a=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Qe=y.a.getLogger("esri.geometry.Mesh"),Ge=We=function(e){Object(l.a)(f,e);var t,n,u=Je(f);function f(e){var t;return Object(c.a)(this,f),(t=u.call(this,e)).components=null,t.transform=null,t.external=null,t.hasZ=!0,t.hasM=!1,t.vertexAttributes=new T.a,t.type="mesh",t}return Object(s.a)(f,[{key:"initialize",value:function(){(Object(a.h)(this.external)||this.vertexAttributes.position.length)&&(this.loadStatus="loaded")}},{key:"hasExtent",get:function(){return!this.loaded&&Object(a.i)(this.external)&&Object(a.i)(this.external.extent)||this.loaded&&this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0)}},{key:"boundingInfo",get:function(){var e=this.vertexAttributes.position,t=this.spatialReference;if(0===e.length||this.components&&0===this.components.length)return{extent:new o.a({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:t}),center:new A.a({x:0,y:0,z:0,spatialReference:t})};for(var r=Object(a.i)(this.transform)?this.transform.project(e,t):e,n=1/0,i=1/0,c=1/0,s=-1/0,l=-1/0,u=-1/0,f=0,p=0,b=0,h=r.length,v=1/(h/3),g=0;g<h;){var y=r[g++],d=r[g++],O=r[g++];n=Math.min(n,y),i=Math.min(i,d),c=Math.min(c,O),s=Math.max(s,y),l=Math.max(l,d),u=Math.max(u,O),f+=v*y,p+=v*d,b+=v*O}return{extent:new o.a({xmin:n,ymin:i,zmin:c,xmax:s,ymax:l,zmax:u,spatialReference:t}),center:new A.a({x:f,y:p,z:b,spatialReference:t})}}},{key:"anchor",get:function(){if(Object(a.i)(this.transform))return this.transform.getOriginPoint(this.spatialReference);var e=this.boundingInfo;return new A.a({x:e.center.x,y:e.center.y,z:e.extent.zmin,spatialReference:this.spatialReference})}},{key:"origin",get:function(){return Object(a.i)(this.transform)?this.transform.getOriginPoint(this.spatialReference):this.boundingInfo.center}},{key:"extent",get:function(){return!this.loaded&&Object(a.i)(this.external)&&Object(a.i)(this.external.extent)?this.external.extent.clone():this.boundingInfo.extent}},{key:"addComponent",value:function(e){this.loaded?(this.components||(this.components=[]),this.components.push(R.a.from(e)),this.notifyChange("components")):Qe.error("addComponent()","Mesh must be loaded before applying operations")}},{key:"removeComponent",value:function(e){if(this.loaded){if(this.components){var t=this.components.indexOf(e);if(-1!==t)return this.components.splice(t,1),void this.notifyChange("components")}Qe.error("removeComponent()","Provided component is not part of the list of components")}else Qe.error("removeComponent()","Mesh must be loaded before applying operations")}},{key:"rotate",value:function(e,t,r,n){return Object(M.e)(_e.x,e,Ze),Object(M.e)(_e.y,t,Ve),Object(M.e)(_e.z,r,Ye),Object(M.c)(Ze,Ve,Ze),Object(M.c)(Ze,Ye,Ze),Pe(this,Ze,n),this}},{key:"offset",value:function(e,t,r,n){return this.loaded?(Xe[0]=e,Xe[1]=t,Xe[2]=r,ue(this,Xe,n),this):(Qe.error("offset()","Mesh must be loaded before applying operations"),this)}},{key:"scale",value:function(e,t){return this.loaded?(Ue(this,e,t),this):(Qe.error("scale()","Mesh must be loaded before applying operations"),this)}},{key:"centerAt",value:function(e,t){return this.loaded?(N(this,e,t),this):(Qe.error("centerAt()","Mesh must be loaded before applying operations"),this)}},{key:"load",value:function(e){return Object(a.i)(this.external)&&this.addResolvingPromise(function(e,t,r){return V.apply(this,arguments)}(this,this.external.source,e)),Promise.resolve(this)}},{key:"clone",value:function(){var e=this.components?new Map:null,t=this.components?new Map:null,r={components:this.components?this.components.map((function(r){return r.cloneWithDeduplication(e,t)})):null,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes.clone(),transform:Object(a.i)(this.transform)?this.transform.clone():null,external:Object(a.i)(this.external)?{source:this.external.source,extent:Object(a.i)(this.external.extent)?this.external.extent.clone():null}:null};return new We(r)}},{key:"vertexAttributesChanged",value:function(){this.notifyChange("vertexAttributes")}},{key:"toBinaryGLTF",value:(n=Object(i.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(118).then(r.bind(null,"G/gh"));case 2:return n=e.sent,a=n.toBinaryGLTF,e.abrupt("return",a(this,t));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}],[{key:"createBox",value:function(e,t){if(!(e instanceof A.a))return Qe.error(".createBox()","expected location to be a Point instance"),null;var r=new We(me(function(){for(var e=we.faceDescriptions,t=we.faceVertexOffsets,r=we.uvScales,n=4*e.length,a=new Float64Array(3*n),o=new Float32Array(3*n),i=new Float32Array(2*n),c=new Uint32Array(2*e.length*3),s=0,l=0,u=0,f=0,p=0;p<e.length;p++){var b,h=e[p],v=s/3,g=de(t);try{for(g.s();!(b=g.n()).done;){var y=b.value;c[f++]=v+y}}catch(x){g.e(x)}finally{g.f()}for(var d=h.corners,O=0;O<4;O++){var j=d[O],m=0;i[u++]=.25*r[O][0]+h.uvOrigin[0],i[u++]=h.uvOrigin[1]-.25*r[O][1];for(var w=0;w<3;w++)0!==h.axis[w]?(a[s++]=.5*h.axis[w],o[l++]=h.axis[w]):(a[s++]=.5*j[m++],o[l++]=0)}}return{position:a,normal:o,uv:i,faces:c}}(),e,t));return t&&t.imageFace&&"all"!==t.imageFace?function(e,t){for(var r=e.components[0],n=r.faces,o=xe[t],i=6*o,c=new Uint32Array(6),s=new Uint32Array(n.length-6),l=0,u=0,f=0;f<n.length;f++)f>=i&&f<i+6?c[l++]=n[f]:s[u++]=n[f];if(Object(a.i)(e.vertexAttributes.uv)){for(var p=new Float32Array(e.vertexAttributes.uv),b=4*o*2,h=[0,1,1,1,1,0,0,0],v=0;v<h.length;v++)p[b+v]=h[v];e.vertexAttributes.uv=p}return e.components=[new R.a({faces:c,material:r.material}),new R.a({faces:s})],e}(r,t.imageFace):r}},{key:"createSphere",value:function(e,t){return e instanceof A.a?new We(me(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.round(8*Math.pow(2,e)),r=2*t,n=(t-1)*(r+1)+2*r,a=new Float64Array(3*n),o=new Float32Array(3*n),i=new Float32Array(2*n),c=new Uint32Array((t-1)*r*2*3),s=0,l=0,u=0,f=0,p=0;p<=t;p++){var b=p/t*Math.PI+.5*Math.PI,h=Math.cos(b),v=Math.sin(b);Ae[2]=v;for(var g=0===p||p===t,y=g?r-1:r,d=0;d<=y;d++){var O=d/y*2*Math.PI;Ae[0]=-Math.sin(O)*h,Ae[1]=Math.cos(O)*h;for(var j=0;j<3;j++)a[s]=.5*Ae[j],o[s]=Ae[j],++s;i[l++]=(d+(g?.5:0))/r,i[l++]=p/t,0!==p&&d!==r&&(p!==t&&(c[u++]=f,c[u++]=f+1,c[u++]=f-r),1!==p&&(c[u++]=f,c[u++]=f-r,c[u++]=f-r-1)),f++}}return{position:a,normal:o,uv:i,faces:c}}(t&&t.densificationFactor||0),e,t)):(Qe.error(".createSphere()","expected location to be a Point instance"),null)}},{key:"createCylinder",value:function(e,t){return e instanceof A.a?new We(me(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=5,r=Math.round(16*Math.pow(2,e)),n=(t-1)*(r+1)+2*r,a=new Float64Array(3*n),o=new Float32Array(3*n),i=new Float32Array(2*n),c=new Uint32Array(4*r*3),s=0,l=0,u=0,f=0,p=0,b=0;b<=t;b++)for(var h=0===b||b===t,v=b<=1||b>=t-1,g=2===b||4===b,y=h?r-1:r,d=0;d<=y;d++){var O=d/y*2*Math.PI,j=h?0:.5;Ae[0]=j*Math.sin(O),Ae[1]=j*-Math.cos(O),Ae[2]=b<=2?.5:-.5;for(var m=0;m<3;m++)a[s++]=Ae[m],o[l++]=v?2===m?b<=1?1:-1:0:2===m?0:Ae[m]/j;i[u++]=(d+(h?.5:0))/r,i[u++]=b<=1?1*b/3:b<=3?1*(b-2)/3+1/3:1*(b-4)/3+2/3,g||0===b||d===r||(b!==t&&(c[f++]=p,c[f++]=p+1,c[f++]=p-r),1!==b&&(c[f++]=p,c[f++]=p-r,c[f++]=p-r-1)),p++}return{position:a,normal:o,uv:i,faces:c}}(t&&t.densificationFactor||0),e,t)):(Qe.error(".createCylinder()","expected location to be a Point instance"),null)}},{key:"createPlane",value:function(e,t){return e instanceof A.a?new We(me(function(e){for(var t=je.facingAxisOrderSwap[e],r=je.position,n=je.normal,a=new Float64Array(r.length),o=new Float32Array(n.length),i=0,c=0;c<4;c++)for(var s=i,l=0;l<3;l++){var u=t[l],f=Math.abs(u)-1,p=u>=0?1:-1;a[i]=r[s+f]*p,o[i]=n[s+f]*p,i++}return{position:a,normal:o,uv:new Float32Array(je.uv),faces:new Uint32Array(je.faces)}}(t&&t.facing||"up"),e,t)):(Qe.error(".createPlane()","expected location to be a Point instance"),null)}},{key:"createFromPolygon",value:function(e,t){if(!(e instanceof k.a))return Qe.error(".createFromPolygon()","expected polygon to be a Polygon instance"),null;var r=E(e);return new We({vertexAttributes:new T.a({position:r.position}),components:[new R.a({faces:r.faces,shading:"flat",material:t&&t.material||null})],spatialReference:e.spatialReference})}},{key:"createFromGLTF",value:(t=Object(i.a)(b.a.mark((function e(t,n,a){var o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof A.a){e.next=2;break}throw Qe.error(".createfromGLTF()","expected location to be a Point instance"),new v.a("invalid-input","Expected location to be a Point instance");case 2:return e.next=4,Object(O.y)(Promise.all([r.e(1),r.e(20)]).then(r.bind(null,"pyE/")),a);case 4:return o=e.sent,i=o.loadGLTFMesh,e.t0=We,e.next=9,i(t,n,a);case 9:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 11:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"createWithExternalSource",value:function(e,t,r){var n,a,o,i=null!=(n=null==r?void 0:r.extent)?n:null,c=null!=(a=null==r?void 0:r.transform.clone())?a:new P.a;c.origin=[e.x,e.y,null!=(o=e.z)?o:0];var s=e.spatialReference;return new We({external:{source:t,extent:i},transform:c,spatialReference:s})}},{key:"createIncomplete",value:function(e,t){var r,n,a=null!=(r=null==t?void 0:t.transform.clone())?r:new P.a;a.origin=[e.x,e.y,null!=(n=e.z)?n:0];var o=e.spatialReference,i=new We({transform:a,spatialReference:o});return i.addResolvingPromise(Promise.reject(new v.a("mesh-incomplete","Mesh resources are not complete"))),i}}]),f}(g.a.LoadableMixin(Object(d.b)(x.a)));Object(h.a)([Object(j.b)({type:[R.a],json:{write:!0}})],Ge.prototype,"components",void 0),Object(h.a)([Object(j.b)({type:P.a,json:{write:!0}})],Ge.prototype,"transform",void 0),Object(h.a)([Object(j.b)({constructOnly:!0})],Ge.prototype,"external",void 0),Object(h.a)([Object(j.b)({readOnly:!0})],Ge.prototype,"hasExtent",null),Object(h.a)([Object(j.b)({readOnly:!0})],Ge.prototype,"boundingInfo",null),Object(h.a)([Object(j.b)({readOnly:!0})],Ge.prototype,"anchor",null),Object(h.a)([Object(j.b)({readOnly:!0})],Ge.prototype,"origin",null),Object(h.a)([Object(j.b)({readOnly:!0,json:{read:!1}})],Ge.prototype,"extent",null),Object(h.a)([Object(j.b)({readOnly:!0,json:{read:!1,write:!0,default:!0}})],Ge.prototype,"hasZ",void 0),Object(h.a)([Object(j.b)({readOnly:!0,json:{read:!1,write:!0,default:!1}})],Ge.prototype,"hasM",void 0),Object(h.a)([Object(j.b)({type:T.a,nonNullable:!0,json:{write:!0}})],Ge.prototype,"vertexAttributes",void 0),Ge=We=Object(h.a)([Object(m.a)("esri.geometry.Mesh")],Ge);var _e={x:Object(w.g)(1,0,0),y:Object(w.g)(0,1,0),z:Object(w.g)(0,0,1)},Ze=Object(M.d)(),Ve=Object(M.d)(),Ye=Object(M.d)(),Xe=Object(w.e)(),$e=Ge,qe=r("kJId");function Ke(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tt(e,t,r){var o=r.features;r.features=[],delete r.geometryType;var i=qe.default.fromJSON(r);i.geometryType="mesh";var c,s,l=i.spatialReference,u=Object(a.h)(e.outFields)||!e.outFields.length?function(){return{}}:(c=e.outFields.includes("*")?null:new Set(e.outFields),function(e){var t=e.attributes;if(!t)return{};if(!c)return t;for(var r in t)c.has(r)||delete t[r];return t}),f=Ke(o);try{for(f.s();!(s=f.n()).done;){var p=s.value,b=rt(p,l,t);Object(a.i)(b)&&i.features.push(new n.a({geometry:b,attributes:u(p)}))}}catch(h){f.e(h)}finally{f.f()}return i}function rt(e,t,r){var n=function(e){if(!e.assetMappings)return{status:0};var t,r=[],n=new Map,a=Ke(e.assetMappings);try{for(a.s();!(t=a.n()).done;){var o=t.value,i=o.seqNo,c=o.assetName,s=o.assetURL,l=o.conversionStatus;if("FAILED"===l)return{status:0};if("COMPLETED"!==l)return{status:1};if(null==i)r.push({name:c,source:s});else{var u=n.get(c),f=void 0;u?f=u.multipart:(f=[],r.push({name:c,source:{multipart:f}}),n.set(c,{multipart:f})),f[i]=s}}}catch(p){a.e(p)}finally{a.f()}return{status:2,source:r}}(e),a=n.status,i=n.source;if(0===a)return null;var c=function(e,t,r){var n=e.attributes,a=r.transformFieldRoles;return new A.a({x:n[a.originX],y:n[a.originY],z:n[a.originZ],spatialReference:t})}(e,t,r),s=o.a.fromJSON(e.geometry);s.spatialReference=t;var l=function(e,t){var r,n=e.attributes,a=e.assetMappings,o=t.transformFieldRoles;return new P.a({translation:[n[o.translationX],n[o.translationY],n[o.translationZ]],rotation:Object(M.e)([n[o.rotationX],n[o.rotationY],n[o.rotationZ]],n[o.rotationDeg]),scale:[n[o.scaleX],n[o.scaleY],n[o.scaleZ]],geographic:!(null!=(r=a.flags)&&r.includes("PROJECT_VERTICES"))})}(e,r);return 1===a?$e.createIncomplete(c,{extent:s,transform:l}):$e.createWithExternalSource(c,i,{extent:s,transform:l})}},HmIz:function(e,t,r){"use strict";var n,a=r("hisu"),o=r("yBJb"),i=r("CHlC"),c=r("kMo5"),s=r("P+uj"),l=r("dQW7"),u=r("0n+b"),f=r("0fJP"),p=r("TM+E"),b=r("xAIp"),h=r("gljZ"),v=(r("J4Pc"),r("iaHD")),g=r("wckI"),y=r("2NtD"),d=r("uP3v"),O=r("gqSU");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var m=p.a.getLogger("esri.geometry.support.MeshComponent"),w=n=function(e){Object(i.a)(r,e);var t=j(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).faces=null,n.material=null,n.shading="source",n.trustSourceNormals=!1,n}return Object(o.a)(r,[{key:"castFaces",value:function(e){return Object(O.b)(e,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},m)}},{key:"castMaterial",value:function(e){return Object(g.d)(e&&"object"==typeof e&&("metallic"in e||"roughness"in e||"metallicRoughnessTexture"in e)?d.a:y.a,e)}},{key:"clone",value:function(){return new n({faces:Object(f.a)(this.faces),shading:this.shading,material:Object(f.a)(this.material),trustSourceNormals:this.trustSourceNormals})}},{key:"cloneWithDeduplication",value:function(e,t){var r={faces:Object(f.a)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(e,t):null,trustSourceNormals:this.trustSourceNormals};return new n(r)}}],[{key:"from",value:function(e){return Object(g.d)(n,e)}}]),r}(u.a);Object(l.a)([Object(b.b)({json:{write:!0}})],w.prototype,"faces",void 0),Object(l.a)([Object(h.a)("faces")],w.prototype,"castFaces",null),Object(l.a)([Object(b.b)({type:y.a,json:{write:!0}})],w.prototype,"material",void 0),Object(l.a)([Object(h.a)("material")],w.prototype,"castMaterial",null),Object(l.a)([Object(b.b)({type:String,json:{write:!0}})],w.prototype,"shading",void 0),Object(l.a)([Object(b.b)({type:Boolean})],w.prototype,"trustSourceNormals",void 0);var x=w=n=Object(l.a)([Object(v.a)("esri.geometry.support.MeshComponent")],w);t.a=x},a8QM:function(e,t,r){"use strict";var n,a=r("hisu"),o=r("yBJb"),i=r("CHlC"),c=r("kMo5"),s=r("P+uj"),l=r("dQW7"),u=(r("J4Pc"),r("0n+b")),f=r("xAIp"),p=r("wckI"),b=(r("TM+E"),r("mp5+")),h=r("iaHD"),v=r("jr4m"),g=r("9jes"),y=r("mIFe");function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var O=new WeakMap,j=0,m=n=function(e){Object(i.a)(r,e);var t=d(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).wrap="repeat",n}return Object(o.a)(r,[{key:"url",get:function(){return this._get("url")||null},set:function(e){this._set("url",e),e&&this._set("data",null)}},{key:"data",get:function(){return this._get("data")||null},set:function(e){this._set("data",e),e&&this._set("url",null)}},{key:"writeData",value:function(e,t,r,n){if(e instanceof HTMLImageElement){var a={type:"image-element",src:Object(g.e)(e.src,n),crossOrigin:e.crossOrigin};t[r]=a}else if(e instanceof HTMLCanvasElement){var o=e.getContext("2d").getImageData(0,0,e.width,e.height),i={type:"canvas-element",imageData:this.encodeImageData(o)};t[r]=i}else if(e instanceof HTMLVideoElement){var c={type:"video-element",src:Object(g.e)(e.src,n),autoplay:e.autoplay,loop:e.loop,muted:e.muted,crossOrigin:e.crossOrigin,preload:e.preload};t[r]=c}else{var s={type:"image-data",imageData:this.encodeImageData(e)};t[r]=s}}},{key:"readData",value:function(e){switch(e.type){case"image-element":var t=new Image;return t.src=e.src,t.crossOrigin=e.crossOrigin,t;case"canvas-element":var r=this.decodeImageData(e.imageData),n=document.createElement("canvas");return n.width=r.width,n.height=r.height,n.getContext("2d").putImageData(r,0,0),n;case"image-data":return this.decodeImageData(e.imageData);case"video-element":var a=document.createElement("video");return a.src=e.src,a.crossOrigin=e.crossOrigin,a.autoplay=e.autoplay,a.loop=e.loop,a.muted=e.muted,a.preload=e.preload,a;default:return}}},{key:"transparent",get:function(){var e=this.data,t=this.url;if(e instanceof HTMLCanvasElement)return this.imageDataContainsTransparent(e.getContext("2d").getImageData(0,0,e.width,e.height));if(e instanceof ImageData)return this.imageDataContainsTransparent(e);if(t){var r=t.substr(t.length-4,4).toLowerCase(),n=t.substr(0,15).toLocaleLowerCase();if(".png"===r||"data:image/png;"===n)return!0}return!1},set:function(e){null!=e?this._override("transparent",e):this._clearOverride("transparent")}},{key:"contentHash",get:function(){var e=this,t="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?"".concat(this.wrap.horizontal,"/").concat(this.wrap.vertical):"",r=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"d:".concat(r,",t:").concat(e.transparent,",w:").concat(t)};return null!=this.url?r(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?r(this.data.src):(O.has(this.data)||O.set(this.data,++j),r(O.get(this.data))):r()}},{key:"clone",value:function(){var e={url:this.url,data:this.data,wrap:this.cloneWrap()};return new n(e)}},{key:"cloneWithDeduplication",value:function(e){var t=e.get(this);if(t)return t;var r=this.clone();return e.set(this,r),r}},{key:"cloneWrap",value:function(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}},{key:"encodeImageData",value:function(e){for(var t="",r=0;r<e.data.length;r++)t+=String.fromCharCode(e.data[r]);return{data:btoa(t),width:e.width,height:e.height}}},{key:"decodeImageData",value:function(e){for(var t=atob(e.data),r=new Uint8ClampedArray(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return Object(y.f)(r,e.width,e.height)}},{key:"imageDataContainsTransparent",value:function(e){for(var t=3;t<e.data.length;t+=4)if(255!==e.data[t])return!0;return!1}}],[{key:"from",value:function(e){return"string"==typeof e?new n({url:e}):e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageData||e instanceof HTMLVideoElement?new n({data:e}):Object(p.d)(n,e)}}]),r}(u.a);Object(l.a)([Object(f.b)({type:String,json:{write:g.f}})],m.prototype,"url",null),Object(l.a)([Object(f.b)({json:{write:{overridePolicy:function(){return{enabled:!this.url}}}}}),Object(f.b)()],m.prototype,"data",null),Object(l.a)([Object(v.a)("data")],m.prototype,"writeData",null),Object(l.a)([Object(b.a)("data")],m.prototype,"readData",null),Object(l.a)([Object(f.b)({type:Boolean,json:{write:{overridePolicy:function(){return{enabled:this._isOverridden("transparent")}}}}})],m.prototype,"transparent",null),Object(l.a)([Object(f.b)({json:{write:!0}})],m.prototype,"wrap",void 0),Object(l.a)([Object(f.b)({readOnly:!0})],m.prototype,"contentHash",null);var w=m=n=Object(l.a)([Object(h.a)("esri.geometry.support.MeshTexture")],m);t.a=w},gqSU:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return w}));var n,a=r("hisu"),o=r("yBJb"),i=r("CHlC"),c=r("kMo5"),s=r("P+uj"),l=r("dQW7"),u=r("0n+b"),f=r("0fJP"),p=r("TM+E"),b=r("xAIp"),h=r("gljZ"),v=(r("J4Pc"),r("iaHD"));function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var O=p.a.getLogger("esri.geometry.support.MeshVertexAttributes"),j=n=function(e){Object(i.a)(r,e);var t=d(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).color=null,n.position=new Float64Array(0),n.uv=null,n.normal=null,n.tangent=null,n}return Object(o.a)(r,[{key:"castColor",value:function(e){return w(e,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},O)}},{key:"castPosition",value:function(e){return e&&e instanceof Float32Array&&O.warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),w(e,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},O)}},{key:"castUv",value:function(e){return w(e,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},O)}},{key:"castNormal",value:function(e){return w(e,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},O)}},{key:"castTangent",value:function(e){return w(e,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},O)}},{key:"clone",value:function(){var e={position:Object(f.a)(this.position),uv:Object(f.a)(this.uv),normal:Object(f.a)(this.normal),tangent:Object(f.a)(this.tangent),color:Object(f.a)(this.color)};return new n(e)}},{key:"clonePositional",value:function(){var e={position:Object(f.a)(this.position),normal:Object(f.a)(this.normal),tangent:Object(f.a)(this.tangent),uv:this.uv,color:this.color};return new n(e)}}]),r}(u.a);function m(e,t,r,n){var a=t.loggerTag,o=t.stride;return e.length%o!=0?(n.error(a,"Invalid array length, expected a multiple of ".concat(o)),new r([])):e}function w(e,t,r,n,a){if(!e)return e;if(e instanceof t)return m(e,n,t,a);var o,i=g(r);try{for(i.s();!(o=i.n()).done;){if(e instanceof o.value)return m(new t(e),n,t,a)}}catch(s){i.e(s)}finally{i.f()}if(Array.isArray(e))return m(new t(e),n,t,a);var c=r.map((function(e){return"'".concat(e.name,"'")}));return a.error("Failed to set property, expected one of ".concat(c,", but got ").concat(e.constructor.name)),new t([])}function x(e,t,r){t[r]=function(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}(e)}Object(l.a)([Object(b.b)({json:{write:x}})],j.prototype,"color",void 0),Object(l.a)([Object(h.a)("color")],j.prototype,"castColor",null),Object(l.a)([Object(b.b)({nonNullable:!0,json:{write:x}})],j.prototype,"position",void 0),Object(l.a)([Object(h.a)("position")],j.prototype,"castPosition",null),Object(l.a)([Object(b.b)({json:{write:x}})],j.prototype,"uv",void 0),Object(l.a)([Object(h.a)("uv")],j.prototype,"castUv",null),Object(l.a)([Object(b.b)({json:{write:x}})],j.prototype,"normal",void 0),Object(l.a)([Object(h.a)("normal")],j.prototype,"castNormal",null),Object(l.a)([Object(b.b)({json:{write:x}})],j.prototype,"tangent",void 0),Object(l.a)([Object(h.a)("tangent")],j.prototype,"castTangent",null);var A=j=n=Object(l.a)([Object(v.a)("esri.geometry.support.MeshVertexAttributes")],j);t.c=A},uP3v:function(e,t,r){"use strict";var n,a=r("mK0O"),o=r("hisu"),i=r("yBJb"),c=r("4Mpa"),s=r("CHlC"),l=r("kMo5"),u=r("P+uj"),f=r("dQW7"),p=r("WYis"),b=r("7im+"),h=r("xAIp"),v=(r("J4Pc"),r("wckI"),r("TM+E"),r("iaHD")),g=r("2NtD"),y=r("a8QM");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var m=n=function(e){Object(s.a)(r,e);var t=j(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).emissiveColor=null,n.emissiveTexture=null,n.occlusionTexture=null,n.metallic=1,n.roughness=1,n.metallicRoughnessTexture=null,n}return Object(i.a)(r,[{key:"clone",value:function(){return this.cloneWithDeduplication(null,new Map)}},{key:"cloneWithDeduplication",value:function(e,t){var r=Object(b.i)(e)?e.get(this):null;if(r)return r;var a=new n(this.clonePropertiesWithDeduplication(t));return Object(b.i)(e)&&e.set(this,a),a}},{key:"clonePropertiesWithDeduplication",value:function(e){return O(O({},Object(c.a)(Object(u.a)(r.prototype),"clonePropertiesWithDeduplication",this).call(this,e)),{},{emissiveColor:Object(b.i)(this.emissiveColor)?this.emissiveColor.clone():null,emissiveTexture:Object(b.i)(this.emissiveTexture)?this.emissiveTexture.cloneWithDeduplication(e):null,occlusionTexture:Object(b.i)(this.occlusionTexture)?this.occlusionTexture.cloneWithDeduplication(e):null,metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:Object(b.i)(this.metallicRoughnessTexture)?this.metallicRoughnessTexture.cloneWithDeduplication(e):null})}}]),r}(g.a);Object(f.a)([Object(h.b)({type:p.a,json:{write:!0}})],m.prototype,"emissiveColor",void 0),Object(f.a)([Object(h.b)({type:y.a,json:{write:!0}})],m.prototype,"emissiveTexture",void 0),Object(f.a)([Object(h.b)({type:y.a,json:{write:!0}})],m.prototype,"occlusionTexture",void 0),Object(f.a)([Object(h.b)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],m.prototype,"metallic",void 0),Object(f.a)([Object(h.b)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],m.prototype,"roughness",void 0),Object(f.a)([Object(h.b)({type:y.a,json:{write:!0}})],m.prototype,"metallicRoughnessTexture",void 0);var w=m=n=Object(f.a)([Object(v.a)("esri.geometry.support.MeshMaterialMetallicRoughness")],m);t.a=w}}]);
//# sourceMappingURL=55-8865b465c091eb1bcd4c.js.map
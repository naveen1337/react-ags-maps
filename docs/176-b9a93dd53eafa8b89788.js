(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{hUuX:function(e,t,n){"use strict";n.r(t),n.d(t,"work",(function(){return ee})),n.d(t,"wrappedWork",(function(){return Z}));var r=n("eijD"),i=n("NthX"),o=n.n(i),a=n("C+Hs");function c(e,t,n){for(var r=t/3,i=new Uint32Array(n+1),o=new Uint32Array(n+1),a=function(e,t){e<t?i[e+1]++:o[t+1]++},c=0;c<r;c++){var s=e[3*c],u=e[3*c+1],f=e[3*c+2];a(s,u),a(u,f),a(f,s)}for(var l=0,g=0,v=0;v<n;v++){var p=i[v+1],d=o[v+1];i[v+1]=l,o[v+1]=g,l+=p,g+=d}for(var h=new Uint32Array(6*r),b=i[n],m=function(e,t,n){if(e<t){var r=i[e+1]++;h[2*r]=t,h[2*r+1]=n}else{var a=o[t+1]++;h[2*b+2*a]=e,h[2*b+2*a+1]=n}},O=0;O<r;O++){var w=e[3*O],j=e[3*O+1],y=e[3*O+2];m(w,j,O),m(j,y,O),m(y,w,O)}for(var A=function(e,t){for(var n=2*e,r=t-e,i=1;i<r;i++){for(var o=h[n+2*i],a=h[n+2*i+1],c=i-1;c>=0&&h[n+2*c]>o;c--)h[n+2*c+2]=h[n+2*c],h[n+2*c+3]=h[n+2*c+1];h[n+2*c+2]=o,h[n+2*c+3]=a}},k=0;k<n;k++)A(i[k],i[k+1]),A(b+o[k],b+o[k+1]);for(var I=new Int32Array(3*r),N=function(t,n){return t===e[3*n]?0:t===e[3*n+1]?1:t===e[3*n+2]?2:-1},E=function(e,t){var n=N(e,t);I[3*t+n]=-1},S=function(e,t,n,r){var i=N(e,t);I[3*t+i]=r;var o=N(n,r);I[3*r+o]=t},x=0;x<n;x++){for(var L=i[x],D=i[x+1],V=o[x],P=o[x+1];L<D&&V<P;){var B=h[2*L],F=h[2*b+2*V];B===F?(S(x,h[2*L+1],F,h[2*b+2*V+1]),L++,V++):B<F?(E(x,h[2*L+1]),L++):(E(F,h[2*b+2*V+1]),V++)}for(;L<D;)E(x,h[2*L+1]),L++;for(;V<P;)E(h[2*b+2*V],h[2*b+2*V+1]),V++}return I}var s=n("mK0O"),u=n("hALY"),f=n("tQrJ");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:p(e.layout)}}function p(e){var t=new Array;return e.fields.forEach((function(e,n){var r=g(g({},e),{},{constructor:h(e.constructor)});t.push([n,r])})),{stride:e.stride,fields:t,fieldNames:e.fieldNames}}var d=[u.a,u.m,u.u,u.C,u.f,u.h,u.b,u.n,u.v,u.D,u.g,u.i,u.l,u.t,u.B,u.J,u.j,u.r,u.z,u.H,u.k,u.s,u.A,u.I,u.e,u.q,u.y,u.G,u.c,u.o,u.w,u.E,u.d,u.p,u.x,u.F];function h(e){return"".concat(e.ElementType,"_").concat(e.ElementCount)}var b=new Map;function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.stride;return e.fieldNames.filter((function(t){var n=e.fields.get(t).optional;return!(n&&n.glPadding)})).map((function(r){var i=e.fields.get(r),o=i.constructor.ElementCount,a=O(i.constructor.ElementType),c=i.offset,s=!(!i.optional||!i.optional.glNormalized);return{name:r,stride:n,count:o,type:a,offset:c,normalized:s,divisor:t}}))}function O(e){var t=w[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}d.forEach((function(e){return b.set(h(e),e)}));var w={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126},j=Object(f.a)().vec3f("position").u16("componentIndex").u16("u16padding"),y=(m(Object(f.a)().vec2u8("sideness")),Object(f.a)().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("u8padding",{glPadding:!0}).u16("u16padding",{glPadding:!0})),A=y.clone().vec3f("normal"),k=y.clone().vec3f("normalA").vec3f("normalB"),I=(new Map([["position0",0],["position1",1],["componentIndex",2],["variantOffset",3],["variantStroke",4],["variantExtension",5],["normal",6],["normalA",6],["normalB",7],["sideness",8]]),n("hisu")),N=n("yBJb"),E=n("NtCB"),S=n("KcHx"),x=n("4vgF"),L=function(){function e(){Object(I.a)(this,e)}return Object(N.a)(e,[{key:"updateSettings",value:function(e){this.settings=e,this.edgeHashFunction=e.reducedPrecision?F:B}},{key:"write",value:function(e,t,n){var r=this.edgeHashFunction(n);J.seed=r;var i=J.getIntRange(0,255),o=J.getIntRange(0,this.settings.variants-1),a=J.getFloat(),c=255*(.5*function(e,t){var n=e<0?-1:1;return Math.pow(Math.abs(e),t)*n}(-(1-Math.min(a/.7,1))+Math.max(0,a-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex),e.variantOffset.set(t,i),e.variantStroke.set(t,o),e.variantExtension.set(t,c)}},{key:"trim",value:function(e,t){return e.slice(0,t)}}]),e}(),D=new Float32Array(6),V=new Uint32Array(D.buffer),P=new Uint32Array(1);function B(e){var t=D;t[0]=e.position0[0],t[1]=e.position0[1],t[2]=e.position0[2],t[3]=e.position1[0],t[4]=e.position1[1],t[5]=e.position1[2],P[0]=5381;for(var n=0;n<V.length;n++)P[0]=31*P[0]+V[n];return P[0]}function F(e){var t=D;t[0]=U(e.position0[0]),t[1]=U(e.position0[1]),t[2]=U(e.position0[2]),t[3]=U(e.position1[0]),t[4]=U(e.position1[1]),t[5]=U(e.position1[2]),P[0]=5381;for(var n=0;n<V.length;n++)P[0]=31*P[0]+V[n];return P[0]}function U(e){return Math.round(1e4*e)/1e4}var W=function(){function e(){Object(I.a)(this,e),this.commonWriter=new L}return Object(N.a)(e,[{key:"updateSettings",value:function(e){this.commonWriter.updateSettings(e)}},{key:"allocate",value:function(e){return A.createBuffer(e)}},{key:"write",value:function(e,t,n){this.commonWriter.write(e,t,n),Object(S.c)(C,n.faceNormal0,n.faceNormal1),Object(S.o)(C,C),e.normal.setVec(t,C)}},{key:"trim",value:function(e,t){return this.commonWriter.trim(e,t)}}]),e}();W.Layout=A,W.glLayout=m(A,1);var M=function(){function e(){Object(I.a)(this,e),this.commonWriter=new L}return Object(N.a)(e,[{key:"updateSettings",value:function(e){this.commonWriter.updateSettings(e)}},{key:"allocate",value:function(e){return k.createBuffer(e)}},{key:"write",value:function(e,t,n){this.commonWriter.write(e,t,n),e.normalA.setVec(t,n.faceNormal0),e.normalB.setVec(t,n.faceNormal1)}},{key:"trim",value:function(e,t){return this.commonWriter.trim(e,t)}}]),e}();M.Layout=k,M.glLayout=m(k,1);var C=Object(x.e)(),J=new E.a,z=n("X6u8"),H=n("6J1V"),T=n("pYN/");function X(e,t){return e.cosAngle<t}function q(e,t){return e.cosAngle>t}function G(e,t){var n=Object(H.b)(e.cosAngle),r=Y.fwd,i=Y.ortho;return Object(S.r)(r,e.position1,e.position0),n*(Object(S.e)(Object(S.d)(i,e.faceNormal0,e.faceNormal1),r)>0?-1:1)>t}function K(e){for(var t=e.faces.length/3,n=e.faces,r=e.neighbors,i=0,o=0;o<t;o++){var a=r[3*o+0],c=r[3*o+1],s=r[3*o+2],u=n[3*o+0],f=n[3*o+1],l=n[3*o+2];i+=-1===a||u<f?1:0,i+=-1===c||f<l?1:0,i+=-1===s||l<u?1:0}for(var g=new Int32Array(4*i),v=0,p=0;p<t;p++){var d=r[3*p+0],h=r[3*p+1],b=r[3*p+2],m=n[3*p+0],O=n[3*p+1],w=n[3*p+2];(-1===d||m<O)&&(g[v++]=m,g[v++]=O,g[v++]=p,g[v++]=d),(-1===h||O<w)&&(g[v++]=O,g[v++]=w,g[v++]=p,g[v++]=h),(-1===b||w<m)&&(g[v++]=w,g[v++]=m,g[v++]=p,g[v++]=b)}return g}function R(e){for(var t=e.faces.length/3,n=e.vertices.position,r=e.faces,i=Q.v0,o=Q.v1,a=Q.v2,c=new Float32Array(3*t),s=0;s<t;s++){var u=r[3*s+0],f=r[3*s+1],l=r[3*s+2];n.getVec(u,i),n.getVec(f,o),n.getVec(l,a),Object(S.g)(o,o,i),Object(S.g)(a,a,i),Object(S.d)(i,o,a),Object(S.o)(i,i),c[3*s+0]=i[0],c[3*s+1]=i[1],c[3*s+2]=i[2]}return c}var Y={edge:{position0:Object(x.e)(),position1:Object(x.e)(),faceNormal0:Object(x.e)(),faceNormal1:Object(x.e)(),componentIndex:0,cosAngle:0},ortho:Object(x.e)(),fwd:Object(x.e)()},Q={v0:Object(x.e)(),v1:Object(x.e)(),v2:Object(x.e)()},_={anglePlanar:4,angleSignificantEdge:35};function Z(e){return $.apply(this,arguments)}function $(){return($=Object(r.a)(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=te(t),r=ee(n),i=[n.data.buffer],e.abrupt("return",{result:ne(r,i),transferList:i});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){var t=function(e,t,n,r){if(t)return{faces:n,facesLength:r,neighbors:c(n,r,e.count),vertices:e};var i=Object(a.a)(e.buffer,e.stride/4,{originalIndices:n,originalIndicesLength:r}),o=c(i.indices,r,i.uniqueCount);return{faces:i.indices,facesLength:i.indices.length,neighbors:o,vertices:j.createView(i.buffer)}}(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return re.updateSettings(e.writerSettings),ie.updateSettings(e.writerSettings),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_,i=e.vertices.position,o=e.vertices.componentIndex,a=Object(H.g)(r.anglePlanar),c=Object(H.g)(r.angleSignificantEdge),s=Math.cos(c),u=Math.cos(a),f=Y.edge,l=f.position0,g=f.position1,v=f.faceNormal0,p=f.faceNormal1,d=R(e),h=K(e),b=h.length/4,m=t.allocate(b),O=0,w=b,j=n.allocate(w),y=0,A=0,k=0,I=Object(z.h)(0,b),N=new Float32Array(b);Object(T.b)(N,(function(e,t,n){i.getVec(h[4*t+0],l),i.getVec(h[4*t+1],g),n[t]=Object(S.j)(l,g)})),I.sort((function(e,t){return N[t]-N[e]}));for(var E=new Array,x=new Array,L=0;L<b;L++){var D=I[L],V=N[D],P=h[4*D+0],B=h[4*D+1],F=h[4*D+2],U=h[4*D+3],W=-1===U;if(i.getVec(P,l),i.getVec(B,g),W)Object(S.s)(v,d[3*F+0],d[3*F+1],d[3*F+2]),Object(S.h)(p,v),f.componentIndex=o.get(P),f.cosAngle=Object(S.e)(v,p);else{if(Object(S.s)(v,d[3*F+0],d[3*F+1],d[3*F+2]),Object(S.s)(p,d[3*U+0],d[3*U+1],d[3*U+2]),f.componentIndex=o.get(P),f.cosAngle=Object(S.e)(v,p),q(f,u))continue;f.cosAngle<-.9999&&Object(S.h)(p,v)}A+=V,k++,W||X(f,s)?(t.write(m,O++,f),E.push(V)):G(f,a)&&(n.write(j,y++,f),x.push(V))}var M=new Float32Array(E.reverse()),C=new Float32Array(x.reverse());return{regular:{instancesData:t.trim(m,O),lodInfo:{lengths:M}},silhouette:{instancesData:n.trim(j,y),lodInfo:{lengths:C}},averageEdgeLength:A/k}}(t,re,ie)}function te(e){return{data:j.createView(e.dataBuffer),indices:"Uint32Array"===e.indicesType?new Uint32Array(e.indicesBuffer):"Uint16Array"===e.indicesType?new Uint16Array(e.indicesBuffer):void 0,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function ne(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:v(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:v(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}var re=new W,ie=new M}}]);
//# sourceMappingURL=176-b9a93dd53eafa8b89788.js.map
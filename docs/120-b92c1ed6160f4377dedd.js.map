{"version":3,"sources":["webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/layers/BaseTileLayer.js","webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/layers/BingMapsLayer.js"],"names":["_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","u","id","level","row","col","extent","_n","y","_super","_this","tileInfo","create","spatialReference","WebMercator","size","type","fullExtent","key","value","t","r","o","s","updateTileInfo","length","undefined","i","signal","l","timestamp","p","getTileUrl","a","responseType","query","_ts","then","data","readOnly","BingMapsAerial","BingMapsRoad","BingMapsHybrid","_g","m","_fetchAttributionData","dpi","origin","x","lods","resolution","scale","style","culture","region","portalUrl","hasAttributionData","get","_get","set","_set","bingMetadata","copyright","toJSON","brandLogoUri","_this2","addResolvingPromise","_getMetadata","_getPortalBingKey","Promise","reject","resolve","loaded","resourceSets","resources","imageUrlSubdomains","_getQuadKey","imageUrl","replace","mark","_callee","_this3","wrap","_context","prev","next","abrupt","load","contributors","imageryProviders","map","attribution","coverageAreas","zoomMin","zoomMax","score","bbox","stop","_this4","road","aerial","hybrid","concat","include","uriScheme","suppressStatus","output","userRegion","statusCode","statusDescription","catch","message","_this5","authMode","f","bingKey","_a","_e","_s","toString","json","read","write","String","apiValues","nonNullable","source","reader","b"],"mappings":"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","file":"120-b92c1ed6160f4377dedd.js","sourcesContent":["import _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../request.js\";\nimport r from \"../core/Error.js\";\nimport { property as o } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/Logger.js\";\nimport { subclass as s } from \"../core/accessorSupport/decorators/subclass.js\";\nimport i from \"../geometry/Extent.js\";\nimport l from \"../geometry/SpatialReference.js\";\nimport { create as p } from \"../geometry/support/aaBoundingRect.js\";\nimport a from \"./Layer.js\";\nimport { BlendLayer as n } from \"./mixins/BlendLayer.js\";\nimport { RefreshableLayer as m } from \"./mixins/RefreshableLayer.js\";\nimport { ScaleRangeLayer as c } from \"./mixins/ScaleRangeLayer.js\";\nimport f from \"./support/TileInfo.js\";\nvar u = {\n  id: \"0/0/0\",\n  level: 0,\n  row: 0,\n  col: 0,\n  extent: null\n};\n\nvar y = /*#__PURE__*/function (_n) {\n  _inherits(y, _n);\n\n  var _super = _createSuper(y);\n\n  function y() {\n    var _this;\n\n    _classCallCheck(this, y);\n\n    _this = _super.apply(this, arguments), _this.tileInfo = f.create({\n      spatialReference: l.WebMercator,\n      size: 256\n    }), _this.type = \"base-tile\", _this.fullExtent = new i(-20037508.342787, -20037508.34278, 20037508.34278, 20037508.342787, l.WebMercator), _this.spatialReference = l.WebMercator;\n    return _this;\n  }\n\n  _createClass(y, [{\n    key: \"getTileBounds\",\n    value: function getTileBounds(e, t, r, o) {\n      var s = o || p();\n      return u.level = e, u.row = t, u.col = r, u.extent = s, this.tileInfo.updateTileInfo(u), u.extent = null, s;\n    }\n  }, {\n    key: \"fetchTile\",\n    value: function fetchTile(e, r, o) {\n      var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var i = s.signal,\n          l = s.timestamp,\n          p = this.getTileUrl(e, r, o),\n          a = {\n        responseType: \"image\",\n        signal: i\n      };\n      return null != l && (a.query = {\n        _ts: s.timestamp\n      }), t(p, a).then(function (e) {\n        return e.data;\n      });\n    }\n  }, {\n    key: \"getTileUrl\",\n    value: function getTileUrl() {\n      throw new r(\"basetilelayer:gettileurl-not-implemented\", \"getTileUrl() is not implemented\");\n    }\n  }]);\n\n  return y;\n}(n(c(m(a))));\n\ne([o({\n  type: f\n})], y.prototype, \"tileInfo\", void 0), e([o({\n  type: [\"show\", \"hide\"]\n})], y.prototype, \"listMode\", void 0), e([o({\n  readOnly: !0,\n  value: \"base-tile\"\n})], y.prototype, \"type\", void 0), e([o()], y.prototype, \"fullExtent\", void 0), e([o()], y.prototype, \"spatialReference\", void 0), y = e([s(\"esri.layers.BaseTileLayer\")], y);\nvar d = y;\nexport default d;","import _asyncToGenerator from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _regeneratorRuntime from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../chunks/tslib.es6.js\";\nimport t from \"../request.js\";\nimport r from \"../core/Error.js\";\nimport { JSONMap as o } from \"../core/jsonMap.js\";\nimport { isSome as a, isNone as s } from \"../core/maybe.js\";\nimport { MultiOriginJSONMixin as i } from \"../core/MultiOriginJSONSupport.js\";\nimport { property as l } from \"../core/accessorSupport/decorators/property.js\";\nimport \"../core/has.js\";\nimport \"../core/accessorSupport/ensureType.js\";\nimport \"../core/Logger.js\";\nimport { subclass as n } from \"../core/accessorSupport/decorators/subclass.js\";\nimport p from \"../geometry/SpatialReference.js\";\nimport u from \"./BaseTileLayer.js\";\nimport { BlendLayer as g } from \"./mixins/BlendLayer.js\";\nimport { OperationalLayer as d } from \"./mixins/OperationalLayer.js\";\nimport c from \"./support/TileInfo.js\";\nvar y = new o({\n  BingMapsAerial: \"aerial\",\n  BingMapsRoad: \"road\",\n  BingMapsHybrid: \"hybrid\"\n}),\n    h = \"https://dev.virtualearth.net\";\n\nvar m = /*#__PURE__*/function (_g) {\n  _inherits(m, _g);\n\n  var _super = _createSuper(m);\n\n  function m(e) {\n    var _this;\n\n    _classCallCheck(this, m);\n\n    _this = _super.call(this, e), _this.type = \"bing-maps\", _this.tileInfo = new c({\n      size: [256, 256],\n      dpi: 96,\n      origin: {\n        x: -20037508.342787,\n        y: 20037508.342787,\n        spatialReference: p.WebMercator\n      },\n      spatialReference: p.WebMercator,\n      lods: [{\n        level: 1,\n        resolution: 78271.5169639999,\n        scale: 295828763.795777\n      }, {\n        level: 2,\n        resolution: 39135.7584820001,\n        scale: 147914381.897889\n      }, {\n        level: 3,\n        resolution: 19567.8792409999,\n        scale: 73957190.948944\n      }, {\n        level: 4,\n        resolution: 9783.93962049996,\n        scale: 36978595.474472\n      }, {\n        level: 5,\n        resolution: 4891.96981024998,\n        scale: 18489297.737236\n      }, {\n        level: 6,\n        resolution: 2445.98490512499,\n        scale: 9244648.868618\n      }, {\n        level: 7,\n        resolution: 1222.99245256249,\n        scale: 4622324.434309\n      }, {\n        level: 8,\n        resolution: 611.49622628138,\n        scale: 2311162.217155\n      }, {\n        level: 9,\n        resolution: 305.748113140558,\n        scale: 1155581.108577\n      }, {\n        level: 10,\n        resolution: 152.874056570411,\n        scale: 577790.554289\n      }, {\n        level: 11,\n        resolution: 76.4370282850732,\n        scale: 288895.277144\n      }, {\n        level: 12,\n        resolution: 38.2185141425366,\n        scale: 144447.638572\n      }, {\n        level: 13,\n        resolution: 19.1092570712683,\n        scale: 72223.819286\n      }, {\n        level: 14,\n        resolution: 9.55462853563415,\n        scale: 36111.909643\n      }, {\n        level: 15,\n        resolution: 4.77731426794937,\n        scale: 18055.954822\n      }, {\n        level: 16,\n        resolution: 2.38865713397468,\n        scale: 9027.977411\n      }, {\n        level: 17,\n        resolution: 1.19432856685505,\n        scale: 4513.988705\n      }, {\n        level: 18,\n        resolution: .597164283559817,\n        scale: 2256.994353\n      }, {\n        level: 19,\n        resolution: .298582141647617,\n        scale: 1128.497176\n      }, {\n        level: 20,\n        resolution: .1492910708238085,\n        scale: 564.248588\n      }]\n    }), _this.key = null, _this.style = \"road\", _this.culture = \"en-US\", _this.region = null, _this.portalUrl = null, _this.hasAttributionData = !0;\n    return _this;\n  }\n\n  _createClass(m, [{\n    key: \"bingMetadata\",\n    get: function get() {\n      return this._get(\"bingMetadata\");\n    },\n    set: function set(e) {\n      this._set(\"bingMetadata\", e);\n    }\n  }, {\n    key: \"copyright\",\n    get: function get() {\n      return a(this.bingMetadata) ? this.bingMetadata.copyright : null;\n    }\n  }, {\n    key: \"operationalLayerType\",\n    get: function get() {\n      return y.toJSON(this.style);\n    }\n  }, {\n    key: \"bingLogo\",\n    get: function get() {\n      return a(this.bingMetadata) ? this.bingMetadata.brandLogoUri : null;\n    }\n  }, {\n    key: \"load\",\n    value: function load(e) {\n      var _this2 = this;\n\n      return this.key ? this.addResolvingPromise(this._getMetadata()) : this.portalUrl ? this.addResolvingPromise(this._getPortalBingKey().then(function () {\n        return _this2._getMetadata();\n      })) : this.addResolvingPromise(Promise.reject(new r(\"bingmapslayer:load\", \"Bing layer must have bing key.\"))), Promise.resolve(this);\n    }\n  }, {\n    key: \"getTileUrl\",\n    value: function getTileUrl(e, t, r) {\n      if (!this.loaded || s(this.bingMetadata)) return null;\n\n      var o = this.bingMetadata.resourceSets[0].resources[0],\n          a = o.imageUrlSubdomains[t % o.imageUrlSubdomains.length],\n          i = this._getQuadKey(e, t, r);\n\n      return o.imageUrl.replace(\"{subdomain}\", a).replace(\"{quadkey}\", i);\n    }\n  }, {\n    key: \"fetchAttributionData\",\n    value: function () {\n      var _fetchAttributionData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this3 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this.load().then(function () {\n                  if (s(_this3.bingMetadata)) return null;\n                  return {\n                    contributors: _this3.bingMetadata.resourceSets[0].resources[0].imageryProviders.map(function (e) {\n                      return {\n                        attribution: e.attribution,\n                        coverageAreas: e.coverageAreas.map(function (e) {\n                          return {\n                            zoomMin: e.zoomMin,\n                            zoomMax: e.zoomMax,\n                            score: 1,\n                            bbox: [e.bbox[0], e.bbox[1], e.bbox[2], e.bbox[3]]\n                          };\n                        })\n                      };\n                    })\n                  };\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function fetchAttributionData() {\n        return _fetchAttributionData.apply(this, arguments);\n      }\n\n      return fetchAttributionData;\n    }()\n  }, {\n    key: \"_getMetadata\",\n    value: function _getMetadata() {\n      var _this4 = this;\n\n      var e = {\n        road: \"roadOnDemand\",\n        aerial: \"aerial\",\n        hybrid: \"aerialWithLabelsOnDemand\"\n      }[this.style];\n      return t(\"\".concat(h, \"/REST/v1/Imagery/Metadata/\").concat(e), {\n        responseType: \"json\",\n        query: {\n          include: \"ImageryProviders\",\n          uriScheme: \"https\",\n          key: this.key,\n          suppressStatus: !0,\n          output: \"json\",\n          culture: this.culture,\n          userRegion: this.region\n        }\n      }).then(function (e) {\n        var t = e.data;\n        if (200 !== t.statusCode) throw new r(\"bingmapslayer:getmetadata\", t.statusDescription);\n        if (_this4.bingMetadata = t, 0 === _this4.bingMetadata.resourceSets.length) throw new r(\"bingmapslayer:getmetadata\", \"no bing resourcesets\");\n        if (0 === _this4.bingMetadata.resourceSets[0].resources.length) throw new r(\"bingmapslayer:getmetadata\", \"no bing resources\");\n      }).catch(function (e) {\n        throw new r(\"bingmapslayer:getmetadata\", e.message);\n      });\n    }\n  }, {\n    key: \"_getPortalBingKey\",\n    value: function _getPortalBingKey() {\n      var _this5 = this;\n\n      return t(this.portalUrl, {\n        responseType: \"json\",\n        authMode: \"no-prompt\",\n        query: {\n          f: \"json\"\n        }\n      }).then(function (e) {\n        if (!e.data.bingKey) throw new r(\"bingmapslayer:getportalbingkey\", \"The referenced Portal does not contain a valid bing key\");\n        _this5.key = e.data.bingKey;\n      }).catch(function (e) {\n        throw new r(\"bingmapslayer:getportalbingkey\", e.message);\n      });\n    }\n  }, {\n    key: \"_getQuadKey\",\n    value: function _getQuadKey(e, t, r) {\n      var o = \"\";\n\n      for (var _a = e; _a > 0; _a--) {\n        var _e = 0;\n\n        var _s = 1 << _a - 1;\n\n        0 != (r & _s) && (_e += 1), 0 != (t & _s) && (_e += 2), o += _e.toString();\n      }\n\n      return o;\n    }\n  }]);\n\n  return m;\n}(g(d(i(u))));\n\ne([l({\n  json: {\n    read: !1,\n    write: !1\n  },\n  value: null\n})], m.prototype, \"bingMetadata\", null), e([l({\n  json: {\n    read: !1,\n    write: !1\n  },\n  value: \"bing-maps\",\n  readOnly: !0\n})], m.prototype, \"type\", void 0), e([l({\n  type: c\n})], m.prototype, \"tileInfo\", void 0), e([l({\n  type: String,\n  readOnly: !0,\n  json: {\n    read: !1,\n    write: !1\n  }\n})], m.prototype, \"copyright\", null), e([l({\n  type: String,\n  json: {\n    write: !1,\n    read: !1\n  }\n})], m.prototype, \"key\", void 0), e([l({\n  type: y.apiValues,\n  nonNullable: !0,\n  json: {\n    read: {\n      source: \"layerType\",\n      reader: y.read\n    }\n  }\n})], m.prototype, \"style\", void 0), e([l({\n  type: [\"BingMapsAerial\", \"BingMapsHybrid\", \"BingMapsRoad\"]\n})], m.prototype, \"operationalLayerType\", null), e([l({\n  type: String,\n  json: {\n    write: !1,\n    read: !1\n  }\n})], m.prototype, \"culture\", void 0), e([l({\n  type: String,\n  json: {\n    write: !1,\n    read: !1\n  }\n})], m.prototype, \"region\", void 0), e([l({\n  type: String,\n  json: {\n    write: !0,\n    read: !0\n  }\n})], m.prototype, \"portalUrl\", void 0), e([l({\n  type: Boolean,\n  json: {\n    write: !1,\n    read: !1\n  }\n})], m.prototype, \"hasAttributionData\", void 0), e([l({\n  type: String,\n  readOnly: !0\n})], m.prototype, \"bingLogo\", null), m = e([n(\"esri.layers.BingMapsLayer\")], m);\nvar b = m;\nexport default b;"],"sourceRoot":""}
{"version":3,"sources":["webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/views/2d/engine/webgl/effects/post-processing/Colorize.js"],"names":["r","this","_size","_programDesc","vsPath","fsPath","attributes","Map","key","value","_layerFBOTexture","dispose","e","t","_r","s","width","i","height","_createOrResizeResources","o","context","n","painter","materialManager","l","c","_quad","u","colorMatrix","bind","p","bindFramebuffer","copyToTexture","setBlendingEnabled","setStencilTestEnabled","h","getProgram","useProgram","bindTexture","setUniformMatrix4fv","setUniform1i","draw","setBlendFunction","unbind","_r2","resize","target","pixelFormat","internalFormat","dataType","wrapMode","samplingMode","flipped"],"mappings":"6FAAA,8KAiBIA,EAAiB,WACnB,SAASA,IACP,YAAgBC,KAAMD,GAEtBC,KAAKC,MAAQ,CAAC,EAAG,GAAID,KAAKE,aAAe,CACvCC,OAAQ,qBACRC,OAAQ,+BACRC,WAAY,IAAIC,IAAI,CAAC,CAAC,aAAc,MA+CxC,OA3CA,YAAaP,EAAG,CAAC,CACfQ,IAAK,UACLC,MAAO,WACLR,KAAKS,mBAAqBT,KAAKS,iBAAiBC,UAAWV,KAAKS,iBAAmB,QAEpF,CACDF,IAAK,OACLC,MAAO,SAAcG,EAAGC,EAAGC,GACzB,IAAIC,EAAIF,EAAEG,MACNC,EAAIJ,EAAEK,OAEVjB,KAAKkB,yBAAyBP,EAAGG,EAAGE,GAEpC,IAAIG,EAAIR,EAAES,QAENC,EADIV,EAAEW,QACAC,gBACNC,EAAIxB,KAAKE,aACTuB,EAAIzB,KAAK0B,MACTC,EAAId,EAAGe,YACXH,EAAEI,OACF,IAAIC,EAAI9B,KAAKS,iBACbU,EAAEY,gBAAgBnB,GAAIA,EAAEoB,cAAc,EAAG,EAAGlB,EAAGE,EAAG,EAAG,EAAGc,GAAIX,EAAEc,oBAAmB,GAAKd,EAAEe,uBAAsB,GAC9G,IAAIC,EAAId,EAAEe,WAAWzB,EAAGa,GACxBL,EAAEkB,WAAWF,GAAIhB,EAAEmB,YAAYR,EAAG,GAAIK,EAAEI,oBAAoB,iBAAkBZ,GAAIQ,EAAEK,aAAa,iBAAkB,GAAIf,EAAEgB,OAAQtB,EAAEc,oBAAmB,GAAKd,EAAEuB,iBAAiB,EAAG,KAAMvB,EAAEe,uBAAsB,GAAKT,EAAEkB,WAEvN,CACDpC,IAAK,2BACLC,MAAO,SAAkCoC,EAAK9B,EAAGE,GAC/C,IAAIG,EAAIyB,EAAIxB,QACZpB,KAAKS,kBAAoBT,KAAKC,MAAM,KAAOa,GAAKd,KAAKC,MAAM,KAAOe,IAAMhB,KAAKC,MAAM,GAAKa,EAAGd,KAAKC,MAAM,GAAKe,EAAGhB,KAAKS,iBAAmBT,KAAKS,iBAAiBoC,OAAO/B,EAAGE,GAAKhB,KAAKS,iBAAmB,IAAI,IAAEU,EAAG,CAC1M2B,OAAQ,KACRC,YAAa,KACbC,eAAgB,KAChBC,SAAU,KACVC,SAAU,MACVC,aAAc,KACdC,SAAS,EACTrC,MAAOD,EACPG,OAAQD,IACNhB,KAAK0B,QAAU1B,KAAK0B,MAAQ,IAAI,IAAEP,EAAG,EAAE,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,UAIhEpB,EAtDY","file":"156-c1955ccbc0c8fef12ffb.js","sourcesContent":["import _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport \"../../../../../webgl/BufferObject.js\";\nimport \"../../../../../webgl/FramebufferObject.js\";\nimport \"../../../../../../core/has.js\";\nimport \"../../../../../webgl/enums.js\";\nimport \"../../../../../webgl/RenderingContext.js\";\nimport \"../../../../../../chunks/builtins.js\";\nimport e from \"../../../../../webgl/Texture.js\";\nimport \"../../../../../webgl/VertexArrayObject.js\";\nimport t from \"../../VertexStream.js\";\n\nvar r = /*#__PURE__*/function () {\n  function r() {\n    _classCallCheck(this, r);\n\n    this._size = [0, 0], this._programDesc = {\n      vsPath: \"post-processing/pp\",\n      fsPath: \"post-processing/filterEffect\",\n      attributes: new Map([[\"a_position\", 0]])\n    };\n  }\n\n  _createClass(r, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this._layerFBOTexture && (this._layerFBOTexture.dispose(), this._layerFBOTexture = null);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(e, t, _r) {\n      var s = t.width,\n          i = t.height;\n\n      this._createOrResizeResources(e, s, i);\n\n      var o = e.context,\n          a = e.painter,\n          n = a.materialManager,\n          l = this._programDesc,\n          c = this._quad,\n          u = _r.colorMatrix;\n      c.bind();\n      var p = this._layerFBOTexture;\n      o.bindFramebuffer(t), t.copyToTexture(0, 0, s, i, 0, 0, p), o.setBlendingEnabled(!1), o.setStencilTestEnabled(!1);\n      var h = n.getProgram(e, l);\n      o.useProgram(h), o.bindTexture(p, 2), h.setUniformMatrix4fv(\"u_coefficients\", u), h.setUniform1i(\"u_colorTexture\", 2), c.draw(), o.setBlendingEnabled(!0), o.setBlendFunction(1, 771), o.setStencilTestEnabled(!0), c.unbind();\n    }\n  }, {\n    key: \"_createOrResizeResources\",\n    value: function _createOrResizeResources(_r2, s, i) {\n      var o = _r2.context;\n      this._layerFBOTexture && this._size[0] === s && this._size[1] === i || (this._size[0] = s, this._size[1] = i, this._layerFBOTexture ? this._layerFBOTexture.resize(s, i) : this._layerFBOTexture = new e(o, {\n        target: 3553,\n        pixelFormat: 6408,\n        internalFormat: 6408,\n        dataType: 5121,\n        wrapMode: 33071,\n        samplingMode: 9729,\n        flipped: !1,\n        width: s,\n        height: i\n      }), this._quad || (this._quad = new t(o, [-1, -1, 1, -1, -1, 1, 1, 1])));\n    }\n  }]);\n\n  return r;\n}();\n\nexport { r as Colorize };"],"sourceRoot":""}
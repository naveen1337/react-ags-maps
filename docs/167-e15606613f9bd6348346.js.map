{"version":3,"sources":["webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/views/layers/WMSLayerView.js","webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js"],"names":["_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","_a2","i","_a","_super","key","value","exportImageParameters","layer","destroy","get","commitProperty","_get","t","Promise","reject","o","popupEnabled","s","createFetchPopupFeaturesQuery","resolve","p","extent","a","width","_i","height","m","x","n","y","u","fetchFeatureInfo","readOnly","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","getLogger","_d","_doRefresh","r","view","supportsSpatialReference","spatialReference","addResolvingPromise","strategy","update","catch","error","_this","imageMaxHeight","imageMaxWidth","_bitmapContainer","container","addChild","fetchSource","fetchImage","bind","requestUpdate","imageRotationSupported","imageNormalizationSupported","hidpi","handles","add","watch","remove","removeChild","removeAllChildren","children","some","h","resolution","c","d","l","_u","xmin","ymin","xmax","ymax","Math","round","mark","_callee","wrap","_context","prev","next","stop","updating","updateRequested","target","length","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectSpread","timeExtent","timestamp","refreshTimestamp"],"mappings":"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","file":"167-e15606613f9bd6348346.js","sourcesContent":["import _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../chunks/tslib.es6.js\";\nimport r from \"../../core/Error.js\";\nimport { property as t } from \"../../core/accessorSupport/decorators/property.js\";\nimport \"../../core/has.js\";\nimport \"../../core/accessorSupport/ensureType.js\";\nimport \"../../core/Logger.js\";\nimport { subclass as o } from \"../../core/accessorSupport/decorators/subclass.js\";\nimport { combinedViewLayerTimeExtentProperty as s } from \"../../layers/support/commonProperties.js\";\nimport { ExportWMSImageParameters as p } from \"../../layers/support/ExportWMSImageParameters.js\";\n\nvar a = function a(_a2) {\n  var i = /*#__PURE__*/function (_a) {\n    _inherits(i, _a);\n\n    var _super = _createSuper(i);\n\n    function i() {\n      _classCallCheck(this, i);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(i, [{\n      key: \"initialize\",\n      value: function initialize() {\n        this.exportImageParameters = new p({\n          layer: this.layer\n        });\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.exportImageParameters.destroy(), this.exportImageParameters = null;\n      }\n    }, {\n      key: \"exportImageVersion\",\n      get: function get() {\n        var e;\n        return null == (e = this.exportImageParameters) || e.commitProperty(\"version\"), this.commitProperty(\"timeExtent\"), (this._get(\"exportImageVersion\") || 0) + 1;\n      }\n    }, {\n      key: \"fetchPopupFeatures\",\n      value: function fetchPopupFeatures(e) {\n        var t = this.layer;\n        if (!e) return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\", \"Nothing to fetch without area\", {\n          layer: t\n        }));\n        var o = t.popupEnabled;\n        if (!o) return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\", \"popupEnabled should be true\", {\n          popupEnabled: o\n        }));\n        var s = this.createFetchPopupFeaturesQuery(e);\n        if (!s) return Promise.resolve([]);\n        var p = s.extent,\n            a = s.width,\n            _i = s.height,\n            m = s.x,\n            n = s.y;\n        if (!(p && a && _i)) throw new r(\"wmslayerview:fetchPopupFeatures\", \"WMSLayer does not support fetching features.\", {\n          extent: p,\n          width: a,\n          height: _i\n        });\n        var u = t.fetchFeatureInfo(p, a, _i, m, n);\n        return Promise.resolve(u ? [u] : []);\n      }\n    }]);\n\n    return i;\n  }(_a2);\n\n  return e([t()], i.prototype, \"exportImageParameters\", void 0), e([t({\n    readOnly: !0\n  })], i.prototype, \"exportImageVersion\", null), e([t()], i.prototype, \"layer\", void 0), e([t(s)], i.prototype, \"timeExtent\", void 0), i = e([o(\"esri.layers.mixins.WMSLayerView\")], i), i;\n};\n\nexport default a;\nexport { a as WMSLayerView };","import _defineProperty from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { _ as e } from \"../../../chunks/tslib.es6.js\";\nimport t from \"../../../core/Error.js\";\nimport r from \"../../../core/Logger.js\";\nimport { isAbortError as i } from \"../../../core/promiseUtils.js\";\nimport { property as s } from \"../../../core/accessorSupport/decorators/property.js\";\nimport \"../../../core/has.js\";\nimport \"../../../core/accessorSupport/ensureType.js\";\nimport { subclass as a } from \"../../../core/accessorSupport/decorators/subclass.js\";\nimport o from \"../../../geometry/Extent.js\";\nimport { BitmapContainer as n } from \"../engine/BitmapContainer.js\";\nimport { LayerView2DMixin as p } from \"./LayerView2D.js\";\nimport m from \"./support/ExportStrategy.js\";\nimport h from \"../../layers/LayerView.js\";\nimport { RefreshableLayerView as c } from \"../../layers/RefreshableLayerView.js\";\nimport { WMSLayerView as d } from \"../../layers/WMSLayerView.js\";\nvar l = r.getLogger(\"esri.views.2d.layers.WMSLayerView2D\");\n\nvar u = /*#__PURE__*/function (_d) {\n  _inherits(u, _d);\n\n  var _super = _createSuper(u);\n\n  function u() {\n    _classCallCheck(this, u);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(u, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var e = this.layer,\n          r = this.view;\n      e.supportsSpatialReference(r.spatialReference) || this.addResolvingPromise(Promise.reject(new t(\"layerview:spatial-reference-incompatible\", \"The spatial references supported by this WMS layer are incompatible with the spatial reference of the view\", {\n        layer: e\n      })));\n    }\n  }, {\n    key: \"hitTest\",\n    value: function hitTest() {\n      return null;\n    }\n  }, {\n    key: \"update\",\n    value: function update(e) {\n      this.strategy.update(e).catch(function (e) {\n        i(e) || l.error(e);\n      });\n    }\n  }, {\n    key: \"attach\",\n    value: function attach() {\n      var _this = this;\n\n      var e = this.layer,\n          t = e.imageMaxHeight,\n          r = e.imageMaxWidth;\n      this._bitmapContainer = new n(), this.container.addChild(this._bitmapContainer), this.strategy = new m({\n        container: this._bitmapContainer,\n        fetchSource: this.fetchImage.bind(this),\n        requestUpdate: this.requestUpdate.bind(this),\n        imageMaxHeight: t,\n        imageMaxWidth: r,\n        imageRotationSupported: !1,\n        imageNormalizationSupported: !1,\n        hidpi: !1\n      }), this.handles.add(this.watch(\"exportImageVersion\", function () {\n        return _this.requestUpdate();\n      }), \"exportImageVersion\");\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      this.handles.remove(\"exportImageVersion\"), this.strategy.destroy(), this.container.removeChild(this._bitmapContainer), this._bitmapContainer.removeAllChildren();\n    }\n  }, {\n    key: \"moveStart\",\n    value: function moveStart() {}\n  }, {\n    key: \"viewChange\",\n    value: function viewChange() {}\n  }, {\n    key: \"moveEnd\",\n    value: function moveEnd() {\n      this.requestUpdate();\n    }\n  }, {\n    key: \"createFetchPopupFeaturesQuery\",\n    value: function createFetchPopupFeaturesQuery(e) {\n      var t = this.view,\n          r = this._bitmapContainer,\n          i = e.x,\n          s = e.y,\n          a = t.spatialReference;\n      var n = null,\n          p = 0,\n          m = 0;\n      if (r.children.some(function (e) {\n        var t = e.width,\n            r = e.height,\n            h = e.resolution,\n            c = e.x,\n            d = e.y,\n            l = c + h * t,\n            _u = d - h * r;\n\n        return i >= c && i <= l && s <= d && s >= _u && (n = new o({\n          xmin: c,\n          ymin: _u,\n          xmax: l,\n          ymax: d,\n          spatialReference: a\n        }), p = t, m = r, !0);\n      }), !n) return null;\n      var h = n.width / p,\n          c = Math.round((i - n.xmin) / h),\n          d = Math.round((n.ymax - s) / h);\n      return {\n        extent: n,\n        width: p,\n        height: m,\n        x: c,\n        y: d\n      };\n    }\n  }, {\n    key: \"doRefresh\",\n    value: function () {\n      var _doRefresh = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.requestUpdate();\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function doRefresh() {\n        return _doRefresh.apply(this, arguments);\n      }\n\n      return doRefresh;\n    }()\n  }, {\n    key: \"isUpdating\",\n    value: function isUpdating() {\n      return this.strategy.updating || this.updateRequested;\n    }\n  }, {\n    key: \"fetchImage\",\n    value: function fetchImage(e, t, r, i) {\n      return this.layer.fetchImage(e, t, r, _objectSpread({\n        timeExtent: this.timeExtent,\n        timestamp: this.refreshTimestamp\n      }, i));\n    }\n  }]);\n\n  return u;\n}(d(c(p(h))));\n\ne([s()], u.prototype, \"strategy\", void 0), e([s()], u.prototype, \"updating\", void 0), u = e([a(\"esri.views.2d.layers.WMSLayerView2D\")], u);\nvar y = u;\nexport default y;"],"sourceRoot":""}
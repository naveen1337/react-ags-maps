{"version":3,"sources":["webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/geometry/support/meshUtils/ElevationSamplerWorker.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e2","f","TypeError","err","normalCompletion","didErr","step","next","_e3","return","arr","len","arr2","this","_createIndex","key","mark","_callee","_o","a","wrap","_context","prev","vertexAttributes","position","abrupt","createMeshData","invoke","transferList","t0","sent","createIndexThread","result","createPooledRBush","fromJSON","stop","_x","_x2","apply","arguments","t","Float64Array","r","components","createIndexComponentsThread","map","Uint32Array","createIndexAllThread","_o4","load","toJSON","_step","_iterator","_step2","_o3","_iterator2","_e","transform","normal","tangent","spatialReference","buffer","some","faces","minX","Math","min","maxX","max","minY","maxY","p0","p1","p2"],"mappings":"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","file":"117-058ffc5e57475efa056f.js","sourcesContent":["import _asyncToGenerator from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport _regeneratorRuntime from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/regenerator\";\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../../core/has.js\";\nimport { isSome as t } from \"../../../core/maybe.js\";\nimport { PooledRBush as r } from \"../../../core/libs/rbush/PooledRBush.js\";\nimport { georeferenceApplyTransform as n } from \"./georeference.js\";\n\nvar o = /*#__PURE__*/function () {\n  function o() {\n    _classCallCheck(this, o);\n  }\n\n  _createClass(o, [{\n    key: \"createIndex\",\n    value: function () {\n      var _createIndex = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e, n) {\n        var _o, s, a;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _o = new Array();\n\n                if (!(!e.vertexAttributes || !e.vertexAttributes.position)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", new r());\n\n              case 3:\n                s = this.createMeshData(e);\n\n                if (!t(n)) {\n                  _context.next = 10;\n                  break;\n                }\n\n                _context.next = 7;\n                return n.invoke(\"createIndexThread\", s, {\n                  transferList: _o\n                });\n\n              case 7:\n                _context.t0 = _context.sent;\n                _context.next = 11;\n                break;\n\n              case 10:\n                _context.t0 = this.createIndexThread(s).result;\n\n              case 11:\n                a = _context.t0;\n                return _context.abrupt(\"return\", this.createPooledRBush().fromJSON(a));\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function createIndex(_x, _x2) {\n        return _createIndex.apply(this, arguments);\n      }\n\n      return createIndex;\n    }()\n  }, {\n    key: \"createIndexThread\",\n    value: function createIndexThread(e) {\n      var t = new Float64Array(e.position),\n          r = this.createPooledRBush();\n      return e.components ? this.createIndexComponentsThread(r, t, e.components.map(function (e) {\n        return new Uint32Array(e);\n      })) : this.createIndexAllThread(r, t);\n    }\n  }, {\n    key: \"createIndexAllThread\",\n    value: function createIndexAllThread(e, t) {\n      var r = new Array(t.length / 9);\n      var n = 0;\n\n      for (var _o4 = 0; _o4 < t.length; _o4 += 9) {\n        r[n++] = s(t, _o4 + 0, _o4 + 3, _o4 + 6);\n      }\n\n      return e.load(r), {\n        result: e.toJSON()\n      };\n    }\n  }, {\n    key: \"createIndexComponentsThread\",\n    value: function createIndexComponentsThread(e, t, r) {\n      var n = 0;\n\n      var _iterator = _createForOfIteratorHelper(r),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _s = _step.value;\n          n += _s.length / 3;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _o3 = new Array(n);\n\n      var a = 0;\n\n      var _iterator2 = _createForOfIteratorHelper(r),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var i = _step2.value;\n\n          for (var _e = 0; _e < i.length; _e += 3) {\n            _o3[a++] = s(t, 3 * i[_e + 0], 3 * i[_e + 1], 3 * i[_e + 2]);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return e.load(_o3), {\n        result: e.toJSON()\n      };\n    }\n  }, {\n    key: \"createMeshData\",\n    value: function createMeshData(e) {\n      var t = (e.transform ? n({\n        position: e.vertexAttributes.position,\n        normal: null,\n        tangent: null\n      }, e.transform, e.spatialReference).position : e.vertexAttributes.position).buffer;\n      return !e.components || e.components.some(function (e) {\n        return !e.faces;\n      }) ? {\n        position: t\n      } : {\n        position: t,\n        components: e.components.map(function (e) {\n          return e.faces;\n        })\n      };\n    }\n  }, {\n    key: \"createPooledRBush\",\n    value: function createPooledRBush() {\n      return new r(9, e(\"csp-restrictions\") ? function (e) {\n        return e;\n      } : [\".minX\", \".minY\", \".maxX\", \".maxY\"]);\n    }\n  }]);\n\n  return o;\n}();\n\nfunction s(e, t, r, n) {\n  return {\n    minX: Math.min(e[t + 0], e[r + 0], e[n + 0]),\n    maxX: Math.max(e[t + 0], e[r + 0], e[n + 0]),\n    minY: Math.min(e[t + 1], e[r + 1], e[n + 1]),\n    maxY: Math.max(e[t + 1], e[r + 1], e[n + 1]),\n    p0: [e[t + 0], e[t + 1], e[t + 2]],\n    p1: [e[r + 0], e[r + 1], e[r + 2]],\n    p2: [e[n + 0], e[n + 1], e[n + 2]]\n  };\n}\n\nexport default o;\nexport { o as ElevationSamplerWorker };"],"sourceRoot":""}
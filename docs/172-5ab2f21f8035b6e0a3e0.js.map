{"version":3,"sources":["webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/chunks/quatf32.js","webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js","webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js","webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js","webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/views/3d/layers/PointCloudWorker.js"],"names":["r","Float32Array","Object","freeze","__proto__","create","clone","n","fromValues","e","t","a","createView","identifier","String","fromCharCode","apply","Uint8Array","version","getUint16","checksum","getUint32","c","DataView","d","_r","l","o","u","sizeLo","sizeHi","minX","getFloat64","minY","minZ","maxX","maxY","maxZ","errorX","errorY","errorZ","count","reserved","Math","pow","byteLength","f","Float64Array","h","w","g","p","m","U","_e","length","_t","_o","_e2","min","result","_i","_e3","push","i","getUint8","s","ceil","_e4","_r2","colorMapCount","lookupMethod","compressionMethod","_o2","_r3","_n","_e5","_t2","slice","_o3","_r4","_c","_s","_e6","_r5","scaleFactor","bitsPerPoint","Uint16Array","_o4","_e7","_o5","_e8","_o6","_e9","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createForOfIteratorHelper","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","prototype","toString","call","constructor","name","from","test","_unsupportedIterableToArray","F","done","value","TypeError","err","normalCompletion","didErr","step","next","return","arr","len","arr2","getLogger","_u","_a","_a2","_a3","byteOffset","byteCount","fields","_u2","valueType","type","_a4","I","property","BYTES_PER_ELEMENT","valuesPerElement","error","concat","expectedSize","actualSize","position","normal","color","uv0","region","C","encoding","attributeByteCounts","warn","ordering","hasOwnProperty","header","entries","_a5","A","attributeValues","objectIds","Float32","Float64","UInt8","Int8","Int8Array","UInt16","Int16","Int16Array","UInt32","Uint32Array","Int32","Int32Array","getFloat32","getInt8","getInt16","getInt32","_e11","_e12","_t5","_step","isDraco","vertexAttributes","vertexCount","_iterator","_a6","_n4","faceCount","faces","_step2","_iterator2","_n2","featureCount","featureAttributes","featureAttributeOrder","_step3","_iterator3","_n3","_n5","_f","offsetX","offsetY","offsetZ","scaleX","scaleY","scaleZ","attributeInfo","useElevation","_t6","storageInfo","buffer","abs","this","_transform","points","rgb","pointIdFilterMap","attributes","values","Promise","resolve","transferList","schema","geometryBuffer","primaryAttributeData","modulationAttributeData","_p","rendererJSON","isRGBRenderer","fromJSON","colorUniqueValueInfos","fieldTransformType","indexOf","b","stops","_l","colorClassBreakInfos","_t3","minValue","maxValue","colorModulation","_t4","rendererInfo","filterInfo","filterAttributesData","map","_s2","_l2","filterJSON","_r6","mode","requiredSetBits","_t7","requiredClearBits","_e10","_t8","_n6","_i2","_s3","_f2","includedReturns","_r7","userAttributesData","_applyElevationOffsetInPlace","elevationOffset","_transformCoordinates","obb","inSR","outSR","Error","center","quaternion","_p2","halfSize","max"],"mappings":"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","file":"172-5ab2f21f8035b6e0a3e0.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction r() {\n  var r = new Float32Array(4);\n  return r[3] = 1, r;\n}\n\nfunction n(r) {\n  var n = new Float32Array(4);\n  return n[0] = r[0], n[1] = r[1], n[2] = r[2], n[3] = r[3], n;\n}\n\nfunction e(r, n, e, t) {\n  var a = new Float32Array(4);\n  return a[0] = r, a[1] = n, a[2] = e, a[3] = t, a;\n}\n\nfunction t(r, n) {\n  return new Float32Array(r, n, 4);\n}\n\nvar a = Object.freeze({\n  __proto__: null,\n  create: r,\n  clone: n,\n  fromValues: e,\n  createView: t\n});\nexport { n as a, r as b, t as c, e as f, a as q };","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Error.js\";\nvar t = !0,\n    o = {\n  identifierOffset: 0,\n  identifierLength: 10,\n  versionOffset: 10,\n  checksumOffset: 12,\n  byteCount: 16\n};\n\nfunction r(e, r, n) {\n  return {\n    identifier: String.fromCharCode.apply(null, new Uint8Array(e, n + o.identifierOffset, o.identifierLength)),\n    version: r.getUint16(n + o.versionOffset, t),\n    checksum: r.getUint32(n + o.checksumOffset, t)\n  };\n}\n\nvar n = {\n  sizeLo: 0,\n  sizeHi: 4,\n  minX: 8,\n  minY: 16,\n  minZ: 24,\n  maxX: 32,\n  maxY: 40,\n  maxZ: 48,\n  errorX: 56,\n  errorY: 64,\n  errorZ: 72,\n  count: 80,\n  reserved: 84,\n  byteCount: 88\n};\n\nfunction i(e, o) {\n  return {\n    sizeLo: e.getUint32(o + n.sizeLo, t),\n    sizeHi: e.getUint32(o + n.sizeHi, t),\n    minX: e.getFloat64(o + n.minX, t),\n    minY: e.getFloat64(o + n.minY, t),\n    minZ: e.getFloat64(o + n.minZ, t),\n    maxX: e.getFloat64(o + n.maxX, t),\n    maxY: e.getFloat64(o + n.maxY, t),\n    maxZ: e.getFloat64(o + n.maxZ, t),\n    errorX: e.getFloat64(o + n.errorX, t),\n    errorY: e.getFloat64(o + n.errorY, t),\n    errorZ: e.getFloat64(o + n.errorZ, t),\n    count: e.getUint32(o + n.count, t),\n    reserved: e.getUint32(o + n.reserved, t)\n  };\n}\n\nfunction c(t) {\n  var c = new DataView(t, 0);\n  var d = 0;\n\n  var _r = r(t, c, d),\n      l = _r.identifier,\n      a = _r.version;\n\n  if (d += o.byteCount, \"LEPCC     \" !== l) throw new e(\"lepcc-decode-error\", \"Bad identifier\");\n  if (a > 1) throw new e(\"lepcc-decode-error\", \"Unknown version\");\n  var u = i(c, d);\n  d += n.byteCount;\n  if (u.sizeHi * Math.pow(2, 32) + u.sizeLo !== t.byteLength) throw new e(\"lepcc-decode-error\", \"Bad size\");\n  var f = new Float64Array(3 * u.count),\n      h = [],\n      w = [],\n      g = [],\n      p = [];\n  if (d = s(t, d, h), d = s(t, d, w), d = s(t, d, g), d = s(t, d, p), d !== t.byteLength) throw new e(\"lepcc-decode-error\", \"Bad length\");\n  var m = 0,\n      U = 0;\n\n  for (var _e = 0; _e < h.length; _e++) {\n    U += h[_e];\n    var _t = 0;\n\n    for (var _o = 0; _o < w[_e]; _o++) {\n      _t += g[m];\n      var _e2 = p[m];\n      f[3 * m] = Math.min(u.maxX, u.minX + 2 * u.errorX * _t), f[3 * m + 1] = Math.min(u.maxY, u.minY + 2 * u.errorY * U), f[3 * m + 2] = Math.min(u.maxZ, u.minZ + 2 * u.errorZ * _e2), m++;\n    }\n  }\n\n  return {\n    errorX: u.errorX,\n    errorY: u.errorY,\n    errorZ: u.errorZ,\n    result: f\n  };\n}\n\nfunction s(e, t, o) {\n  var r = [];\n  t = d(e, t, r);\n  var n = [];\n\n  for (var _i = 0; _i < r.length; _i++) {\n    n.length = 0, t = d(e, t, n);\n\n    for (var _e3 = 0; _e3 < n.length; _e3++) {\n      o.push(n[_e3] + r[_i]);\n    }\n  }\n\n  return t;\n}\n\nfunction d(o, r, n) {\n  var i = new DataView(o, r),\n      c = i.getUint8(0),\n      s = 31 & c,\n      d = !!(32 & c),\n      l = (192 & c) >> 6;\n  var a = 0;\n  if (0 === l) a = i.getUint32(1, t), r += 5;else if (1 === l) a = i.getUint16(1, t), r += 3;else {\n    if (2 !== l) throw new e(\"lepcc-decode-error\", \"Bad count type\");\n    a = i.getUint8(1), r += 2;\n  }\n  if (d) throw new e(\"lepcc-decode-error\", \"LUT not implemented\");\n  var u = Math.ceil(a * s / 8),\n      f = new Uint8Array(o, r, u);\n  var h = 0,\n      w = 0,\n      g = 0;\n  var p = -1 >>> 32 - s;\n\n  for (var _e4 = 0; _e4 < a; _e4++) {\n    for (; w < s;) {\n      h |= f[g] << w, w += 8, g += 1;\n    }\n\n    n[_e4] = h & p, h >>>= s, w -= s, w + s > 32 && (h |= f[g - 1] >> 8 - w);\n  }\n\n  return r + g;\n}\n\nvar l = {\n  sizeLo: 0,\n  sizeHi: 4,\n  count: 8,\n  colorMapCount: 12,\n  lookupMethod: 14,\n  compressionMethod: 15,\n  byteCount: 16\n};\n\nfunction a(e, o) {\n  return {\n    sizeLo: e.getUint32(o + l.sizeLo, t),\n    sizeHi: e.getUint32(o + l.sizeHi, t),\n    count: e.getUint32(o + l.count, t),\n    colorMapCount: e.getUint16(o + l.colorMapCount, t),\n    lookupMethod: e.getUint8(o + l.lookupMethod),\n    compressionMethod: e.getUint8(o + l.compressionMethod)\n  };\n}\n\nfunction u(t) {\n  var n = new DataView(t, 0);\n  var i = 0;\n\n  var _r2 = r(t, n, i),\n      c = _r2.identifier,\n      s = _r2.version;\n\n  if (i += o.byteCount, \"ClusterRGB\" !== c) throw new e(\"lepcc-decode-error\", \"Bad identifier\");\n  if (s > 1) throw new e(\"lepcc-decode-error\", \"Unknown version\");\n  var d = a(n, i);\n  i += l.byteCount;\n  if (d.sizeHi * Math.pow(2, 32) + d.sizeLo !== t.byteLength) throw new e(\"lepcc-decode-error\", \"Bad size\");\n\n  if ((2 === d.lookupMethod || 1 === d.lookupMethod) && 0 === d.compressionMethod) {\n    if (3 * d.colorMapCount + d.count + i !== t.byteLength || d.colorMapCount > 256) throw new e(\"lepcc-decode-error\", \"Bad count\");\n\n    var _o2 = new Uint8Array(t, i, 3 * d.colorMapCount),\n        _r3 = new Uint8Array(t, i + 3 * d.colorMapCount, d.count),\n        _n = new Uint8Array(3 * d.count);\n\n    for (var _e5 = 0; _e5 < d.count; _e5++) {\n      var _t2 = _r3[_e5];\n      _n[3 * _e5] = _o2[3 * _t2], _n[3 * _e5 + 1] = _o2[3 * _t2 + 1], _n[3 * _e5 + 2] = _o2[3 * _t2 + 2];\n    }\n\n    return _n;\n  }\n\n  if (0 === d.lookupMethod && 0 === d.compressionMethod) {\n    if (3 * d.count + i !== t.byteLength || 0 !== d.colorMapCount) throw new e(\"lepcc-decode-error\", \"Bad count\");\n    return new Uint8Array(t, i).slice();\n  }\n\n  if (d.lookupMethod <= 2 && 1 === d.compressionMethod) {\n    if (i + 3 !== t.byteLength || 1 !== d.colorMapCount) throw new e(\"lepcc-decode-error\", \"Bad count\");\n\n    var _o3 = n.getUint8(i),\n        _r4 = n.getUint8(i + 1),\n        _c = n.getUint8(i + 2),\n        _s = new Uint8Array(3 * d.count);\n\n    for (var _e6 = 0; _e6 < d.count; _e6++) {\n      _s[3 * _e6] = _o3, _s[3 * _e6 + 1] = _r4, _s[3 * _e6 + 2] = _c;\n    }\n\n    return _s;\n  }\n\n  throw new e(\"lepcc-decode-error\", \"Bad method \" + d.lookupMethod + \",\" + d.compressionMethod);\n}\n\nvar f = {\n  sizeLo: 0,\n  sizeHi: 4,\n  count: 8,\n  scaleFactor: 12,\n  bitsPerPoint: 14,\n  reserved: 15,\n  byteCount: 16\n};\n\nfunction h(e, o) {\n  return {\n    sizeLo: e.getUint32(o + f.sizeLo, t),\n    sizeHi: e.getUint32(o + f.sizeHi, t),\n    count: e.getUint32(o + f.count, t),\n    scaleFactor: e.getUint16(o + f.scaleFactor, t),\n    bitsPerPoint: e.getUint8(o + f.bitsPerPoint),\n    reserved: e.getUint8(o + f.reserved)\n  };\n}\n\nfunction w(t) {\n  var n = new DataView(t, 0);\n  var i = 0;\n\n  var _r5 = r(t, n, i),\n      c = _r5.identifier,\n      s = _r5.version;\n\n  if (i += o.byteCount, \"Intensity \" !== c) throw new e(\"lepcc-decode-error\", \"Bad identifier\");\n  if (s > 1) throw new e(\"lepcc-decode-error\", \"Unknown version\");\n  var l = h(n, i);\n  i += f.byteCount;\n  if (l.sizeHi * Math.pow(2, 32) + l.sizeLo !== t.byteLength) throw new e(\"lepcc-decode-error\", \"Bad size\");\n  var a = new Uint16Array(l.count);\n\n  if (8 === l.bitsPerPoint) {\n    if (l.count + i !== t.byteLength) throw new e(\"lepcc-decode-error\", \"Bad size\");\n\n    var _o4 = new Uint8Array(t, i, l.count);\n\n    for (var _e7 = 0; _e7 < l.count; _e7++) {\n      a[_e7] = _o4[_e7] * l.scaleFactor;\n    }\n  } else if (16 === l.bitsPerPoint) {\n    if (2 * l.count + i !== t.byteLength) throw new e(\"lepcc-decode-error\", \"Bad size\");\n\n    var _o5 = new Uint16Array(t, i, l.count);\n\n    for (var _e8 = 0; _e8 < l.count; _e8++) {\n      a[_e8] = _o5[_e8] * l.scaleFactor;\n    }\n  } else {\n    var _o6 = [];\n    if (d(t, i, _o6) !== t.byteLength) throw new e(\"lepcc-decode-error\", \"Bad size\");\n\n    for (var _e9 = 0; _e9 < l.count; _e9++) {\n      a[_e9] = _o6[_e9] * l.scaleFactor;\n    }\n  }\n\n  return a;\n}\n\nexport { w as decodeIntensity, u as decodeRGB, c as decodeXYZ };","import _defineProperty from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e7) { throw _e7; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e8) { didErr = true; err = _e8; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Error.js\";\nimport { clone as t } from \"../../../../core/lang.js\";\nimport n from \"../../../../core/Logger.js\";\nimport { decodeRGB as r, decodeIntensity as o } from \"./LEPCC.js\";\nvar i = n.getLogger(\"esri.views.3d.layers.i3s.I3SBinaryReader\");\n\nfunction u(t, n, r) {\n  var o = \"\",\n      i = 0;\n\n  for (; i < r;) {\n    var _u = t[n + i];\n    if (_u < 128) o += String.fromCharCode(_u), i++;else if (_u >= 192 && _u < 224) {\n      if (i + 1 >= r) throw new e(\"utf8-decode-error\", \"UTF-8 Decode failed. Two byte character was truncated.\");\n\n      var _a = (31 & _u) << 6 | 63 & t[n + i + 1];\n\n      o += String.fromCharCode(_a), i += 2;\n    } else if (_u >= 224 && _u < 240) {\n      if (i + 2 >= r) throw new e(\"utf8-decode-error\", \"UTF-8 Decode failed. Multi byte character was truncated.\");\n\n      var _a2 = (15 & _u) << 12 | (63 & t[n + i + 1]) << 6 | 63 & t[n + i + 2];\n\n      o += String.fromCharCode(_a2), i += 3;\n    } else {\n      if (!(_u >= 240 && _u < 248)) throw new e(\"utf8-decode-error\", \"UTF-8 Decode failed. Invalid multi byte sequence.\");\n      {\n        if (i + 3 >= r) throw new e(\"utf8-decode-error\", \"UTF-8 Decode failed. Multi byte character was truncated.\");\n\n        var _a3 = (7 & _u) << 18 | (63 & t[n + i + 1]) << 12 | (63 & t[n + i + 2]) << 6 | 63 & t[n + i + 3];\n\n        if (_a3 >= 65536) {\n          var _e = 55296 + (_a3 - 65536 >> 10),\n              _t = 56320 + (1023 & _a3);\n\n          o += String.fromCharCode(_e, _t);\n        } else o += String.fromCharCode(_a3);\n\n        i += 4;\n      }\n    }\n  }\n\n  return o;\n}\n\nfunction a(e, t) {\n  var n = {\n    byteOffset: 0,\n    byteCount: 0,\n    fields: Object.create(null)\n  };\n  var r = 0;\n\n  for (var _o = 0; _o < t.length; _o++) {\n    var _i = t[_o],\n        _u2 = _i.valueType || _i.type,\n        _a4 = I[_u2];\n\n    n.fields[_i.property] = _a4(e, r), r += m[_u2].BYTES_PER_ELEMENT;\n  }\n\n  return n.byteCount = r, n;\n}\n\nfunction s(t, n, r) {\n  var o = [];\n  var i,\n      a,\n      s = 0;\n\n  for (a = 0; a < t; a += 1) {\n    if (i = n[a], i > 0) {\n      if (o.push(u(r, s, i - 1)), 0 !== r[s + i - 1]) throw new e(\"string-array-error\", \"Invalid string array: missing null termination.\");\n    } else o.push(null);\n\n    s += i;\n  }\n\n  return o;\n}\n\nfunction c(e, t) {\n  return new (0, m[t.valueType])(e, t.byteOffset, t.count * t.valuesPerElement);\n}\n\nfunction f(e, t) {\n  return new Uint8Array(e, t.byteOffset, t.byteCount);\n}\n\nfunction l(n, r, o) {\n  var i = null != r.header ? a(n, r.header) : {\n    byteOffset: 0,\n    byteCount: 0,\n    fields: {\n      count: o\n    }\n  },\n      u = {\n    header: i,\n    byteOffset: i.byteCount,\n    byteCount: 0,\n    entries: Object.create(null)\n  };\n  var s = i.byteCount;\n\n  for (var _a5 = 0; _a5 < r.ordering.length; _a5++) {\n    var _n = r.ordering[_a5],\n        _o2 = t(r[_n]);\n\n    if (_o2.count = i.fields.count, \"String\" === _o2.valueType) {\n      if (_o2.byteOffset = s, _o2.byteCount = i.fields[_n + \"ByteCount\"], \"UTF-8\" !== _o2.encoding) throw new e(\"unsupported-encoding\", \"Unsupported String encoding.\", {\n        encoding: _o2.encoding\n      });\n    } else {\n      if (!h(_o2.valueType)) throw new e(\"unsupported-value-type\", \"Unsupported binary valueType\", {\n        valueType: _o2.valueType\n      });\n      {\n        var _e2 = A(_o2.valueType);\n\n        s += s % _e2 != 0 ? _e2 - s % _e2 : 0, _o2.byteOffset = s, _o2.byteCount = _e2 * _o2.valuesPerElement * _o2.count;\n      }\n    }\n\n    s += _o2.byteCount, u.entries[_n] = _o2;\n  }\n\n  return u.byteCount = s - u.byteOffset, u;\n}\n\nfunction b(t, n, r) {\n  if (n !== t && i.error(\"Invalid \".concat(r, \" buffer size\\n expected: \").concat(t, \", actual: \").concat(n, \")\")), n < t) throw new e(\"buffer-too-small\", \"Binary buffer is too small\", {\n    expectedSize: t,\n    actualSize: n\n  });\n}\n\nfunction d(e) {\n  return {\n    isDraco: !1,\n    isLegacy: !1,\n    color: null != e.color,\n    normal: null != e.normal,\n    uv0: null != e.uv0,\n    uvRegion: null != e.uvRegion,\n    featureIndex: null != e.faceRange && null != e.featureId\n  };\n}\n\nfunction y(e, t) {\n  var n = a(e, t && t.header);\n  var r = n.byteCount;\n  var o = {\n    isDraco: !1,\n    header: n,\n    byteOffset: n.byteCount,\n    byteCount: 0,\n    vertexAttributes: {}\n  },\n      i = n.fields,\n      u = null != i.vertexCount ? i.vertexCount : i.count;\n\n  var _iterator = _createForOfIteratorHelper(t.ordering),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _a6 = _step.value;\n      if (!t.vertexAttributes[_a6]) continue;\n\n      var _e5 = _objectSpread(_objectSpread({}, t.vertexAttributes[_a6]), {}, {\n        byteOffset: r,\n        count: u\n      }),\n          _n4 = p[_a6] ? p[_a6] : \"_\" + _a6;\n\n      o.vertexAttributes[_n4] = _e5, r += A(_e5.valueType) * _e5.valuesPerElement * u;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var s = i.faceCount;\n\n  if (t.faces && s) {\n    o.faces = {};\n\n    var _iterator2 = _createForOfIteratorHelper(t.ordering),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _e3 = _step2.value;\n        if (!t.faces[_e3]) continue;\n\n        var _n2 = _objectSpread(_objectSpread({}, t.faces[_e3]), {}, {\n          byteOffset: r,\n          count: s\n        });\n\n        o.faces[_e3] = _n2, r += A(_n2.valueType) * _n2.valuesPerElement * s;\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  var c = i.featureCount;\n\n  if (t.featureAttributes && t.featureAttributeOrder && c) {\n    o.featureAttributes = {};\n\n    var _iterator3 = _createForOfIteratorHelper(t.featureAttributeOrder),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var _e4 = _step3.value;\n        if (!t.featureAttributes[_e4]) continue;\n\n        var _n3 = _objectSpread(_objectSpread({}, t.featureAttributes[_e4]), {}, {\n          byteOffset: r,\n          count: c\n        });\n\n        o.featureAttributes[_e4] = _n3;\n        r += (\"UInt64\" === _n3.valueType ? 8 : A(_n3.valueType)) * _n3.valuesPerElement * c;\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  }\n\n  return b(r, e.byteLength, \"geometry\"), o.byteCount = r - o.byteOffset, o;\n}\n\nfunction g(e, t) {\n  return !(!e || !e.compressedAttributes || \"draco\" !== e.compressedAttributes.encoding) ? v(e.compressedAttributes.attributes) : e ? d(e) : w(t);\n}\n\nfunction w(e) {\n  var t = {\n    isDraco: !1,\n    isLegacy: !0,\n    color: !1,\n    normal: !1,\n    uv0: !1,\n    uvRegion: !1,\n    featureIndex: !1\n  };\n\n  var _iterator4 = _createForOfIteratorHelper(e.ordering),\n      _step4;\n\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var _n5 = _step4.value;\n      if (e.vertexAttributes[_n5]) switch (_n5) {\n        case \"position\":\n          break;\n\n        case \"normal\":\n          t.normal = !0;\n          break;\n\n        case \"color\":\n          t.color = !0;\n          break;\n\n        case \"uv0\":\n          t.uv0 = !0;\n          break;\n\n        case \"region\":\n          t.uvRegion = !0;\n      }\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n\n  return e.featureAttributes && e.featureAttributeOrder && (t.featureIndex = !0), t;\n}\n\nfunction v(e) {\n  var t = {\n    isDraco: !0,\n    isLegacy: !1,\n    color: !1,\n    normal: !1,\n    uv0: !1,\n    uvRegion: !1,\n    featureIndex: !1\n  };\n\n  var _iterator5 = _createForOfIteratorHelper(e),\n      _step5;\n\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var _n6 = _step5.value;\n\n      switch (_n6) {\n        case \"position\":\n          break;\n\n        case \"normal\":\n          t.normal = !0;\n          break;\n\n        case \"uv0\":\n          t.uv0 = !0;\n          break;\n\n        case \"color\":\n          t.color = !0;\n          break;\n\n        case \"uv-region\":\n          t.uvRegion = !0;\n          break;\n\n        case \"feature-index\":\n          t.featureIndex = !0;\n      }\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n\n  return t;\n}\n\nvar p = {\n  position: \"position\",\n  normal: \"normal\",\n  color: \"color\",\n  uv0: \"uv0\",\n  region: \"uvRegion\"\n};\n\nfunction C(t, n, u) {\n  if (\"lepcc-rgb\" === t.encoding) return r(n);\n  if (\"lepcc-intensity\" === t.encoding) return o(n);\n  if (null != t.encoding && \"\" !== t.encoding) throw new e(\"unknown-attribute-storage-info-encoding\", \"Unknown Attribute Storage Info Encoding\");\n  t[\"attributeByteCounts \"] && !t.attributeByteCounts && (i.warn(\"Warning: Trailing space in 'attributeByteCounts '.\"), t.attributeByteCounts = t[\"attributeByteCounts \"]), \"ObjectIds\" === t.ordering[0] && t.hasOwnProperty(\"objectIds\") && (i.warn(\"Warning: Case error in objectIds\"), t.ordering[0] = \"objectIds\");\n  var a = l(n, t, u);\n  b(a.byteOffset + a.byteCount, n.byteLength, \"attribute\");\n  var d = a.entries.attributeValues || a.entries.objectIds;\n\n  if (d) {\n    if (\"String\" === d.valueType) {\n      var _e6 = a.entries.attributeByteCounts,\n          _t2 = c(n, _e6),\n          _r = f(n, d);\n\n      return s(_e6.count, _t2, _r);\n    }\n\n    return c(n, d);\n  }\n\n  throw new e(\"bad-attribute-storage-info\", \"Bad attributeStorageInfo specification.\");\n}\n\nvar m = {\n  Float32: Float32Array,\n  Float64: Float64Array,\n  UInt8: Uint8Array,\n  Int8: Int8Array,\n  UInt16: Uint16Array,\n  Int16: Int16Array,\n  UInt32: Uint32Array,\n  Int32: Int32Array\n},\n    I = {\n  Float32: function Float32(e, t) {\n    return new DataView(e, 0).getFloat32(t, !0);\n  },\n  Float64: function Float64(e, t) {\n    return new DataView(e, 0).getFloat64(t, !0);\n  },\n  UInt8: function UInt8(e, t) {\n    return new DataView(e, 0).getUint8(t);\n  },\n  Int8: function Int8(e, t) {\n    return new DataView(e, 0).getInt8(t);\n  },\n  UInt16: function UInt16(e, t) {\n    return new DataView(e, 0).getUint16(t, !0);\n  },\n  Int16: function Int16(e, t) {\n    return new DataView(e, 0).getInt16(t, !0);\n  },\n  UInt32: function UInt32(e, t) {\n    return new DataView(e, 0).getUint32(t, !0);\n  },\n  Int32: function Int32(e, t) {\n    return new DataView(e, 0).getInt32(t, !0);\n  }\n};\n\nfunction h(e) {\n  return m.hasOwnProperty(e);\n}\n\nfunction A(e) {\n  return h(e) ? m[e].BYTES_PER_ELEMENT : 0;\n}\n\nexport { l as createAttributeDataIndex, g as createGeometryDescriptor, v as createGeometryDescriptorForDraco, d as createGeometryDescriptorFromDefinition, w as createGeometryDescriptorFromSchema, y as createGeometryIndexFromSchema, f as createRawView, c as createTypedView, A as getBytesPerValue, h as isValueType, C as readBinaryAttribute, a as readHeader, s as readStringArray, I as valueType2ArrayBufferReader, m as valueType2TypedArrayClassMap };","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e11) { throw _e11; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e12) { didErr = true; err = _e12; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isNone as e, isSome as o } from \"../../../../core/maybe.js\";\nimport r from \"../../../../renderers/PointCloudClassBreaksRenderer.js\";\nimport t from \"../../../../renderers/PointCloudStretchRenderer.js\";\nimport n from \"../../../../renderers/PointCloudUniqueValueRenderer.js\";\nimport { createGeometryIndexFromSchema as l, createTypedView as i, readBinaryAttribute as s } from \"./I3SBinaryReader.js\";\nimport { decodeXYZ as f } from \"./LEPCC.js\";\n\nfunction u(e, o, l, i) {\n  var s = e.rendererJSON,\n      f = e.isRGBRenderer;\n  var u = null,\n      c = null;\n  if (o && f) u = o;else if (o && \"pointCloudUniqueValueRenderer\" === s.type) {\n    c = n.fromJSON(s);\n    var _e = c.colorUniqueValueInfos;\n    u = new Uint8Array(3 * i);\n\n    var _r = p(c.fieldTransformType);\n\n    for (var _t = 0; _t < i; _t++) {\n      var _n = (_r ? _r(o[_t]) : o[_t]) + \"\";\n\n      for (var _o = 0; _o < _e.length; _o++) {\n        if (_e[_o].values.indexOf(_n) >= 0) {\n          u[3 * _t] = _e[_o].color.r, u[3 * _t + 1] = _e[_o].color.g, u[3 * _t + 2] = _e[_o].color.b;\n          break;\n        }\n      }\n    }\n  } else if (o && \"pointCloudStretchRenderer\" === s.type) {\n    c = t.fromJSON(s);\n    var _e2 = c.stops;\n    u = new Uint8Array(3 * i);\n\n    var _r2 = p(c.fieldTransformType);\n\n    for (var _t2 = 0; _t2 < i; _t2++) {\n      var _n2 = _r2 ? _r2(o[_t2]) : o[_t2],\n          _l = _e2.length - 1;\n\n      if (_n2 < _e2[0].value) u[3 * _t2] = _e2[0].color.r, u[3 * _t2 + 1] = _e2[0].color.g, u[3 * _t2 + 2] = _e2[0].color.b;else if (_n2 >= _e2[_l].value) u[3 * _t2] = _e2[_l].color.r, u[3 * _t2 + 1] = _e2[_l].color.g, u[3 * _t2 + 2] = _e2[_l].color.b;else for (var _o2 = 1; _o2 < _e2.length; _o2++) {\n        if (_n2 < _e2[_o2].value) {\n          var _r3 = (_n2 - _e2[_o2 - 1].value) / (_e2[_o2].value - _e2[_o2 - 1].value);\n\n          u[3 * _t2] = _e2[_o2].color.r * _r3 + _e2[_o2 - 1].color.r * (1 - _r3), u[3 * _t2 + 1] = _e2[_o2].color.g * _r3 + _e2[_o2 - 1].color.g * (1 - _r3), u[3 * _t2 + 2] = _e2[_o2].color.b * _r3 + _e2[_o2 - 1].color.b * (1 - _r3);\n          break;\n        }\n      }\n    }\n  } else if (o && \"pointCloudClassBreaksRenderer\" === s.type) {\n    c = r.fromJSON(s);\n    var _e3 = c.colorClassBreakInfos;\n    u = new Uint8Array(3 * i);\n\n    var _t3 = p(c.fieldTransformType);\n\n    for (var _r4 = 0; _r4 < i; _r4++) {\n      var _n3 = _t3 ? _t3(o[_r4]) : o[_r4];\n\n      for (var _o3 = 0; _o3 < _e3.length; _o3++) {\n        if (_n3 >= _e3[_o3].minValue && _n3 <= _e3[_o3].maxValue) {\n          u[3 * _r4] = _e3[_o3].color.r, u[3 * _r4 + 1] = _e3[_o3].color.g, u[3 * _r4 + 2] = _e3[_o3].color.b;\n          break;\n        }\n      }\n    }\n  } else {\n    u = new Uint8Array(3 * i);\n\n    for (var _e4 = 0; _e4 < u.length; _e4++) {\n      u[_e4] = 255;\n    }\n  }\n\n  if (l && c && c.colorModulation) {\n    var _e5 = c.colorModulation.minValue,\n        _o4 = c.colorModulation.maxValue,\n        _r5 = .3;\n\n    for (var _t4 = 0; _t4 < i; _t4++) {\n      var _n4 = l[_t4],\n          _i = _n4 >= _o4 ? 1 : _n4 <= _e5 ? _r5 : _r5 + (1 - _r5) * (_n4 - _e5) / (_o4 - _e5);\n\n      u[3 * _t4] = _i * u[3 * _t4], u[3 * _t4 + 1] = _i * u[3 * _t4 + 1], u[3 * _t4 + 2] = _i * u[3 * _t4 + 2];\n    }\n  }\n\n  return u;\n}\n\nfunction c(o, r) {\n  if (null == o.encoding || \"\" === o.encoding) {\n    var _t5 = l(r, o);\n\n    if (e(_t5.vertexAttributes.position)) return;\n\n    var _n5 = i(r, _t5.vertexAttributes.position),\n        _s = _t5.header.fields,\n        _f = [_s.offsetX, _s.offsetY, _s.offsetZ],\n        _u = [_s.scaleX, _s.scaleY, _s.scaleZ],\n        _c = _n5.length / 3,\n        _a = new Float64Array(3 * _c);\n\n    for (var _e6 = 0; _e6 < _c; _e6++) {\n      _a[3 * _e6] = _n5[3 * _e6] * _u[0] + _f[0], _a[3 * _e6 + 1] = _n5[3 * _e6 + 1] * _u[1] + _f[1], _a[3 * _e6 + 2] = _n5[3 * _e6 + 2] * _u[2] + _f[2];\n    }\n\n    return _a;\n  }\n\n  if (\"lepcc-xyz\" === o.encoding) return f(r).result;\n}\n\nfunction a(e, r, t) {\n  return o(e) && e.attributeInfo.useElevation ? d(r, t) : o(e) ? s(e.attributeInfo.storageInfo, e.buffer, t) : null;\n}\n\nfunction d(e, o) {\n  var r = new Float64Array(o);\n\n  for (var _t6 = 0; _t6 < o; _t6++) {\n    r[_t6] = e[3 * _t6 + 2];\n  }\n\n  return r;\n}\n\nfunction m(e, o, r, t, n) {\n  var l = e.length / 3;\n  var i = 0;\n\n  for (var _s2 = 0; _s2 < l; _s2++) {\n    var _l2 = !0;\n\n    for (var _e7 = 0; _e7 < t.length && _l2; _e7++) {\n      var _o5 = t[_e7].filterJSON,\n          _r6 = n[_e7].values[_s2];\n\n      switch (_o5.type) {\n        case \"pointCloudValueFilter\":\n          {\n            var _e8 = \"exclude\" === _o5.mode;\n\n            -1 !== _o5.values.indexOf(_r6) === _e8 && (_l2 = !1);\n            break;\n          }\n\n        case \"pointCloudBitfieldFilter\":\n          {\n            var _e9 = b(_o5.requiredSetBits),\n                _t7 = b(_o5.requiredClearBits);\n\n            (_r6 & _e9) === _e9 && 0 == (_r6 & _t7) || (_l2 = !1);\n            break;\n          }\n\n        case \"pointCloudReturnFilter\":\n          {\n            var _e10 = 15 & _r6,\n                _t8 = _r6 >>> 4 & 15,\n                _n6 = _t8 > 1,\n                _i2 = 1 === _e10,\n                _s3 = _e10 === _t8;\n\n            var _f2 = !1;\n\n            var _iterator = _createForOfIteratorHelper(_o5.includedReturns),\n                _step;\n\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var _r7 = _step.value;\n\n                if (\"last\" === _r7 && _s3 || \"firstOfMany\" === _r7 && _i2 && _n6 || \"lastOfMany\" === _r7 && _s3 && _n6 || \"single\" === _r7 && !_n6) {\n                  _f2 = !0;\n                  break;\n                }\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n\n            _f2 || (_l2 = !1);\n            break;\n          }\n      }\n    }\n\n    _l2 && (r[i] = _s2, e[3 * i] = e[3 * _s2], e[3 * i + 1] = e[3 * _s2 + 1], e[3 * i + 2] = e[3 * _s2 + 2], o[3 * i] = o[3 * _s2], o[3 * i + 1] = o[3 * _s2 + 1], o[3 * i + 2] = o[3 * _s2 + 2], i++);\n  }\n\n  return i;\n}\n\nfunction p(e) {\n  return null == e || \"none\" === e ? null : \"low-four-bit\" === e ? function (e) {\n    return 15 & e;\n  } : \"high-four-bit\" === e ? function (e) {\n    return (240 & e) >> 4;\n  } : \"absolute-value\" === e ? function (e) {\n    return Math.abs(e);\n  } : \"modulo-ten\" === e ? function (e) {\n    return e % 10;\n  } : null;\n}\n\nfunction b(e) {\n  var o = 0;\n\n  var _iterator2 = _createForOfIteratorHelper(e || []),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _r8 = _step2.value;\n      o |= 1 << _r8;\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return o;\n}\n\nexport { d as elevationFromPositions, u as evaluateRenderer, m as filterInPlace, a as getAttributeValues, c as readGeometry };","import _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport { isSome as t } from \"../../../core/maybe.js\";\nimport { isArrayBuffer as r } from \"../../../core/typedArrayUtil.js\";\nimport { c as e } from \"../../../chunks/quat.js\";\nimport { b as a } from \"../../../chunks/quatf32.js\";\nimport { q as o } from \"../../../chunks/vec3.js\";\nimport { f, c as i } from \"../../../chunks/vec3f32.js\";\nimport { projectBuffer as n } from \"../../../geometry/projection.js\";\nimport s from \"../../../geometry/SpatialReference.js\";\nimport { readGeometry as u, getAttributeValues as l, evaluateRenderer as b, filterInPlace as m } from \"./i3s/PointCloudWorkerUtil.js\";\n\nvar p = /*#__PURE__*/function () {\n  function p() {\n    _classCallCheck(this, p);\n  }\n\n  _createClass(p, [{\n    key: \"transform\",\n    value: function transform(e) {\n      var a = this._transform(e),\n          o = [a.points.buffer, a.rgb.buffer];\n\n      t(a.pointIdFilterMap) && o.push(a.pointIdFilterMap.buffer);\n\n      var _iterator = _createForOfIteratorHelper(a.attributes),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _t = _step.value;\n          \"buffer\" in _t.values && r(_t.values.buffer) && _t.values.buffer !== a.rgb.buffer && o.push(_t.values.buffer);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return Promise.resolve({\n        result: a,\n        transferList: o\n      });\n    }\n  }, {\n    key: \"_transform\",\n    value: function _transform(r) {\n      var e = u(r.schema, r.geometryBuffer);\n      var a = e.length / 3,\n          o = null;\n      var f = [],\n          i = l(r.primaryAttributeData, e, a);\n      t(r.primaryAttributeData) && i && f.push({\n        attributeInfo: r.primaryAttributeData.attributeInfo,\n        values: i\n      });\n      var n = l(r.modulationAttributeData, e, a);\n      t(r.modulationAttributeData) && n && f.push({\n        attributeInfo: r.modulationAttributeData.attributeInfo,\n        values: n\n      });\n\n      var _p = b(r.rendererInfo, i, n, a);\n\n      if (r.filterInfo && r.filterInfo.length > 0 && t(r.filterAttributesData)) {\n        var _t2 = r.filterAttributesData.map(function (t) {\n          var r = l(t, e, a),\n              o = {\n            attributeInfo: t.attributeInfo,\n            values: r\n          };\n          return f.push(o), o;\n        });\n\n        o = new Uint32Array(a), a = m(e, _p, o, r.filterInfo, _t2);\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(r.userAttributesData),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _t3 = _step2.value;\n\n          var _r = l(_t3, e, a);\n\n          f.push({\n            attributeInfo: _t3.attributeInfo,\n            values: _r\n          });\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      3 * a < _p.length && (_p = new Uint8Array(_p.buffer.slice(0, 3 * a))), this._applyElevationOffsetInPlace(e, a, r.elevationOffset);\n\n      var c = this._transformCoordinates(e, a, r.obb, s.fromJSON(r.inSR), s.fromJSON(r.outSR));\n\n      return {\n        obb: r.obb,\n        points: c,\n        rgb: _p,\n        attributes: f,\n        pointIdFilterMap: o\n      };\n    }\n  }, {\n    key: \"_transformCoordinates\",\n    value: function _transformCoordinates(t, r, a, s, u) {\n      if (!n(t, s, 0, t, u, 0, r)) throw Error(\"Can't reproject\");\n      var l = f(a.center[0], a.center[1], a.center[2]),\n          b = i(),\n          m = i();\n      e(c, a.quaternion);\n\n      var _p2 = new Float32Array(3 * r);\n\n      for (var _e = 0; _e < r; _e++) {\n        b[0] = t[3 * _e] - l[0], b[1] = t[3 * _e + 1] - l[1], b[2] = t[3 * _e + 2] - l[2], o(m, b, c), a.halfSize[0] = Math.max(a.halfSize[0], Math.abs(m[0])), a.halfSize[1] = Math.max(a.halfSize[1], Math.abs(m[1])), a.halfSize[2] = Math.max(a.halfSize[2], Math.abs(m[2])), _p2[3 * _e] = b[0], _p2[3 * _e + 1] = b[1], _p2[3 * _e + 2] = b[2];\n      }\n\n      return _p2;\n    }\n  }, {\n    key: \"_applyElevationOffsetInPlace\",\n    value: function _applyElevationOffsetInPlace(t, r, e) {\n      if (0 !== e) for (var _a = 0; _a < r; _a++) {\n        t[3 * _a + 2] += e;\n      }\n    }\n  }]);\n\n  return p;\n}();\n\nvar c = a();\n\nfunction h() {\n  return new p();\n}\n\nexport default h;"],"sourceRoot":""}
{"version":3,"sources":["webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/layers/support/labelFormatUtils.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e4","f","TypeError","err","normalCompletion","didErr","step","next","_e5","return","arr","len","arr2","u","getLogger","p","type","evaluate","c","getAttribute","t","field","_x","_x2","_x3","_f","apply","this","arguments","mark","_callee","r","a","d","_t3","_e3","_t4","wrap","_context","prev","symbol","abrupt","where","t0","sent","expression","_e2","$feature","repurposeFeature","repurposeAdapter","error","feature","needsHydrationToEvaluate","replace","get","attributes","m","WhereClause","create","t1","testFeature","stop","l","domain","_step","_t","_iterator","codedValues","_e","code","_t2","_r","range","minValue","_a","maxValue"],"mappings":"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","file":"145-0ba8eb136643d3760dc1.js","sourcesContent":["import _asyncToGenerator from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/regenerator\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e4) { throw _e4; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e5) { didErr = true; err = _e5; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../core/Error.js\";\nimport t from \"../../core/Logger.js\";\nimport { formatDate as r, convertDateFormatToIntlOptions as a } from \"../../intl/date.js\";\nimport { formatNumber as n } from \"../../intl/number.js\";\nimport { isNumericField as o } from \"./fieldUtils.js\";\nimport { getLabelExpression as l, getSingleFieldArcadeExpression as i } from \"./labelUtils.js\";\nimport { createLabelExpression as s } from \"../../support/arcadeOnDemand.js\";\nvar u = t.getLogger(\"esri.layers.support.labelFormatUtils\"),\n    p = {\n  type: \"simple\",\n  evaluate: function evaluate() {\n    return null;\n  }\n},\n    c = {\n  getAttribute: function getAttribute(e, t) {\n    return e.field(t);\n  }\n};\n\nfunction f(_x, _x2, _x3) {\n  return _f.apply(this, arguments);\n}\n\nfunction _f() {\n  _f = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(t, r, a) {\n    var n, o, f, d, _t3, _e3, _t4;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(!t || !t.symbol)) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", p);\n\n          case 2:\n            n = t.where;\n            o = l(t);\n\n            if (!n) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 7;\n            return import(\"../../core/sql/WhereClause.js\");\n\n          case 7:\n            _context.t0 = _context.sent;\n            _context.next = 11;\n            break;\n\n          case 10:\n            _context.t0 = null;\n\n          case 11:\n            f = _context.t0;\n\n            if (!(\"arcade\" === o.type)) {\n              _context.next = 19;\n              break;\n            }\n\n            _context.next = 15;\n            return s(o.expression, a, r);\n\n          case 15:\n            _t3 = _context.sent;\n            d = {\n              type: \"arcade\",\n              evaluate: function evaluate(r) {\n                try {\n                  var _e2 = _t3.evaluate({\n                    $feature: \"attributes\" in r ? _t3.repurposeFeature(r) : _t3.repurposeAdapter(r)\n                  });\n\n                  if (null != _e2) return _e2.toString();\n                } catch (a) {\n                  u.error(new e(\"bad-arcade-expression\", \"Encountered an error when evaluating label expression for feature\", {\n                    feature: r,\n                    expression: o\n                  }));\n                }\n\n                return null;\n              },\n              needsHydrationToEvaluate: function needsHydrationToEvaluate() {\n                return null == i(o.expression);\n              }\n            };\n            _context.next = 20;\n            break;\n\n          case 19:\n            d = {\n              type: \"simple\",\n              evaluate: function evaluate(e) {\n                return o.expression.replace(/{[^}]*}/g, function (t) {\n                  var a = t.slice(1, -1),\n                      n = r.get(a);\n                  if (!n) return t;\n                  var o = null;\n\n                  if (\"attributes\" in e) {\n                    e && e.attributes && (o = e.attributes[n.name]);\n                  } else o = e.field(n.name);\n\n                  return null == o ? \"\" : m(o, n);\n                });\n              }\n            };\n\n          case 20:\n            if (!n) {\n              _context.next = 30;\n              break;\n            }\n\n            _context.prev = 21;\n            _e3 = f.WhereClause.create(n, r);\n            _context.next = 28;\n            break;\n\n          case 25:\n            _context.prev = 25;\n            _context.t1 = _context[\"catch\"](21);\n            return _context.abrupt(\"return\", p);\n\n          case 28:\n            _t4 = d.evaluate;\n\n            d.evaluate = function (r) {\n              var a = \"attributes\" in r ? void 0 : c;\n              return _e3.testFeature(r, a) ? _t4(r) : null;\n            };\n\n          case 30:\n            return _context.abrupt(\"return\", d);\n\n          case 31:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[21, 25]]);\n  }));\n  return _f.apply(this, arguments);\n}\n\nfunction m(e, t) {\n  if (null == e) return \"\";\n  var l = t.domain;\n  if (l) if (\"codedValue\" === l.type || \"coded-value\" === l.type) {\n    var _t = e;\n\n    var _iterator = _createForOfIteratorHelper(l.codedValues),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _e = _step.value;\n        if (_e.code === _t) return _e.name;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (\"range\" === l.type) {\n    var _t2 = +e,\n        _r = \"range\" in l ? l.range[0] : l.minValue,\n        _a = \"range\" in l ? l.range[1] : l.maxValue;\n\n    if (_r <= _t2 && _t2 <= _a) return l.name;\n  }\n  var i = e;\n  return \"date\" === t.type || \"esriFieldTypeDate\" === t.type ? i = r(i, a(\"short-date\")) : o(t) && (i = n(+i)), i || \"\";\n}\n\nexport { f as createLabelFunction, m as formatField };"],"sourceRoot":""}
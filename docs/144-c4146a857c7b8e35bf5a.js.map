{"version":3,"sources":["webpack:///C:/Users/chubs/development/react-ags-maps/node_modules/@arcgis/core/layers/graphics/sources/support/MemorySourceWorker.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","F","s","done","value","e","_e9","f","TypeError","err","normalCompletion","didErr","step","next","_e10","return","arr","len","arr2","x","T","xmin","ymin","xmax","ymax","spatialReference","q","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","R","z","hasZ","D","m","hasM","O","this","_queryEngine","_nextObjectId","_applyEdits2","_load","destroy","_requiredFields","_fieldsIndex","_createDefaultAttributes","mark","_callee","t","r","a","p","h","g","I","b","_e","_iterator","_step","_l","_O","_iterator2","_step2","_e5","_t","_e2","_e3","_e4","w","S","wrap","_context","prev","features","_inferLayerProperties","fields","geometryType","objectIdField","timeInfo","message","concat","some","type","editable","nullable","unshift","alias","field","jsonValues","indexOf","t0","finish","startTimeField","get","endTimeField","trackIdField","details","warnings","featureErrors","layerDefinition","drawingInfo","templates","extent","assignedObjectIds","featureStore","cacheSpatialQueries","abrupt","_loadInitialFeatures","stop","_x","_callee2","_this$_queryEngine","_context2","Promise","all","adds","updates","_applyEdits","_x2","undefined","executeQuery","signal","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","_step3","l","_iterator3","_e7","geometry","_e6","toLowerCase","_step4","_this$_queryEngine2","d","u","_iterator4","_r","uid","_i2","_n","attributes","_assignObjectId","addMany","fullExtent","_this$_queryEngine$ti","timeExtent","_t2","start","_i","end","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","_step5","_iterator5","_e8","removeManyById","featureEditResults","_step6","_this$_queryEngine3","_iterator6","_r2","_i3","_a","_t3","_ref","_step7","_this$_queryEngine4","_iterator7","_f","_i4","_y","_c","has","_m","getFeature","_t4","add","isFinite"],"mappings":"6FAAA,4OAMA,SAASA,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAkBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAkBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAElV,SAASU,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKf,EAAQI,OAAOc,IAAS,GAAMC,SAAQ,SAAUC,GAAO,YAAgBN,EAAQM,EAAKF,EAAOE,OAAsBhB,OAAOiB,0BAA6BjB,OAAOkB,iBAAiBR,EAAQV,OAAOiB,0BAA0BH,IAAmBlB,EAAQI,OAAOc,IAASC,SAAQ,SAAUC,GAAOhB,OAAOmB,eAAeT,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAASU,EAA2BC,EAAGC,GAAkB,IAAIC,EAAuB,oBAAXC,QAA0BH,EAAEG,OAAOC,WAAaJ,EAAE,cAAe,IAAKE,EAAI,CAAE,GAAIG,MAAMC,QAAQN,KAAOE,EAE9K,SAAqCF,EAAGO,GAAU,IAAKP,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAOQ,EAAkBR,EAAGO,GAAS,IAAIE,EAAI9B,OAAO+B,UAAUC,SAASC,KAAKZ,GAAGa,MAAM,GAAI,GAAc,WAANJ,GAAkBT,EAAEc,cAAaL,EAAIT,EAAEc,YAAYC,MAAM,GAAU,QAANN,GAAqB,QAANA,EAAa,OAAOJ,MAAMW,KAAKhB,GAAI,GAAU,cAANS,GAAqB,2CAA2CQ,KAAKR,GAAI,OAAOD,EAAkBR,EAAGO,GAFnOW,CAA4BlB,KAAOC,GAAkBD,GAAyB,iBAAbA,EAAER,OAAqB,CAAMU,IAAIF,EAAIE,GAAI,IAAIZ,EAAI,EAAO6B,EAAI,aAAiB,MAAO,CAAEC,EAAGD,EAAGV,EAAG,WAAe,OAAInB,GAAKU,EAAER,OAAe,CAAE6B,MAAM,GAAe,CAAEA,MAAM,EAAOC,MAAOtB,EAAEV,OAAWiC,EAAG,SAAWC,GAAO,MAAMA,GAAQC,EAAGN,GAAO,MAAM,IAAIO,UAAU,yIAA4I,IAA6CC,EAAzCC,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAET,EAAG,WAAelB,EAAKA,EAAGU,KAAKZ,IAAOS,EAAG,WAAe,IAAIqB,EAAO5B,EAAG6B,OAAsC,OAA9BH,EAAmBE,EAAKT,KAAaS,GAASP,EAAG,SAAWS,GAAQH,GAAS,EAAMF,EAAMK,GAASP,EAAG,WAAe,IAAWG,GAAiC,MAAb1B,EAAG+B,QAAgB/B,EAAG+B,SAAY,QAAU,GAAIJ,EAAQ,MAAMF,KAI79B,SAASnB,EAAkB0B,EAAKC,IAAkB,MAAPA,GAAeA,EAAMD,EAAI1C,UAAQ2C,EAAMD,EAAI1C,QAAQ,IAAK,IAAIF,EAAI,EAAG8C,EAAO,IAAI/B,MAAM8B,GAAM7C,EAAI6C,EAAK7C,IAAO8C,EAAK9C,GAAK4C,EAAI5C,GAAM,OAAO8C,EAmBhL,IAAIC,EAAI,IACJC,EAAI,CACNC,MAAO,IACPC,MAAO,GACPC,KAAM,IACNC,KAAM,GACNC,iBAAkB,KAEhBC,EAAI,CACNC,gBAAgB,EAChBC,aAAc,yCACdC,wBAAwB,EACxBC,iCAAiC,EACjCC,gCAAgC,EAChCC,0BAA2B,CACzBC,0BAA0B,EAC1BC,oBAAoB,EACpBC,8BAA8B,EAC9BC,mCAAmC,EACnCC,2BAA2B,EAC3BC,kBAAkB,EAClBC,8BAA8B,EAC9BC,qCAAqC,EACrCC,sBAAsB,EACtBC,iBAAiB,EACjBC,oBAAoB,EACpBC,6BAA6B,EAC7BC,uBAAuB,EACvBC,4BAA4B,IAIhC,SAASC,EAAE1C,GACT,OAAO,YAAEA,GAAK,MAAQA,EAAE2C,IAAM3C,EAAE4C,KAGlC,SAASC,EAAE7C,GACT,OAAO,YAAEA,GAAK,MAAQA,EAAE8C,IAAM9C,EAAE+C,KAGlC,IAAIC,EAAiB,WACnB,SAASA,IACP,YAAgBC,KAAMD,GAEtBC,KAAKC,aAAe,KAAMD,KAAKE,cAAgB,KAgOxC,IACDC,EAtNAC,EA4fR,OApgBA,YAAaL,EAAG,CAAC,CACf5E,IAAK,UACL2B,MAAO,WACLkD,KAAKC,cAAgBD,KAAKC,cAAgBD,KAAKC,aAAaI,UAAWL,KAAKC,aAAeD,KAAKM,gBAAkBN,KAAKO,aAAeP,KAAKQ,yBAA2B,OAEvK,CACDrF,IAAK,OACL2B,OACMsD,EAAQ,YAAgC,IAAoBK,MAAK,SAASC,EAAQC,GACpF,IAAI7F,EAAG8B,EAAGgE,EAAG3E,EAAG4E,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGvE,EAAG8C,EAAGG,EAAGuB,EAAIC,EAAWC,EAAOC,EAAIC,EAAIC,EAAYC,EAAQC,EAAKC,EAAIC,EAAKC,EAAKC,EAAKC,EAAGC,EAExH,OAAO,IAAoBC,MAAK,SAAkBC,GAChD,OACE,OAAQA,EAASC,KAAOD,EAAS3E,MAC/B,KAAK,EAIH,GAHAzC,EAAI,GAAI8B,EAAI+D,EAAEyB,SAAUxB,EAAIZ,KAAKqC,sBAAsBzF,EAAG+D,EAAE2B,QAASrG,EAAI0E,EAAE2B,QAAU,GAAIzB,EAAI,MAAQF,EAAEb,KAAOa,EAAEb,KAAOc,EAAEd,KAAMgB,EAAI,MAAQH,EAAEhB,KAAOgB,EAAEhB,KAAOiB,EAAEjB,KAAMoB,GAAKJ,EAAExC,mBAAqByC,EAAEzC,iBAAkB6C,EAAID,EAAIlD,EAAI8C,EAAExC,kBAAoByC,EAAEzC,iBAAkB8C,EAAIF,EAAIjD,EAAI,KAAMoD,EAAIP,EAAE4B,cAAgB3B,EAAE2B,aAAc5F,GAAKuE,EACxUzB,EAAIkB,EAAE6B,eAAiB5B,EAAE4B,cAAe5C,EAAIe,EAAE8B,SAEvC9F,IAAMoE,GAAKjG,EAAEJ,KAAK,CACvB6B,KAAM,4CACNmG,QAAS,2EACNxB,GAAK,CACRgB,EAAS3E,KAAO,EAChB,MAGF,MAAM,IAAI,IAAE,iCAAkC,4EAEhD,KAAK,EACH,GAAIkC,EAAG,CACLyC,EAAS3E,KAAO,EAChB,MAGF,MAAM,IAAI,IAAE,iCAAkC,sEAEhD,KAAK,EACCqD,EAAE4B,eAAiB/C,IAAMmB,EAAE4B,gBAAkB1H,EAAEJ,KAAK,CACtD6B,KAAM,qCACNmG,QAAS,2BAA4BC,OAAOlD,EAAG,qCAAsCkD,OAAO/B,EAAE4B,cAAe,qCAC3G/C,EAAImB,EAAE4B,eAAgB/C,IAAMmB,EAAE4B,gBAChCrB,EAAK,KACLlF,EAAE2G,MAAK,SAAUjC,GACf,OAAOA,EAAEpE,OAASkD,IAAM0B,EAAKR,GAAG,OAC5BQ,EAAG0B,KAAO,mBAAoB1B,EAAG2B,UAAW,EAAI3B,EAAG4B,UAAW,GAAM9G,EAAE+G,QAAQ,CAClFC,MAAOxD,EACPlD,KAAMkD,EACNoD,KAAM,mBACNC,UAAU,EACVC,UAAU,KAId3B,EAAY7F,EAA2BU,GACvCiG,EAASC,KAAO,EAEhBf,EAAUxE,IAEZ,KAAK,GACH,IAAKyE,EAAQD,EAAUnF,KAAKY,KAAM,CAChCqF,EAAS3E,KAAO,GAChB,MAKF,GAAM,OAFN+D,EAAKD,EAAMvE,OAEMP,OAAS+E,EAAG/E,KAAO+E,EAAG2B,OAAQ,MAAQ3B,EAAG2B,QAAU3B,EAAG2B,MAAQ3B,EAAG/E,MAAQ+E,EAAG/E,KAAO,CAClG2F,EAAS3E,KAAO,GAChB,MAGF,MAAM,IAAI,IAAE,mCAAoC,wBAAyB,CACvE2F,MAAO5B,IAGX,KAAK,GACH,GAAMA,EAAG/E,OAASkD,IAAM6B,EAAGuB,KAAO,qBAAsB,IAAM,IAAEM,WAAWC,QAAQ9B,EAAGuB,MAAQ,CAC5FX,EAAS3E,KAAO,GAChB,MAGF,MAAM,IAAI,IAAE,mCAAoC,2BAA4BoF,OAAOrB,EAAG/E,KAAM,KAAO,CACjG2G,MAAO5B,IAGX,KAAK,GACHY,EAAS3E,KAAO,GAChB,MAEF,KAAK,GACH2E,EAAS3E,KAAO,GAChB,MAEF,KAAK,GACH2E,EAASC,KAAO,GAChBD,EAASmB,GAAKnB,EAAgB,MAAE,GAEhCd,EAAUrE,EAAEmF,EAASmB,IAEvB,KAAK,GAKH,OAJAnB,EAASC,KAAO,GAEhBf,EAAUnE,IAEHiF,EAASoB,OAAO,IAEzB,KAAK,GACH/B,EAAK,GACLvB,KAAKM,gBAAkB,GACvBkB,EAAajG,EAA2BU,GAExC,IACE,IAAKuF,EAAW5E,MAAO6E,EAASD,EAAWvF,KAAKY,MAG1C,sBAFJ6E,EAAMD,EAAO3E,OAEkB+F,MAAQ,0BAA4BnB,EAAImB,OACrEnB,EAAIoB,SAAW,MAAQpB,EAAIoB,YAAcpB,EAAIoB,SAAUpB,EAAIqB,SAAW,MAAQrB,EAAIqB,YAAcrB,EAAIqB,SACpGpB,EAAK,YAAED,GACPA,EAAIqB,eAAY,IAAWpB,EAAKJ,EAAGG,EAAInF,MAAQoF,EAAK3B,KAAKM,gBAAgB5F,KAAKgH,IAGlF,MAAOvE,GACPqE,EAAWzE,EAAEI,GACb,QACAqE,EAAWvE,IAmDb,GAhDI+C,KAAKO,aAAe,IAAI,IAAEtE,GAAI+D,KAAKQ,yBAA2B,YAAEe,EAAI9B,GAAIG,IACtEA,EAAE2D,kBACJ3B,EAAM5B,KAAKO,aAAaiD,IAAI5D,EAAE2D,kBACvB3D,EAAE2D,eAAiB3B,EAAIrF,KAAMqF,EAAIiB,KAAO,qBAAuBjD,EAAE2D,eAAiB,MAGvF3D,EAAE6D,gBACJ5B,EAAM7B,KAAKO,aAAaiD,IAAI5D,EAAE6D,gBACvB7D,EAAE6D,aAAe5B,EAAItF,KAAMsF,EAAIgB,KAAO,qBAAuBjD,EAAE6D,aAAe,MAGnF7D,EAAE8D,gBACJ5B,EAAM9B,KAAKO,aAAaiD,IAAI5D,EAAE8D,eACxB9D,EAAE8D,aAAe5B,EAAIvF,MAAQqD,EAAE8D,aAAe,KAAM5I,EAAEJ,KAAK,CAC/D6B,KAAM,8CACNmG,QAAS,0BACTiB,QAAS,CACPlB,SAAU7C,OAKhBA,EAAE2D,gBAAkB3D,EAAE6D,eAAiB3I,EAAEJ,KAAK,CAC5C6B,KAAM,iCACNmG,QAAS,yDACTiB,QAAS,CACPlB,SAAU7C,KAEVA,EAAI,OAGVmC,EAAI,CACF6B,SAAU9I,EACV+I,cAAe,GACfC,gBAAiBlJ,EAAcA,EAAc,GAAIwD,GAAI,GAAI,CACvD2F,YAAa,YAAE7C,GACf8C,UAAW,YAAEzC,GACb0C,OAAQhD,EACRsB,aAAcrB,EACdsB,cAAe/C,EACf6C,OAAQrG,EACR0D,OAAQmB,EACRhB,OAAQe,EACR4B,SAAU7C,IAEZsE,kBAAmB,IAGflE,KAAKC,aAAe,IAAI,IAAE,CAC9BqC,OAAQrG,EACRsG,aAAcrB,EACdpB,KAAMe,EACNlB,KAAMmB,EACN0B,cAAe/C,EACftB,iBAAkB6C,EAClBmD,aAAc,IAAI,IAAE,CAClB5B,aAAcrB,EACdpB,KAAMe,EACNlB,KAAMmB,IAER2B,SAAU7C,EACVwE,qBAAqB,IAClBxH,GAAMA,EAAE5B,OAAS,CACpBkH,EAAS3E,KAAO,GAChB,MAGF,OAAO2E,EAASmC,OAAO,UAAWrE,KAAKE,cAAgB,IAAG6B,IAE5D,KAAK,GAIH,OAHAC,EAAI,YAAEvC,EAAG7C,GACToD,KAAKE,cAAgB8B,EAAI,EACzBE,EAAS3E,KAAO,GACT,YAAEX,EAAGoE,GAEd,KAAK,GACH,OAAOkB,EAASmC,OAAO,SAAUrE,KAAKsE,qBAAqBvC,EAAGnF,IAEhE,KAAK,GACL,IAAK,MACH,OAAOsF,EAASqC,UAGrB7D,EAASV,KAAM,CAAC,CAAC,EAAG,GAAI,GAAI,UAGjC,SAAcwE,GACZ,OAAOpE,EAAMzF,MAAMqF,KAAMjF,cAK5B,CACDI,IAAK,aACL2B,OACMqD,EAAe,YAAgC,IAAoBM,MAAK,SAASgE,EAAS1H,GAC5F,IAAI2H,EAAoB/D,EAAG7F,EAE3B,OAAO,IAAoBmH,MAAK,SAAmB0C,GACjD,OACE,OAAQA,EAAUxC,KAAOwC,EAAUpH,MACjC,KAAK,EAGH,OAFAmH,EAAqB1E,KAAKC,aAAcU,EAAI+D,EAAmBvG,iBAAkBrD,EAAI4J,EAAmBnC,aACxGoC,EAAUpH,KAAO,EACVqH,QAAQC,IAAI,CAAC,YAAElE,EAAG7F,GAAI,YAAEiC,EAAE+H,KAAMnE,GAAI,YAAE5D,EAAEgI,QAASpE,KAE1D,KAAK,EACH,OAAOgE,EAAUN,OAAO,SAAUrE,KAAKgF,YAAYjI,IAErD,KAAK,EACL,IAAK,MACH,OAAO4H,EAAUJ,UAGtBE,EAAUzE,UAGf,SAAoBiF,GAClB,OAAO9E,EAAaxF,MAAMqF,KAAMjF,cAKnC,CACDI,IAAK,gBACL2B,MAAO,SAAuBC,GAC5B,IAAI4D,EAAI5F,UAAUC,OAAS,QAAsBkK,IAAjBnK,UAAU,GAAmBA,UAAU,GAAK,GAC5E,OAAOiF,KAAKC,aAAakF,aAAapI,EAAG4D,EAAEyE,UAE5C,CACDjK,IAAK,oBACL2B,MAAO,SAA2BC,GAChC,IAAI4D,EAAI5F,UAAUC,OAAS,QAAsBkK,IAAjBnK,UAAU,GAAmBA,UAAU,GAAK,GAC5E,OAAOiF,KAAKC,aAAaoF,qBAAqBtI,EAAG4D,EAAEyE,UAEpD,CACDjK,IAAK,iBACL2B,MAAO,SAAwBC,GAC7B,IAAI4D,EAAI5F,UAAUC,OAAS,QAAsBkK,IAAjBnK,UAAU,GAAmBA,UAAU,GAAK,GAC5E,OAAOiF,KAAKC,aAAaqF,mBAAmBvI,EAAG4D,EAAEyE,UAElD,CACDjK,IAAK,cACL2B,MAAO,SAAqBC,GAC1B,IAAI4D,EAAI5F,UAAUC,OAAS,QAAsBkK,IAAjBnK,UAAU,GAAmBA,UAAU,GAAK,GAC5E,OAAOiF,KAAKC,aAAasF,sBAAsBxI,EAAG4D,EAAEyE,UAErD,CACDjK,IAAK,gBACL2B,MAAO,SAAuBC,GAC5B,IAAI4D,EAAI5F,UAAUC,OAAS,QAAsBkK,IAAjBnK,UAAU,GAAmBA,UAAU,GAAK,GAC5E,OAAOiF,KAAKC,aAAauF,wBAAwBzI,EAAG4D,EAAEyE,UAEvD,CACDjK,IAAK,wBACL2B,MAAO,SAA+BC,EAAGjC,GACvC,IAAI8B,EACAgE,EAMA6E,EALAxJ,EAAI,KACJ4E,EAAI,KACJ6E,EAAI,KAEJC,EAAapK,EAA2BwB,GAG5C,IACE,IAAK4I,EAAW/I,MAAO6I,EAASE,EAAW1J,KAAKY,MAAO,CACrD,IACI+I,EADKH,EAAO3I,MACH+I,SACb,GAAID,IAAQ3J,IAAMA,EAAI,YAAE2J,IAAO/E,IAAMA,EAAI+E,EAAIzH,kBAAmB,MAAQvB,IAAMA,EAAI6C,EAAEmG,IAAO,MAAQhF,IAAMA,EAAIhB,EAAEgG,IAAO3J,GAAK4E,GAAK,MAAQjE,GAAK,MAAQgE,GAAI,OAE3J,MAAOzD,GACPwI,EAAW5I,EAAEI,GACb,QACAwI,EAAW1I,IAGb,GAAInC,GAAKA,EAAEE,OAAQ,CACjB,IAAI8K,EAAM,KACVhL,EAAE8H,MAAK,SAAUjC,GACf,IAAI7F,EAAI,qBAAuB6F,EAAEkC,KAC7BjG,GAAK+D,EAAEkC,MAAQlC,EAAEpE,MAAQ,aAAeoE,EAAEpE,KAAKwJ,cACnD,OAAOD,EAAMnF,EAAG7F,GAAK8B,OAChB8I,EAAII,EAAIvJ,MAGjB,MAAO,CACLgG,aAActG,EACdkC,iBAAkB0C,EAClB2B,cAAekD,EACf5F,KAAMc,EACNjB,KAAM/C,KAGT,CACDzB,IAAK,uBACL2B,MAAO,SAA8BC,EAAGjC,GACtC,IAUIkL,EAVAC,EAAsBjG,KAAKC,aAC3BrD,EAAIqJ,EAAoB1D,aACxBtG,EAAIgK,EAAoBnG,KACxBe,EAAIoF,EAAoBtG,KACxB+F,EAAIO,EAAoBzD,cACxBhH,EAAIyK,EAAoB9H,iBACxB+H,EAAID,EAAoB9B,aACxBgC,EAAI,GAEJC,EAAa7K,EAA2BT,GAG5C,IACE,IAAKsL,EAAWxJ,MAAOoJ,EAASI,EAAWnK,KAAKY,MAAO,CACrD,IAAIwJ,EAAKL,EAAOlJ,MAEhB,GAAI,MAAQuJ,EAAGC,MAAQvJ,EAAEmH,kBAAkBmC,EAAGC,MAAQ,GAAID,EAAGR,UAAYjJ,IAAM,YAAEyJ,EAAGR,UAClF9I,EAAE8G,cAAcnJ,KAAK,YAAE,iCADzB,CAKA,IAAI6L,EAAMvG,KAAKQ,2BACXgG,EAAK,YAAExG,KAAKO,aAAcgG,EAAKF,EAAGI,WAAYzG,KAAKM,iBAAiB,EAAIvD,EAAE6G,UAE9E4C,EAAKzJ,EAAE8G,cAAcnJ,KAAK8L,IAAOxG,KAAK0G,gBAAgBH,EAAKF,EAAGI,YAAY,GAAKJ,EAAGI,WAAaF,EAAK,MAAQF,EAAGC,MAAQvJ,EAAEmH,kBAAkBmC,EAAGC,KAAOD,EAAGI,WAAWf,IAAKW,EAAGR,WAAaQ,EAAGR,SAAW,YAAEQ,EAAGR,SAAUQ,EAAGR,SAAS1H,iBAAkB3C,IAAK2K,EAAEzL,KAAK2L,MAEjQ,MAAOlJ,GACPiJ,EAAWrJ,EAAEI,GACb,QACAiJ,EAAWnJ,IAGb,GAAIiJ,EAAES,QAAQ,YAAE,GAAIR,EAAGvJ,EAAGiE,EAAG5E,EAAGyJ,IAAK3I,EAAE+G,gBAAgBG,OAASjE,KAAKC,aAAa2G,WAAY7J,EAAE+G,gBAAgBrB,SAAU,CACxH,IAAIoE,EAAwB7G,KAAKC,aAAa6G,WAC1CC,EAAMF,EAAsBG,MAC5BC,EAAKJ,EAAsBK,IAC/BnK,EAAE+G,gBAAgBrB,SAASqE,WAAa,CAACC,EAAKE,GAGhD,OAAOlK,IAER,CACD5B,IAAK,cACL2B,MAAO,SAAqBC,GAC1B,IAAI4D,EAAI5D,EAAE+H,KACNhK,EAAIiC,EAAEgI,QACNnI,EAAIG,EAAEoK,QACNvG,EAAI,CACNwG,WAAY,GACZC,cAAe,GACfC,cAAe,GACfC,cAAe,IAGjB,GAAI5G,GAAKA,EAAE3F,QAAUgF,KAAKwH,eAAe5G,EAAGD,GAAI7F,GAAKA,EAAEE,QAAUgF,KAAKyH,kBAAkB7G,EAAG9F,GAAI8B,GAAKA,EAAE5B,OAAQ,CAC5G,IACI0M,EADAC,EAAapM,EAA2BqB,GAG5C,IACE,IAAK+K,EAAW/K,MAAO8K,EAASC,EAAW1L,KAAKY,MAAO,CACrD,IAAI+K,EAAMF,EAAO5K,MACjB8D,EAAEyG,cAAc3M,KAAK,YAAEkN,KAEzB,MAAOzK,GACPwK,EAAW5K,EAAEI,GACb,QACAwK,EAAW1K,IAGb+C,KAAKC,aAAakE,aAAa0D,eAAejL,GAGhD,MAAO,CACLgK,WAAY5G,KAAKC,aAAa2G,WAC9BkB,mBAAoBlH,KAGvB,CACDzF,IAAK,iBACL2B,MAAO,SAAwBC,EAAGjC,GAChC,IAWIiN,EAXAnL,EAAIG,EAAEqK,WACNY,EAAsBhI,KAAKC,aAC3BhE,EAAI+L,EAAoBzF,aACxB1B,EAAImH,EAAoBlI,KACxB4F,EAAIsC,EAAoBrI,KACxBnE,EAAIwM,EAAoBxF,cACxB0D,EAAI8B,EAAoB7J,iBACxBgI,EAAI6B,EAAoB7D,aACxBlH,EAAI,GAEJgL,EAAa1M,EAA2BT,GAG5C,IACE,IAAKmN,EAAWrL,MAAOmL,EAASE,EAAWhM,KAAKY,MAAO,CACrD,IAAIqL,EAAMH,EAAOjL,MAEjB,GAAIoL,EAAIrC,UAAY5J,IAAM,YAAEiM,EAAIrC,UAC9BjJ,EAAElC,KAAK,YAAE,iCADX,CAKA,IAAIyN,EAAMnI,KAAKQ,2BACX4H,EAAK,YAAEpI,KAAKO,aAAc4H,EAAKD,EAAIzB,WAAYzG,KAAKM,iBAExD,GAAI8H,EAAIxL,EAAElC,KAAK0N,OAAS,CACtB,GAAIpI,KAAK0G,gBAAgByB,EAAKD,EAAIzB,YAAayB,EAAIzB,WAAa0B,EAAK,MAAQD,EAAI5B,IAAK,CACpF,IAAI+B,EAAMH,EAAIzB,WAAWjL,GACzBuB,EAAEwK,cAAcW,EAAI5B,KAAO+B,EAG7BH,EAAIrC,WAAaqC,EAAIrC,SAAW,YAAE,YAAEqC,EAAIrC,SAAUK,GAAIgC,EAAIrC,SAAS1H,iBAAkB+H,IAAKjJ,EAAEvC,KAAKwN,GAAMtL,EAAElC,KAAK,YAAEwN,EAAIzB,WAAWjL,QAGnI,MAAO2B,GACP8K,EAAWlL,EAAEI,GACb,QACA8K,EAAWhL,IAGbkJ,EAAEQ,QAAQ,YAAE,GAAI1J,EAAGhB,EAAGyJ,EAAG7E,EAAGrF,MAE7B,CACDL,IAAK,oBACL2B,MAAO,SAA2BwL,EAAMxN,GACtC,IAUIyN,EAVAxL,EAAIuL,EAAKhB,cACTkB,EAAsBxI,KAAKC,aAC3BrD,EAAI4L,EAAoBjG,aACxB3B,EAAI4H,EAAoB1I,KACxB4F,EAAI8C,EAAoB7I,KACxBnE,EAAIgN,EAAoBhG,cACxB0D,EAAIsC,EAAoBrK,iBACxBgI,EAAIqC,EAAoBrE,aAExBsE,EAAalN,EAA2BT,GAG5C,IACE,IAAK2N,EAAW7L,MAAO2L,EAASE,EAAWxM,KAAKY,MAAO,CACrD,IAAI6L,EAAKH,EAAOzL,MAEZ6L,EAAMD,EAAGjC,WACTmC,EAAKF,EAAG7C,SACRgD,EAAKF,GAAOA,EAAInN,GAEpB,GAAI,MAAQqN,EAKZ,GAAK1C,EAAE2C,IAAID,GAAX,CAKA,IAAIE,EAAK,YAAE5C,EAAE6C,WAAWH,GAAKjM,EAAG8I,EAAG9E,GAEnC,GAAIgI,EAAI,CACN,GAAIhM,IAAM,YAAEgM,GAAK,CACf7L,EAAErC,KAAK,YAAE,6BACT,SAGFqO,EAAGlD,SAAW,YAAE,YAAE+C,EAAI1C,GAAI0C,EAAGzK,iBAAkB+H,GAGjD,GAAIyC,EAAK,CACP,IAAIM,EAAM,YAAEjJ,KAAKO,aAAcwI,EAAGtC,WAAYkC,EAAK3I,KAAKM,iBAExD,GAAI2I,EAAK,CACPlM,EAAErC,KAAKuO,GACP,UAIJ9C,EAAE+C,IAAI,YAAEH,EAAInM,EAAG8I,EAAG9E,EAAGpF,IAAKuB,EAAErC,KAAK,YAAEmO,SAxBjC9L,EAAErC,KAAK,YAAE,0BAA0BiI,OAAOkG,EAAI,mBAL9C9L,EAAErC,KAAK,YAAE,oBAAoBiI,OAAOnH,EAAG,eA+B3C,MAAO2B,GACPsL,EAAW1L,EAAEI,GACb,QACAsL,EAAWxL,OAGd,CACD9B,IAAK,kBACL2B,MAAO,SAAyBC,EAAG4D,GACjC,IAAI7F,EAAIC,UAAUC,OAAS,QAAsBkK,IAAjBnK,UAAU,IAAmBA,UAAU,GACnE6B,EAAIoD,KAAKC,aAAauC,cAC1B1H,GAAK6F,GAAKwI,SAASxI,EAAE/D,IAAMG,EAAEH,GAAK+D,EAAE/D,GAAKG,EAAEH,GAAKoD,KAAKE,oBAIlDH,EA3gBY,GA8gBN","file":"144-c4146a857c7b8e35bf5a.js","sourcesContent":["import _defineProperty from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _regeneratorRuntime from \"C:/Users/chubs/development/react-ags-maps/docz/node_modules/@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e9) { throw _e9; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e10) { didErr = true; err = _e10; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from \"../../../../core/Error.js\";\nimport { getJsonType as t, isPoint as i } from \"../../../../geometry/support/jsonUtils.js\";\nimport { WGS84 as s } from \"../../../../geometry/support/spatialReferenceUtils.js\";\nimport { convertFromFeatures as r, convertToFeature as n, convertFromFeature as a } from \"../../featureConversionUtils.js\";\nimport { initialObjectId as l, findLastObjectIdFromFeatures as o } from \"../../objectIdUtils.js\";\nimport d from \"../../data/FeatureStore.js\";\nimport { checkProjectionSupport as u, project as p } from \"../../data/projectionSupport.js\";\nimport f from \"../../data/QueryEngine.js\";\nimport { createDefaultAttributesFunction as y, createDrawingInfo as c, createDefaultTemplate as m } from \"./clientSideDefaults.js\";\nimport { loadGeometryEngineForSimplify as h, createFeatureEditErrorResult as g, mixAttributes as I, createFeatureEditSuccessResult as b, simplify as F } from \"./sourceUtils.js\";\nimport _ from \"../../../support/FieldsIndex.js\";\nimport { kebabDict as j } from \"../../../support/fieldType.js\";\nimport { getFieldDefaultValue as E } from \"../../../support/fieldUtils.js\";\nvar x = s,\n    T = {\n  xmin: -180,\n  ymin: -90,\n  xmax: 180,\n  ymax: 90,\n  spatialReference: s\n},\n    q = {\n  hasAttachments: !1,\n  capabilities: \"query, editing, create, delete, update\",\n  useStandardizedQueries: !0,\n  supportsCoordinatesQuantization: !0,\n  supportsReturningQueryGeometry: !0,\n  advancedQueryCapabilities: {\n    supportsQueryAttachments: !1,\n    supportsStatistics: !0,\n    supportsPercentileStatistics: !0,\n    supportsReturningGeometryCentroid: !0,\n    supportsQueryWithDistance: !0,\n    supportsDistinct: !0,\n    supportsReturningQueryExtent: !0,\n    supportsReturningGeometryProperties: !1,\n    supportsHavingClause: !0,\n    supportsOrderBy: !0,\n    supportsPagination: !0,\n    supportsQueryWithResultType: !1,\n    supportsSqlExpression: !0,\n    supportsDisjointSpatialRel: !0\n  }\n};\n\nfunction R(e) {\n  return i(e) ? null != e.z : !!e.hasZ;\n}\n\nfunction D(e) {\n  return i(e) ? null != e.m : !!e.hasM;\n}\n\nvar O = /*#__PURE__*/function () {\n  function O() {\n    _classCallCheck(this, O);\n\n    this._queryEngine = null, this._nextObjectId = null;\n  }\n\n  _createClass(O, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this._queryEngine && this._queryEngine && this._queryEngine.destroy(), this._queryEngine = this._requiredFields = this._fieldsIndex = this._createDefaultAttributes = null;\n    }\n  }, {\n    key: \"load\",\n    value: function () {\n      var _load = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(t) {\n        var i, s, r, n, a, p, h, g, I, b, F, R, D, _e, _iterator, _step, _l, _O, _iterator2, _step2, _e5, _t, _e2, _e3, _e4, w, S;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                i = [], s = t.features, r = this._inferLayerProperties(s, t.fields), n = t.fields || [], a = null != t.hasM ? t.hasM : r.hasM, p = null != t.hasZ ? t.hasZ : r.hasZ, h = !t.spatialReference && !r.spatialReference, g = h ? x : t.spatialReference || r.spatialReference, I = h ? T : null, b = t.geometryType || r.geometryType, F = !b;\n                R = t.objectIdField || r.objectIdField, D = t.timeInfo;\n\n                if (!(!F && (h && i.push({\n                  name: \"feature-layer:spatial-reference-not-found\",\n                  message: \"Spatial reference not provided or found in features. Defaults to WGS84\"\n                }), !b))) {\n                  _context.next = 4;\n                  break;\n                }\n\n                throw new e(\"feature-layer:missing-property\", \"geometryType not set and couldn't be inferred from the provided features\");\n\n              case 4:\n                if (R) {\n                  _context.next = 6;\n                  break;\n                }\n\n                throw new e(\"feature-layer:missing-property\", \"objectIdField not set and couldn't be found in the provided fields\");\n\n              case 6:\n                if (r.objectIdField && R !== r.objectIdField && (i.push({\n                  name: \"feature-layer:duplicated-oid-field\",\n                  message: \"Provided objectIdField \\\"\".concat(R, \"\\\" doesn't match the field name \\\"\").concat(r.objectIdField, \"\\\", found in the provided fields\")\n                }), R = r.objectIdField), R && !r.objectIdField) {\n                  _e = null;\n                  n.some(function (t) {\n                    return t.name === R && (_e = t, !0);\n                  }) ? (_e.type = \"esriFieldTypeOID\", _e.editable = !1, _e.nullable = !1) : n.unshift({\n                    alias: R,\n                    name: R,\n                    type: \"esriFieldTypeOID\",\n                    editable: !1,\n                    nullable: !1\n                  });\n                }\n\n                _iterator = _createForOfIteratorHelper(n);\n                _context.prev = 8;\n\n                _iterator.s();\n\n              case 10:\n                if ((_step = _iterator.n()).done) {\n                  _context.next = 18;\n                  break;\n                }\n\n                _l = _step.value;\n\n                if (!(null == _l.name && (_l.name = _l.alias), null == _l.alias && (_l.alias = _l.name), !_l.name)) {\n                  _context.next = 14;\n                  break;\n                }\n\n                throw new e(\"feature-layer:invalid-field-name\", \"field name is missing\", {\n                  field: _l\n                });\n\n              case 14:\n                if (!(_l.name === R && (_l.type = \"esriFieldTypeOID\"), -1 === j.jsonValues.indexOf(_l.type))) {\n                  _context.next = 16;\n                  break;\n                }\n\n                throw new e(\"feature-layer:invalid-field-type\", \"invalid type for field \\\"\".concat(_l.name, \"\\\"\"), {\n                  field: _l\n                });\n\n              case 16:\n                _context.next = 10;\n                break;\n\n              case 18:\n                _context.next = 23;\n                break;\n\n              case 20:\n                _context.prev = 20;\n                _context.t0 = _context[\"catch\"](8);\n\n                _iterator.e(_context.t0);\n\n              case 23:\n                _context.prev = 23;\n\n                _iterator.f();\n\n                return _context.finish(23);\n\n              case 26:\n                _O = {};\n                this._requiredFields = [];\n                _iterator2 = _createForOfIteratorHelper(n);\n\n                try {\n                  for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                    _e5 = _step2.value;\n\n                    if (\"esriFieldTypeOID\" !== _e5.type && \"esriFieldTypeGlobalID\" !== _e5.type) {\n                      _e5.editable = null == _e5.editable || !!_e5.editable, _e5.nullable = null == _e5.nullable || !!_e5.nullable;\n                      _t = E(_e5);\n                      _e5.nullable || void 0 !== _t ? _O[_e5.name] = _t : this._requiredFields.push(_e5);\n                    }\n                  }\n                } catch (err) {\n                  _iterator2.e(err);\n                } finally {\n                  _iterator2.f();\n                }\n\n                if (this._fieldsIndex = new _(n), this._createDefaultAttributes = y(_O, R), D) {\n                  if (D.startTimeField) {\n                    _e2 = this._fieldsIndex.get(D.startTimeField);\n                    _e2 ? (D.startTimeField = _e2.name, _e2.type = \"esriFieldTypeDate\") : D.startTimeField = null;\n                  }\n\n                  if (D.endTimeField) {\n                    _e3 = this._fieldsIndex.get(D.endTimeField);\n                    _e3 ? (D.endTimeField = _e3.name, _e3.type = \"esriFieldTypeDate\") : D.endTimeField = null;\n                  }\n\n                  if (D.trackIdField) {\n                    _e4 = this._fieldsIndex.get(D.trackIdField);\n                    _e4 ? D.trackIdField = _e4.name : (D.trackIdField = null, i.push({\n                      name: \"feature-layer:invalid-timeInfo-trackIdField\",\n                      message: \"trackIdField is missing\",\n                      details: {\n                        timeInfo: D\n                      }\n                    }));\n                  }\n\n                  D.startTimeField || D.endTimeField || (i.push({\n                    name: \"feature-layer:invalid-timeInfo\",\n                    message: \"startTimeField and endTimeField are missing or invalid\",\n                    details: {\n                      timeInfo: D\n                    }\n                  }), D = null);\n                }\n\n                w = {\n                  warnings: i,\n                  featureErrors: [],\n                  layerDefinition: _objectSpread(_objectSpread({}, q), {}, {\n                    drawingInfo: c(b),\n                    templates: m(_O),\n                    extent: I,\n                    geometryType: b,\n                    objectIdField: R,\n                    fields: n,\n                    hasZ: !!p,\n                    hasM: !!a,\n                    timeInfo: D\n                  }),\n                  assignedObjectIds: {}\n                };\n\n                if (!(this._queryEngine = new f({\n                  fields: n,\n                  geometryType: b,\n                  hasM: a,\n                  hasZ: p,\n                  objectIdField: R,\n                  spatialReference: g,\n                  featureStore: new d({\n                    geometryType: b,\n                    hasM: a,\n                    hasZ: p\n                  }),\n                  timeInfo: D,\n                  cacheSpatialQueries: !0\n                }), !s || !s.length)) {\n                  _context.next = 34;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", (this._nextObjectId = l, w));\n\n              case 34:\n                S = o(R, s);\n                this._nextObjectId = S + 1;\n                _context.next = 38;\n                return u(s, g);\n\n              case 38:\n                return _context.abrupt(\"return\", this._loadInitialFeatures(w, s));\n\n              case 39:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[8, 20, 23, 26]]);\n      }));\n\n      function load(_x) {\n        return _load.apply(this, arguments);\n      }\n\n      return load;\n    }()\n  }, {\n    key: \"applyEdits\",\n    value: function () {\n      var _applyEdits2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n        var _this$_queryEngine, t, i;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this$_queryEngine = this._queryEngine, t = _this$_queryEngine.spatialReference, i = _this$_queryEngine.geometryType;\n                _context2.next = 3;\n                return Promise.all([h(t, i), u(e.adds, t), u(e.updates, t)]);\n\n              case 3:\n                return _context2.abrupt(\"return\", this._applyEdits(e));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function applyEdits(_x2) {\n        return _applyEdits2.apply(this, arguments);\n      }\n\n      return applyEdits;\n    }()\n  }, {\n    key: \"queryFeatures\",\n    value: function queryFeatures(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this._queryEngine.executeQuery(e, t.signal);\n    }\n  }, {\n    key: \"queryFeatureCount\",\n    value: function queryFeatureCount(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this._queryEngine.executeQueryForCount(e, t.signal);\n    }\n  }, {\n    key: \"queryObjectIds\",\n    value: function queryObjectIds(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this._queryEngine.executeQueryForIds(e, t.signal);\n    }\n  }, {\n    key: \"queryExtent\",\n    value: function queryExtent(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this._queryEngine.executeQueryForExtent(e, t.signal);\n    }\n  }, {\n    key: \"querySnapping\",\n    value: function querySnapping(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this._queryEngine.executeQueryForSnapping(e, t.signal);\n    }\n  }, {\n    key: \"_inferLayerProperties\",\n    value: function _inferLayerProperties(e, i) {\n      var s,\n          r,\n          n = null,\n          a = null,\n          l = null;\n\n      var _iterator3 = _createForOfIteratorHelper(e),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _o = _step3.value;\n          var _e7 = _o.geometry;\n          if (_e7 && (n || (n = t(_e7)), a || (a = _e7.spatialReference), null == s && (s = R(_e7)), null == r && (r = D(_e7)), n && a && null != s && null != r)) break;\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      if (i && i.length) {\n        var _e6 = null;\n        i.some(function (t) {\n          var i = \"esriFieldTypeOID\" === t.type,\n              s = !t.type && t.name && \"objectid\" === t.name.toLowerCase();\n          return _e6 = t, i || s;\n        }) && (l = _e6.name);\n      }\n\n      return {\n        geometryType: n,\n        spatialReference: a,\n        objectIdField: l,\n        hasM: r,\n        hasZ: s\n      };\n    }\n  }, {\n    key: \"_loadInitialFeatures\",\n    value: function _loadInitialFeatures(e, i) {\n      var _this$_queryEngine2 = this._queryEngine,\n          s = _this$_queryEngine2.geometryType,\n          n = _this$_queryEngine2.hasM,\n          a = _this$_queryEngine2.hasZ,\n          l = _this$_queryEngine2.objectIdField,\n          o = _this$_queryEngine2.spatialReference,\n          d = _this$_queryEngine2.featureStore,\n          u = [];\n\n      var _iterator4 = _createForOfIteratorHelper(i),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var _r = _step4.value;\n\n          if (null != _r.uid && (e.assignedObjectIds[_r.uid] = -1), _r.geometry && s !== t(_r.geometry)) {\n            e.featureErrors.push(g(\"Incorrect geometry type.\"));\n            continue;\n          }\n\n          var _i2 = this._createDefaultAttributes(),\n              _n = I(this._fieldsIndex, _i2, _r.attributes, this._requiredFields, !0, e.warnings);\n\n          _n ? e.featureErrors.push(_n) : (this._assignObjectId(_i2, _r.attributes, !0), _r.attributes = _i2, null != _r.uid && (e.assignedObjectIds[_r.uid] = _r.attributes[l]), _r.geometry && (_r.geometry = p(_r.geometry, _r.geometry.spatialReference, o)), u.push(_r));\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      if (d.addMany(r([], u, s, a, n, l)), e.layerDefinition.extent = this._queryEngine.fullExtent, e.layerDefinition.timeInfo) {\n        var _this$_queryEngine$ti = this._queryEngine.timeExtent,\n            _t2 = _this$_queryEngine$ti.start,\n            _i = _this$_queryEngine$ti.end;\n        e.layerDefinition.timeInfo.timeExtent = [_t2, _i];\n      }\n\n      return e;\n    }\n  }, {\n    key: \"_applyEdits\",\n    value: function _applyEdits(e) {\n      var t = e.adds,\n          i = e.updates,\n          s = e.deletes,\n          r = {\n        addResults: [],\n        deleteResults: [],\n        updateResults: [],\n        uidToObjectId: {}\n      };\n\n      if (t && t.length && this._applyAddEdits(r, t), i && i.length && this._applyUpdateEdits(r, i), s && s.length) {\n        var _iterator5 = _createForOfIteratorHelper(s),\n            _step5;\n\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var _e8 = _step5.value;\n            r.deleteResults.push(b(_e8));\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n\n        this._queryEngine.featureStore.removeManyById(s);\n      }\n\n      return {\n        fullExtent: this._queryEngine.fullExtent,\n        featureEditResults: r\n      };\n    }\n  }, {\n    key: \"_applyAddEdits\",\n    value: function _applyAddEdits(e, i) {\n      var s = e.addResults,\n          _this$_queryEngine3 = this._queryEngine,\n          n = _this$_queryEngine3.geometryType,\n          a = _this$_queryEngine3.hasM,\n          l = _this$_queryEngine3.hasZ,\n          o = _this$_queryEngine3.objectIdField,\n          d = _this$_queryEngine3.spatialReference,\n          u = _this$_queryEngine3.featureStore,\n          f = [];\n\n      var _iterator6 = _createForOfIteratorHelper(i),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var _r2 = _step6.value;\n\n          if (_r2.geometry && n !== t(_r2.geometry)) {\n            s.push(g(\"Incorrect geometry type.\"));\n            continue;\n          }\n\n          var _i3 = this._createDefaultAttributes(),\n              _a = I(this._fieldsIndex, _i3, _r2.attributes, this._requiredFields);\n\n          if (_a) s.push(_a);else {\n            if (this._assignObjectId(_i3, _r2.attributes), _r2.attributes = _i3, null != _r2.uid) {\n              var _t3 = _r2.attributes[o];\n              e.uidToObjectId[_r2.uid] = _t3;\n            }\n\n            _r2.geometry && (_r2.geometry = p(F(_r2.geometry, d), _r2.geometry.spatialReference, d)), f.push(_r2), s.push(b(_r2.attributes[o]));\n          }\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n\n      u.addMany(r([], f, n, l, a, o));\n    }\n  }, {\n    key: \"_applyUpdateEdits\",\n    value: function _applyUpdateEdits(_ref, i) {\n      var e = _ref.updateResults;\n      var _this$_queryEngine4 = this._queryEngine,\n          s = _this$_queryEngine4.geometryType,\n          r = _this$_queryEngine4.hasM,\n          l = _this$_queryEngine4.hasZ,\n          o = _this$_queryEngine4.objectIdField,\n          d = _this$_queryEngine4.spatialReference,\n          u = _this$_queryEngine4.featureStore;\n\n      var _iterator7 = _createForOfIteratorHelper(i),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var _f = _step7.value;\n\n          var _i4 = _f.attributes,\n              _y = _f.geometry,\n              _c = _i4 && _i4[o];\n\n          if (null == _c) {\n            e.push(g(\"Identifier field \".concat(o, \" missing\")));\n            continue;\n          }\n\n          if (!u.has(_c)) {\n            e.push(g(\"Feature with object id \".concat(_c, \" missing\")));\n            continue;\n          }\n\n          var _m = n(u.getFeature(_c), s, l, r);\n\n          if (_y) {\n            if (s !== t(_y)) {\n              e.push(g(\"Incorrect geometry type.\"));\n              continue;\n            }\n\n            _m.geometry = p(F(_y, d), _y.spatialReference, d);\n          }\n\n          if (_i4) {\n            var _t4 = I(this._fieldsIndex, _m.attributes, _i4, this._requiredFields);\n\n            if (_t4) {\n              e.push(_t4);\n              continue;\n            }\n          }\n\n          u.add(a(_m, s, l, r, o)), e.push(b(_c));\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n    }\n  }, {\n    key: \"_assignObjectId\",\n    value: function _assignObjectId(e, t) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n      var s = this._queryEngine.objectIdField;\n      i && t && isFinite(t[s]) ? e[s] = t[s] : e[s] = this._nextObjectId++;\n    }\n  }]);\n\n  return O;\n}();\n\nexport default O;"],"sourceRoot":""}